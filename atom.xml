<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å°è±¡ç…œå¯’</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.yuhanle.com/"/>
  <updated>2018-07-05T01:20:43.887Z</updated>
  <id>https://blog.yuhanle.com/</id>
  
  <author>
    <name>ç…œå¯’äº†</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Vue çŸ¥è¯†ç‚¹æ€»ç»“</title>
    <link href="https://blog.yuhanle.com/2018/07/04/vue-tips/"/>
    <id>https://blog.yuhanle.com/2018/07/04/vue-tips/</id>
    <published>2018-07-04T01:00:00.000Z</published>
    <updated>2018-07-05T01:20:43.887Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡æ¯ç‡¥çš„çŸ¥è¯†æ€»ç»“ï¼Œå¸Œæœ›åœ¨æœ‰éœ€è¦çš„æ—¶å€™èƒ½å¤Ÿæ‰¾åˆ°å®ƒï¼</p><a id="more"></a><h2 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue-Router"></a>Vue-Router</h2><p>Vue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚</p><h3 id="é€šè¿‡å¯¹è·¯ç”±routeçš„åˆ¤æ–­æ¥è®¾ç½®-active-nameï¼Œopen-names"><a href="#é€šè¿‡å¯¹è·¯ç”±routeçš„åˆ¤æ–­æ¥è®¾ç½®-active-nameï¼Œopen-names" class="headerlink" title="é€šè¿‡å¯¹è·¯ç”±routeçš„åˆ¤æ–­æ¥è®¾ç½® active-nameï¼Œopen-names"></a>é€šè¿‡å¯¹è·¯ç”±routeçš„åˆ¤æ–­æ¥è®¾ç½® active-nameï¼Œopen-names</h3><p>åœ¨ä½¿ç”¨ <code>menu</code> ç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è·¯ç”±çš„ path æ¥é»˜è®¤é€‰ä¸­æŸä¸€ä¸ª tabï¼Œä¸‹é¢ç»™å‡ºçš„å°±æ˜¯æ ¹æ® fullpath æ¥è®¾ç½®é»˜è®¤ tab çš„å¥½æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;Menu ref=&quot;left_menu&quot; :theme=&quot;theme2&quot; width=&quot;auto&quot; active-name=&quot;currentPage&quot; :open-names=&quot;openedSubmenuArr&quot; accordion @on-select=&quot;changeMenu&quot;&gt;</span><br><span class="line">â€¦â€¦(çœç•¥ä»£ç )</span><br><span class="line">&lt;/Menu&gt;</span><br><span class="line">â€¦â€¦(çœç•¥ä»£ç )</span><br><span class="line">created() &#123;</span><br><span class="line">    console.log(&quot;router detect:&quot;, this.$route);</span><br><span class="line">    let path = this.$route.fullPath.match(/^\/(.*)\//);</span><br><span class="line">    this.currentPage = this.$route.name;</span><br><span class="line">    this.openedSubmenuArr = [].concat(path);</span><br><span class="line">    this.$nextTick(() =&gt; &#123;</span><br><span class="line">        this.$refs.left_menu.updateOpened();</span><br><span class="line">        this.$refs.left_menu.updateActiveName()</span><br><span class="line">      &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¦æœ‰é»˜è®¤å­è·¯ç”±ï¼Œé‚£çˆ¶è·¯ç”±çš„åå­—-name-å¾—å»æ‰"><a href="#è¦æœ‰é»˜è®¤å­è·¯ç”±ï¼Œé‚£çˆ¶è·¯ç”±çš„åå­—-name-å¾—å»æ‰" class="headerlink" title="è¦æœ‰é»˜è®¤å­è·¯ç”±ï¼Œé‚£çˆ¶è·¯ç”±çš„åå­— name å¾—å»æ‰"></a>è¦æœ‰é»˜è®¤å­è·¯ç”±ï¼Œé‚£çˆ¶è·¯ç”±çš„åå­— name å¾—å»æ‰</h3><p>å¼€å‘è¿‡ç¨‹ä¸­ï¼Œåœ¨é…ç½®è·¯ç”±é˜¶æ®µï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€ä¸‹è­¦å‘Šæç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[vue-router] Named Route <span class="string">'my'</span> has a <span class="keyword">default</span> child route.</span><br><span class="line"><span class="function">When navigating to <span class="keyword">this</span> named <span class="title">route</span> <span class="params">(:to=<span class="string">"&#123;name: 'my'"</span>)</span>, the <span class="keyword">default</span> child route will not be rendered.</span></span><br><span class="line"><span class="function">Remove the name from <span class="keyword">this</span> route and use the name of the <span class="keyword">default</span> child route <span class="keyword">for</span> named links instead.</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶ä»…ä»…æ˜¯è­¦å‘Šï¼Œä¸å½±å“åŠŸèƒ½å’Œæ˜¾ç¤ºï¼Œä½†æ˜¯ä¾ç„¶è¦è§£å†³å®ƒï¼Œé¿å…æ–°çš„é—®é¢˜äº§ç”Ÿã€‚è­¦å‘Šæç¤ºçš„å¤§æ¦‚æ„æ€æ˜¯ <strong><code>è¦æœ‰é»˜è®¤å­è·¯ç”±ï¼Œé‚£çˆ¶è·¯ç”±çš„åå­—nameå¾—å»æ‰</code></strong>ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ å­è·¯ç”± é‡Œå¦‚æœ‰æœ‰é»˜è®¤è·¯ç”±çš„è¯ï¼Œçˆ¶è·¯ç”±ä¸éœ€è¦è®¾ç½® <code>name</code> å­—æ®µã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Login'</span>,</span><br><span class="line">      component: Login</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/admin'</span>, <span class="comment">// =&gt; æ³¨æ„çˆ¶è·¯ç”±æ­¤å¤„ä¸è®¾ç½® name å­—æ®µ</span></span><br><span class="line">      component: Admin,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: <span class="string">'/'</span>,  <span class="comment">// =&gt; é»˜è®¤è·¯ç”±</span></span><br><span class="line">          redirect: <span class="string">'/admin/index'</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="é’©å­"><a href="#é’©å­" class="headerlink" title="é’©å­"></a>é’©å­</h3><p>å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è®¿é—®æŸä¸ªé¡µé¢ä¹‹å‰ï¼Œå…ˆåšä¸€æ¬¡å…³äº session çš„æ£€æŸ¥ï¼Œå¦‚æœä¸å­˜åœ¨ session çš„è¯ï¼Œè·³è½¬è‡³è®¤è¯é¡µé¢ï¼Œå°±éœ€è¦ä½¿ç”¨å¦‚ä¸‹è¿™ä¸ªé’©å­å‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (store.getters.token.length === <span class="number">0</span> &amp;&amp; to.path !== <span class="string">'/login'</span>) &#123;</span><br><span class="line">    next(<span class="string">'/login'</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    next()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¹Ÿæœ‰å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæ¯”å¦‚åœ¨åŠ è½½é¡µé¢è¿‡ç¨‹ä¸­ï¼Œé¡¶éƒ¨åŠ è½½è¿›åº¦æ¡ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®é’©å­ï¼Œåœ¨å¼€å§‹åŠ è½½æ—¶åŠ å…¥è¿›åº¦æ˜¾ç¤ºï¼Œè·¯ç”±ç»“æŸæ—¶éšè—å°±è¡Œã€‚</p><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><p>åœ¨å¾ˆå¤šäººçœ‹æ¥ï¼Œå‰ç«¯å¼€å‘çš„ç—›ç‚¹ï¼Œå°±æ˜¯çŠ¶æ€ç®¡ç†ï¼Œé¡µé¢ä¹‹é—´ä¼ å€¼ä¼šå¯¼è‡´ä»£ç çš„é«˜åº¦è€¦åˆï¼Œåœ¨æ¥è§¦ Vue çš„è¿‡ç¨‹ä¸­ï¼Œè‡ªç„¶æ˜¯è¦äº†è§£ Vuex çš„ä½¿ç”¨ã€‚ç±»ä¼¼äº redux å’Œ Mobx ä»¥åŠ Flux çš„æ¦‚å¿µï¼Œå…·ä½“ä½¿ç”¨ç»†èŠ‚åªè¦æŒ‰ç…§å®˜æ–¹æ–‡æ¡£å’Œæ•™ç¨‹æ“ä½œå°±è¡Œã€‚ä»¥ä¸‹è®°å½•ä¸­é—´éœ€è¦æ³¨æ„å’Œäº†è§£çš„çŸ¥è¯†ç‚¹ï¼š</p><h3 id="ä¸€ä¸ªå°ç¤ºä¾‹"><a href="#ä¸€ä¸ªå°ç¤ºä¾‹" class="headerlink" title="ä¸€ä¸ªå°ç¤ºä¾‹"></a>ä¸€ä¸ªå°ç¤ºä¾‹</h3><p>æˆ‘ä»¬å…ˆä»ä¸€ä¸ªå°ç¤ºä¾‹å¼€å§‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">      state.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    increment (context) &#123;</span><br><span class="line">      context.commit(<span class="string">'increment'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸šåŠ¡æ–¹ï¼Œé€šè¿‡ Action çš„ dispatch æ–¹æ³•æ¥è°ƒç”¨:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&apos;increment&apos;, ...)</span><br></pre></td></tr></table></figure><p>å¦å¤–ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»„åˆ Action çš„æ—¶å€™ï¼Œå®˜æ–¹ä¸å»ºè®®ä½¿ç”¨å¼‚æ­¥ï¼Œä½†æ˜¯æ ¹æ®å®æµ‹ç»“æœï¼Œå¼‚æ­¥è°ƒç”¨ç›®å‰æ²¡æœ‰å‘ç°ä»€ä¹ˆé—®é¢˜ã€‚</p><p>æ¥çœ‹ä¸€ä¸ªæ›´åŠ å®é™…çš„è´­ç‰©è½¦ç¤ºä¾‹ï¼Œæ¶‰åŠåˆ°<strong>è°ƒç”¨å¼‚æ­¥ API</strong> å’Œ<strong>åˆ†å‘å¤šé‡ mutation</strong>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  checkout (&#123; commit, state &#125;, products) &#123;</span><br><span class="line">    <span class="comment">// æŠŠå½“å‰è´­ç‰©è½¦çš„ç‰©å“å¤‡ä»½èµ·æ¥</span></span><br><span class="line">    <span class="keyword">const</span> savedCartItems = [...state.cart.added]</span><br><span class="line">    <span class="comment">// å‘å‡ºç»“è´¦è¯·æ±‚ï¼Œç„¶åä¹è§‚åœ°æ¸…ç©ºè´­ç‰©è½¦</span></span><br><span class="line">    commit(types.CHECKOUT_REQUEST)</span><br><span class="line">    <span class="comment">// è´­ç‰© API æ¥å—ä¸€ä¸ªæˆåŠŸå›è°ƒå’Œä¸€ä¸ªå¤±è´¥å›è°ƒ</span></span><br><span class="line">    shop.buyProducts(</span><br><span class="line">      products,</span><br><span class="line">      <span class="comment">// æˆåŠŸæ“ä½œ</span></span><br><span class="line">      () =&gt; commit(types.CHECKOUT_SUCCESS),</span><br><span class="line">      <span class="comment">// å¤±è´¥æ“ä½œ</span></span><br><span class="line">      () =&gt; commit(types.CHECKOUT_FAILURE, savedCartItems)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="mapState-amp-mapGetters"><a href="#mapState-amp-mapGetters" class="headerlink" title="mapState &amp; mapGetters"></a>mapState &amp; mapGetters</h3><p>ä½œä¸º Vuex çš„è¾…åŠ©æ–¹æ³•ï¼Œå¯ä»¥ç®€åŒ–æˆ‘ä»¬åœ¨ä¸šåŠ¡ä¸­å¯¹ store çš„å¼•ç”¨ï¼Œä¸å¿…å†å†™å¾ˆå¤šç¹ççš„æ˜ å°„ã€‚è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦åœ¨æ„çš„æ˜¯ï¼š</p><p>å¦‚æœä½ æœ‰ä½¿ç”¨ modules ä½¿ç”¨å¤šä¸ªæ¨¡å—ï¼Œåœ¨è°ƒç”¨ state çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨ <code>store.state.xxx.yyy</code>ï¼Œå…¶ä¸­ <code>xxx</code> æ˜¯æ¨¡å—åï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ¨¡å—åï¼Œ<code>yyy</code> å°±æ˜¯ state ä¸­å®šä¹‰çš„å­—æ®µåï¼›è€Œåœ¨ä½¿ç”¨ getters çš„æ—¶å€™ï¼Œä¸ç®¡å­˜åœ¨å¤šå°‘ modulesï¼Œéƒ½æ˜¯ç›´æ¥ä½¿ç”¨ <code>store.getters.yyy</code> çš„æ–¹å¼æ¥è·å–ã€‚</p><p>å¦å¤–ï¼ŒVuex ä¸ä»…ä»…æä¾›çŠ¶æ€åŒæ­¥å’Œä¿å­˜ï¼Œæ›´å¤šæ—¶å€™å¯ä»¥ä½œä¸º filter æ¥è¿‡æ»¤å¤„ç†è„æ•°æ®ï¼Œä¸šåŠ¡æ–¹æ— éœ€å…³å¿ƒåŸå§‹æ•°æ®ï¼Œé€šè¿‡æ¥å£å’Œå‚æ•°ï¼Œè·å–åˆ°è‡ªå·±æƒ³è¦çš„ç»“æœã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚ ä¸æ–­æ€»ç»“æ›´æ–°</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™æ˜¯ä¸€ç¯‡æ¯ç‡¥çš„çŸ¥è¯†æ€»ç»“ï¼Œå¸Œæœ›åœ¨æœ‰éœ€è¦çš„æ—¶å€™èƒ½å¤Ÿæ‰¾åˆ°å®ƒï¼&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="https://blog.yuhanle.com/categories/Vue/"/>
    
    
      <category term="tips" scheme="https://blog.yuhanle.com/tags/tips/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç ä¸­çš„ç¼©è¿›çº¿</title>
    <link href="https://blog.yuhanle.com/2018/04/24/line-of-sight-in-code/"/>
    <id>https://blog.yuhanle.com/2018/04/24/line-of-sight-in-code/</id>
    <published>2018-04-24T01:00:00.000Z</published>
    <updated>2018-07-05T01:24:58.518Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/studygolang/gctt-images/master/line-of-sight/1_CBjBs9EzL8q1AL6XvjjpJg.png" alt="æˆ‘åœ¨2016å¹´ä¼¦æ•¦Golangè‹±å›½ä¼šè®®ä¸Šè°ˆè®ºä»£ç ç¼©è¿›çº¿"></p><p>åœ¨è¿‘æœŸä¼¦æ•¦ä¸¾è¡Œçš„ <a href="https://www.youtube.com/watch?v=yeetIgNeIkc" target="_blank" rel="noopener">Golang è‹±å›½ä¼šè®®</a> ä¸Šï¼Œæˆ‘åœ¨<a href="https://www.youtube.com/watch?v=yeetIgNeIkc" target="_blank" rel="noopener">åœ°é“çš„Go è¯­è¨€çªé—¨</a> äº¤æµï¼ˆ<a href="http://go-talks.appspot.com/github.com/matryer/present/idiomatic-go-tricks/main.slide#1" target="_blank" rel="noopener">å¹»ç¯ç‰‡</a>ï¼‰ä¸­è®²åˆ°å…³äºä»£ç ä¸­çš„ç¼©è¿›çº¿ï¼Œ æˆ‘æƒ³åœ¨è¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹ã€‚</p><a id="more"></a><blockquote><p>ç¼©è¿›çº¿æ˜¯â€œè§‚å¯Ÿè€…æ— éšœç¢è§†çº¿çš„ç›´çº¿â€</p></blockquote><p><img src="https://raw.githubusercontent.com/studygolang/gctt-images/master/line-of-sight/1_nXXRSHi_1kmgorkcDHyc1Q.png" alt="ä»£ç ä¸­çš„ç¼©è¿›çº¿ï¼šå·¦å›¾çš„ç¼©è¿›æ˜¯é”™è¯¯å¤„ç†å’Œè¾¹ç¼˜æƒ…å†µçš„å¿«ä¹è·¯å¾„"></p><p>è‰¯å¥½çš„ä»£ç ç¼©è¿›çº¿ä¸ä»…å¯¹ä½ çš„åŠŸèƒ½æ²¡æœ‰ä»»ä½•å½±å“ï¼Œè¿˜å¯ä»¥å¸®åŠ©å…¶ä»–éœ€è¦çš„äººé˜…è¯»ä½ çš„ä»£ç ã€‚å…¶ä»–ç¨‹åºå‘˜ï¼ˆåŒ…æ‹¬ä½ æœªæ¥çš„è‡ªå·±ï¼‰å¯ä»¥æµè§ˆä¸€ä¸ªä¸“æ å¹¶ä¸”ç†è§£ä»£ç çš„é¢„æœŸæµç¨‹ã€‚å¦‚æœä»–ä»¬ä¸å¾—ä¸åœ¨è„‘å­é‡Œåˆ†æ <code>if</code> è¯­å¥ï¼Œè‹¥æ²¡æœ‰è‰¯å¥½çš„ç¼©è¿›çº¿ï¼Œå°†ä¼šä½¿è¿™ä¸ªä»»åŠ¡å˜å¾—éå¸¸è‰°éš¾ã€‚</p><blockquote><p>å¤§å¤šæ•°äººå…³æ³¨ç¼–å†™ä»£ç çš„ä»£ä»·ï¼ˆæ¯”å¦‚â€œè¿™éœ€è¦å¤šé•¿æ—¶é—´æ‰èƒ½å®Œæˆï¼Ÿâ€ï¼‰ä½†æ˜¯ç»´æŠ¤ä»£ç çš„æˆæœ¬è¦é«˜å¾—å¤š - ç‰¹åˆ«æ˜¯åœ¨æˆç†Ÿçš„é¡¹ç›®ä¸­ã€‚ è®©åŠŸèƒ½æ˜æ˜¾ï¼Œæ¸…æ™°ï¼Œç®€å•æ˜“æ‡‚æ‰æ˜¯è‡³å…³é‡è¦çš„ã€‚</p></blockquote><p>è‰¯å¥½ç¼©è¿›çº¿çš„å»ºè®®ï¼š</p><ul><li>è®©<a href="https://en.wikipedia.org/wiki/Happy_path" target="_blank" rel="noopener">å¿«ä¹è·¯å¾„</a>å±…å·¦ä¾§å¯¹é½ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¿«é€Ÿæ‰«æä¸€åˆ—æ¥æŸ¥çœ‹é¢„æœŸçš„æ‰§è¡Œæµç¨‹</li><li>ä¸è¦éšè—ç¼©è¿›å¤§æ‹¬å·ä¸­ä»£ç é€»è¾‘</li><li>å°½æ—©çš„é€€å‡º <code>function</code></li><li>é¿å… <code>else return</code>ï¼Œè€ƒè™‘ç¿»è½¬ <code>if</code> è¯­å¥</li><li>æŠŠ <code>return</code> å£°æ˜ä½œä¸ºæœ€åä¸€è¡Œ</li><li>æå– <code>function</code> å’Œ <code>method</code> ä»¥ä¿æŒç»“æ„å°å·§å’Œå¯è¯»</li><li>å¦‚æœä½ éœ€è¦å¤§ç¼©è¿›çš„ä»£ç ï¼Œè€ƒè™‘å½“åšä¸€ä¸ª <code>function</code> åˆ†è§£å‡ºæ¥</li></ul><p>å½“ç„¶ï¼Œä¼šæœ‰å¾ˆå¤šå¾ˆå¥½çš„ç†ç”±æ¥æ‰“ç ´æ‰€æœ‰è¿™äº›è§„åˆ™ - ä½†æ˜¯é‡‡ç”¨è¿™ç§é£æ ¼ä½œä¸ºé»˜è®¤è§„åˆ™ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„ä»£ç å˜å¾—æ›´å…·å¯è¯»æ€§ã€‚</p><h2 id="é¿å…-else-return"><a href="#é¿å…-else-return" class="headerlink" title="é¿å… else return"></a>é¿å… <code>else return</code></h2><p>ç¼–å†™å…·æœ‰è‰¯å¥½è§†è§‰æ•ˆæœçš„ä»£ç çš„å…³é”®æ˜¯ä¿æŒ <code>else</code> ç»“æ„å°å·§ï¼Œæˆ–è€…å¦‚æœå¯ä»¥çš„è¯ï¼Œå®Œå…¨é¿å…å®ƒä»¬ã€‚ çœ‹ä¸‹è¿™ä¸ªä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if something.OK() &#123;</span><br><span class="line">    something.Lock()</span><br><span class="line">    defer something.Unlock()</span><br><span class="line">    err := something.Do()</span><br><span class="line">    if err == nil &#123;</span><br><span class="line">        stop := StartTimer()</span><br><span class="line">        defer stop()</span><br><span class="line">        log.Println(&quot;working...&quot;)</span><br><span class="line">        doWork(something)</span><br><span class="line">        &lt;-something.Done() // wait for it</span><br><span class="line">        log.Println(&quot;finished&quot;)</span><br><span class="line">        return nil</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return err</span><br><span class="line">    &#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    return errors.New(&quot;something not ok&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä»£è¡¨äº†æˆ‘ä»¬æœ€åˆå¦‚ä½•æ€è€ƒæˆ‘ä»¬çš„åŠŸèƒ½åœ¨åšä»€ä¹ˆï¼ˆâ€œå¦‚æœæŸä»¶äº‹æƒ…æ²¡é—®é¢˜ï¼Œé‚£ä¹ˆå°±åšï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œé‚£ä¹ˆåšè¿™äº›äº‹æƒ…â€ç­‰ç­‰ï¼‰ï¼Œä½†æ˜¯å®ƒå˜å¾—å¾ˆéš¾éµå¾ªã€‚</p><p>ä¸Šé¢çš„ä»£ç å¾ˆéš¾éµå¾ªâ€™å¿«ä¹è·¯å¾„â€™ï¼ˆæ‰§è¡Œé¡ºåˆ©è¿›è¡Œçš„è·¯çº¿ï¼‰ã€‚å®ƒåœ¨ç¬¬äºŒè¡Œå¼€å§‹ç¼©è¿›å¹¶ä»é‚£é‡Œç»§ç»­ã€‚ å½“æˆ‘ä»¬æ£€æŸ¥æ¥è‡ª <code>something.Do()</code> çš„é”™è¯¯è¿”å›æ—¶ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥ç¼©è¿›ã€‚ äº‹å®ä¸Šï¼Œè¯­å¥â€œ <code>return nil</code> â€åœ¨ä»£ç ä¸­é—´å®Œå…¨ä¸¢å¤±ã€‚</p><p><code>else</code> ç»“æ„åœ¨ Go å’Œå…¶ä»–è¯­è¨€ä¸­ä½œä¸ºå•ä¸€è¡Œè¿”å›å¾ˆå¸¸è§ï¼Œå› ä¸ºå®ƒä»¬è¦å¤„ç†ä¸­æ­¢æˆ–é€€å‡ºå‡½æ•°ã€‚ æˆ‘è®¤ä¸ºä»–ä»¬ä¸èƒ½ä¿è¯ç¼©è¿›æˆ‘ä»¬çš„å…¶ä»–ä»£ç ã€‚</p><h2 id="ç¿»è½¬-if-è¯­å¥"><a href="#ç¿»è½¬-if-è¯­å¥" class="headerlink" title="ç¿»è½¬ if è¯­å¥"></a>ç¿»è½¬ if è¯­å¥</h2><p>å¦‚æœæˆ‘ä»¬è¦ç¿»è¯‘ <code>if</code> è¯­å¥<em>ï¼ˆå¦‚æœä½ å–œæ¬¢</em> ï¼Œ <em>å°±æŠŠå®ƒä»¬</em>ç¿»<em>è¿‡æ¥ï¼‰</em> ï¼Œä½ å¯ä»¥çœ‹åˆ°ä»£ç å˜å¾—æ›´åŠ å¯è¯»ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if !something.OK() &#123;  // flipped</span><br><span class="line">    return errors.New(&quot;something not ok&quot;)</span><br><span class="line">&#125;</span><br><span class="line">something.Lock()</span><br><span class="line">defer something.Unlock()</span><br><span class="line">err := something.Do()</span><br><span class="line">if err != nil &#123;       // flipped</span><br><span class="line">    return err</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stop := StartTimer()</span><br><span class="line">defer stop()</span><br><span class="line"></span><br><span class="line">log.Println(&quot;working...&quot;)</span><br><span class="line">doWork(something)</span><br><span class="line">&lt;-something.Done() // wait for it</span><br><span class="line">log.Println(&quot;finished&quot;)</span><br><span class="line">return nil</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨å°½æ—©é€€å‡ºï¼Œé€€å‡ºä»£ç ä¸æ­£å¸¸ä»£ç ä¸åŒã€‚è€Œä¸”ï¼Œ</p><ul><li>å¿«ä¹è·¯å¾„æ²¿ç€å·¦ä¾§å‘ä¸‹ä¿æŒï¼Œ</li><li>æˆ‘ä»¬ç¼©è¿›åªæ˜¯ä¸ºäº†å¤„ç†é”™è¯¯å’Œè¾¹ç¼˜æƒ…å†µï¼Œ</li><li>æˆ‘ä»¬çš„ <code>retutn</code> å£°æ˜â€œ <code>return nil</code> â€åœ¨æœ€åä¸€è¡Œï¼Œå¹¶ä¸”ï¼Œ</li><li>æˆ‘ä»¬æœ‰æ›´å°‘çš„ç¼©è¿›ä»£ç å—ã€‚</li></ul><h2 id="ä¿ƒè¿›å¤§å‹æ¡ä»¶å—çš„åŠŸèƒ½"><a href="#ä¿ƒè¿›å¤§å‹æ¡ä»¶å—çš„åŠŸèƒ½" class="headerlink" title="ä¿ƒè¿›å¤§å‹æ¡ä»¶å—çš„åŠŸèƒ½"></a>ä¿ƒè¿›å¤§å‹æ¡ä»¶å—çš„åŠŸèƒ½</h2><p>å¦‚æœä½ ä¸èƒ½é¿å…ä¸€ä¸ªç¬¨é‡çš„ <code>else</code> ç»“æ„æˆ–è‡ƒè‚¿çš„é€‰æ‹©åˆ‡æ¢çš„æƒ…å†µï¼ˆæˆ‘æ˜ç™½äº†ï¼Œæœ‰æ—¶å€™ä½ ä¸èƒ½ï¼‰ï¼Œé‚£ä¹ˆå°±è€ƒè™‘æŠŠæ¯ä¸ªç»“æ„åˆ†è§£æˆå®ƒè‡ªå·±çš„åŠŸèƒ½ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">func processValue(v interface&#123;&#125;) error &#123;</span><br><span class="line">    switch val := v.(type) &#123;</span><br><span class="line">    case string:</span><br><span class="line">        return processString(val)</span><br><span class="line">    case int:</span><br><span class="line">        return processInt(val)</span><br><span class="line">    case bool:</span><br><span class="line">        return processBool(val)</span><br><span class="line">    default:</span><br><span class="line">        return fmt.Errorf(&quot;unsupported type %T&quot;, v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ¯”è¯»å–å¤§é‡çš„å¤„ç†ä»£ç æ›´å®¹æ˜“é˜…è¯»ã€‚</p><h2 id="åˆ†äº«ä½ çš„ç»éªŒ"><a href="#åˆ†äº«ä½ çš„ç»éªŒ" class="headerlink" title="åˆ†äº«ä½ çš„ç»éªŒ"></a>åˆ†äº«ä½ çš„ç»éªŒ</h2><p>å¦‚æœä½ åŒæ„æˆ‘çš„è§‚ç‚¹ï¼Œè¯·è€ƒè™‘åˆ†äº«è¿™ç¯‡æ–‡ç«  - éšç€è¶Šæ¥è¶Šå¤šçš„äººæ³¨å†Œï¼Œæ›´å¥½çš„ï¼ˆæ›´ä¸€è‡´çš„ï¼‰Go ä»£ç å°†ä¼šå‡ºç°ã€‚</p><p>ä½ æœ‰ä¸€äº›éš¾ä»¥é˜…è¯»çš„ä»£ç å—ï¼Ÿ ä¸ºä»€ä¹ˆä¸åœ¨ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=zh-CN&amp;prev=search&amp;rurl=translate.google.com.hk&amp;sl=en&amp;sp=nmt4&amp;u=https://twitter.com/matryer&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700201&amp;usg=ALkJrhgR995EkjexZDOQl9LYu8Sl7eq3TA" target="_blank" rel="noopener">Twitter @matryer</a> ä¸Šåˆ†äº«å®ƒï¼Œå¯ä»¥çœ‹çœ‹æˆ‘ä»¬æ˜¯å¦å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªæ›´æ¸…æ´ï¼Œæ›´ç®€å•çš„ç‰ˆæœ¬ã€‚</p><h2 id="è‡´è°¢â€¦"><a href="#è‡´è°¢â€¦" class="headerlink" title="è‡´è°¢â€¦"></a>è‡´è°¢â€¦</h2><p>è¯„è®ºå®¶<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=zh-CN&amp;prev=search&amp;rurl=translate.google.com.hk&amp;sl=en&amp;sp=nmt4&amp;u=http://dave.cheney.net/&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700201&amp;usg=ALkJrhgTC1jmfDNNabAZ1iX8dJSOjyuddw" target="_blank" rel="noopener">æˆ´å¤«åˆ‡å°¼</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=zh-CN&amp;prev=search&amp;rurl=translate.google.com.hk&amp;sl=en&amp;sp=nmt4&amp;u=http://twitter.com/dahernan&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700201&amp;usg=ALkJrhhm04bLuew6j4VCw3ACIxtPeMMmxA" target="_blank" rel="noopener">å¤§å«åŸƒå°”å—å¾·æ–¯</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;hl=zh-CN&amp;prev=search&amp;rurl=translate.google.com.hk&amp;sl=en&amp;sp=nmt4&amp;u=https://twitter.com/goinggodotnet&amp;xid=17259,15700023,15700124,15700149,15700168,15700173,15700186,15700201&amp;usg=ALkJrhi57B943koWpS6pe4_aRslBMy-7mw" target="_blank" rel="noopener">å¨å»‰è‚¯å°¼è¿ª</a> ã€‚</p><hr><p>via: <a href="https://medium.com/@matryer/line-of-sight-in-code-186dd7cdea88" target="_blank" rel="noopener">https://medium.com/@matryer/line-of-sight-in-code-186dd7cdea88</a></p><p>ä½œè€…ï¼š<a href="https://medium.com/@matryer" target="_blank" rel="noopener">Mat Ryer</a>  è¯‘è€…ï¼š<a href="https://github.com/yuhanle" target="_blank" rel="noopener">yuhanle</a>  æ ¡å¯¹ï¼š<a href="https://github.com/polaris1119" target="_blank" rel="noopener">polaris1119</a></p><p>æœ¬æ–‡ç”± <a href="https://github.com/studygolang/GCTT" target="_blank" rel="noopener">GCTT</a> åŸåˆ›ç¼–è¯‘ï¼Œ<a href="https://studygolang.com/articles/12928" target="_blank" rel="noopener">Goè¯­è¨€ä¸­æ–‡ç½‘</a> è£èª‰æ¨å‡º</p><p>æœ¬æ–‡ç”± GCTT åŸåˆ›ç¿»è¯‘ï¼Œ<a href="https://studygolang.com/articles/12928" target="_blank" rel="noopener">Goè¯­è¨€ä¸­æ–‡ç½‘</a> é¦–å‘ã€‚ä¹Ÿæƒ³åŠ å…¥è¯‘è€…è¡Œåˆ—ï¼Œä¸ºå¼€æºåšä¸€äº›è‡ªå·±çš„è´¡çŒ®ä¹ˆï¼Ÿæ¬¢è¿åŠ å…¥ <a href="https://studygolang.com/gctt" target="_blank" rel="noopener">GCTT</a>ï¼<br>ç¿»è¯‘å·¥ä½œå’Œè¯‘æ–‡å‘è¡¨ä»…ç”¨äºå­¦ä¹ å’Œäº¤æµç›®çš„ï¼Œç¿»è¯‘å·¥ä½œéµç…§ <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank" rel="noopener">CC-BY-NC-SA åè®®è§„å®š</a>ï¼Œå¦‚æœæˆ‘ä»¬çš„å·¥ä½œæœ‰ä¾µçŠ¯åˆ°æ‚¨çš„æƒç›Šï¼Œè¯·åŠæ—¶è”ç³»æˆ‘ä»¬ã€‚<br>æ¬¢è¿éµç…§ <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh" target="_blank" rel="noopener">CC-BY-NC-SA åè®®è§„å®š</a> è½¬è½½ï¼Œæ•¬è¯·åœ¨æ­£æ–‡ä¸­æ ‡æ³¨å¹¶ä¿ç•™åŸæ–‡/è¯‘æ–‡é“¾æ¥å’Œä½œè€…/è¯‘è€…ç­‰ä¿¡æ¯ã€‚<br>æ–‡ç« ä»…ä»£è¡¨ä½œè€…çš„çŸ¥è¯†å’Œçœ‹æ³•ï¼Œå¦‚æœ‰ä¸åŒè§‚ç‚¹ï¼Œè¯·æ¥¼ä¸‹æ’é˜Ÿåæ§½</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/studygolang/gctt-images/master/line-of-sight/1_CBjBs9EzL8q1AL6XvjjpJg.png&quot; alt=&quot;æˆ‘åœ¨2016å¹´ä¼¦æ•¦Golangè‹±å›½ä¼šè®®ä¸Šè°ˆè®ºä»£ç ç¼©è¿›çº¿&quot;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿‘æœŸä¼¦æ•¦ä¸¾è¡Œçš„ &lt;a href=&quot;https://www.youtube.com/watch?v=yeetIgNeIkc&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Golang è‹±å›½ä¼šè®®&lt;/a&gt; ä¸Šï¼Œæˆ‘åœ¨&lt;a href=&quot;https://www.youtube.com/watch?v=yeetIgNeIkc&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åœ°é“çš„Go è¯­è¨€çªé—¨&lt;/a&gt; äº¤æµï¼ˆ&lt;a href=&quot;http://go-talks.appspot.com/github.com/matryer/present/idiomatic-go-tricks/main.slide#1&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å¹»ç¯ç‰‡&lt;/a&gt;ï¼‰ä¸­è®²åˆ°å…³äºä»£ç ä¸­çš„ç¼©è¿›çº¿ï¼Œ æˆ‘æƒ³åœ¨è¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Translate" scheme="https://blog.yuhanle.com/categories/Translate/"/>
    
      <category term="Go" scheme="https://blog.yuhanle.com/categories/Translate/Go/"/>
    
    
      <category term="Translate" scheme="https://blog.yuhanle.com/tags/Translate/"/>
    
      <category term="Go" scheme="https://blog.yuhanle.com/tags/Go/"/>
    
  </entry>
  
  <entry>
    <title>è®°å½•ä¸€æ¬¡ç®€å•çš„é€†å‘</title>
    <link href="https://blog.yuhanle.com/2018/04/24/a-simple-iosre/"/>
    <id>https://blog.yuhanle.com/2018/04/24/a-simple-iosre/</id>
    <published>2018-04-24T01:00:00.000Z</published>
    <updated>2018-07-05T01:14:52.554Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºçˆ±å¥‡è‰ºä¼šå‘˜åˆ°æœŸï¼Œäºæ˜¯äº§ç”Ÿé€†å‘APP çš„æƒ³æ³•ï¼Œå°šæœªæ‰¾åˆ°è§£å†³åŠæ³•ã€‚</p><h2 id="å®‰è£…MonkeyDev"><a href="#å®‰è£…MonkeyDev" class="headerlink" title="å®‰è£…MonkeyDev"></a>å®‰è£…MonkeyDev</h2><p>åŸæœ‰iOSOpenDevçš„å‡çº§ï¼Œéè¶Šç‹±æ’ä»¶å¼€å‘é›†æˆç¥å™¨ï¼</p><a id="more"></a><ul><li>å¯ä»¥ä½¿ç”¨Xcodeå¼€å‘CaptainHook Tweakã€Logos Tweak å’Œ Command-line Toolï¼Œåœ¨è¶Šç‹±æœºå™¨å¼€å‘æ’ä»¶ï¼Œè¿™æ˜¯åŸæ¥iOSOpenDevåŠŸèƒ½çš„è¿ç§»å’Œæ”¹è¿›ã€‚</li><li>åªéœ€æ‹–å…¥ä¸€ä¸ªç ¸å£³åº”ç”¨ï¼Œè‡ªåŠ¨é›†æˆclass-dumpã€restore-symbolã€Revealã€Cycriptå’Œæ³¨å…¥çš„åŠ¨æ€åº“å¹¶é‡ç­¾åå®‰è£…åˆ°éè¶Šç‹±æœºå™¨ã€‚</li><li>æ”¯æŒè°ƒè¯•è‡ªå·±ç¼–å†™çš„åŠ¨æ€åº“å’Œç¬¬ä¸‰æ–¹App</li><li>æ”¯æŒé€šè¿‡CocoaPodsç¬¬ä¸‰æ–¹åº”ç”¨é›†æˆSDKä»¥åŠéè¶Šç‹±æ’ä»¶ï¼Œç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡CocoaPodsæ­å»ºäº†ä¸€ä¸ªéè¶Šç‹±æ’ä»¶å•†åº—ã€‚</li></ul><p>å®‰è£…æ•™ç¨‹å¯å‚è€ƒï¼š<a href="https://github.com/AloneMonkey/MonkeyDev/wiki" target="_blank" rel="noopener">å®‰è£…</a></p><h2 id="å‡†å¤‡ç ¸å£³å®‰è£…åŒ…"><a href="#å‡†å¤‡ç ¸å£³å®‰è£…åŒ…" class="headerlink" title="å‡†å¤‡ç ¸å£³å®‰è£…åŒ…"></a>å‡†å¤‡ç ¸å£³å®‰è£…åŒ…</h2><p>ä¸€èˆ¬ä»æŸåŠ©æ‰‹ä¸Šä¸‹è½½çš„è¶Šç‹±ç‰ˆæœ¬ï¼Œå°±æ˜¯å·²ç»ç ¸å£³çš„ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªè¡Œé€šè¿‡ <a href="https://github.com/stefanesser/dumpdecrypted" target="_blank" rel="noopener">dumpdecrypted</a> å·¥å…·å®ç°ã€‚</p><h2 id="class-dump"><a href="#class-dump" class="headerlink" title="class-dump"></a>class-dump</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><strong>class-dump</strong> æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå®ƒåˆ©ç”¨äº† Objective-C è¯­è¨€çš„è¿è¡Œæ—¶ç‰¹æ€§ï¼Œå°†å­˜å‚¨åœ¨ Mach-O æ–‡ä»¶ä¸­çš„å¤´æ–‡ä»¶ä¿¡æ¯æå–å‡ºæ¥ï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„ .h æ–‡ä»¶ã€‚</p><h3 id="å®‰è£…-class-dump"><a href="#å®‰è£…-class-dump" class="headerlink" title="å®‰è£… class-dump"></a>å®‰è£… class-dump</h3><p>åˆ° <a href="http://stevenygard.com/projects/class-dump/" target="_blank" rel="noopener">class-dump å®˜ç½‘</a> è¿›è¡Œä¸‹è½½ï¼Œç›®å‰æœ€æ–°çš„ç‰ˆæœ¬ä¸º 3.5ã€‚</p><p>åœ¨ä¸ªäººç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>bin</code> ç›®å½•ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° PATH è·¯å¾„ä¸­ï¼Œç„¶åå°†ä¸‹è½½åçš„ class-dump-3.5.dmg é‡Œé¢çš„ class-dump å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°è¯¥ <code>bin</code> ç›®å½•ä¸‹ï¼Œèµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~/bin</span><br><span class="line">$ vim ~/.bash_profile</span><br><span class="line"># ç¼–è¾‘ ~/.bash_profile æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ä¸€è¡Œ</span><br><span class="line">export PATH=$HOME/bin/:$PATH</span><br><span class="line"></span><br><span class="line"># å°† class-dump æ‹·è´åˆ° bin ç›®å½•åæ‰§è¡Œä¸‹é¢å‘½ä»¤</span><br><span class="line">$ chmod +x ~/bin/class-dump</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-class-dump"><a href="#ä½¿ç”¨-class-dump" class="headerlink" title="ä½¿ç”¨ class-dump"></a>ä½¿ç”¨ class-dump</h3><p>åˆ°æœ€åä¸€æ­¥ï¼Œä»¥çˆ±å¥‡è‰ºä¸ºä¾‹ï¼Œä½¿ç”¨ class-dump æ¥å°†å¾®ä¿¡çš„å¤´æ–‡ä»¶å¯¼å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ class-dump -H iQiYiPhoneVideo.app -o Payload/</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæ‰€æœ‰çš„å¤´æ–‡ä»¶å°±éƒ½è¢«å¯¼å‡ºåˆ°äº† <code>.Payload/</code> ç›®å½•ä¸‹äº†ã€‚</p><p><img src="https://user-images.githubusercontent.com/10498756/39162346-a7f6fcb8-47a7-11e8-92d1-8a0e0f910036.png" alt="image"></p><h2 id="å¤´æ–‡ä»¶åˆ†æ"><a href="#å¤´æ–‡ä»¶åˆ†æ" class="headerlink" title="å¤´æ–‡ä»¶åˆ†æ"></a>å¤´æ–‡ä»¶åˆ†æ</h2><p>å¯ä»¥å€ŸåŠ© FLEX å·¥å…·æ¥æŸ¥çœ‹APP çš„å±‚çº§å’Œæ•°æ®ä»¥åŠæ¥å£å£°æ˜ï¼Œå¯ä»¥å¿«é€Ÿå®šä½æˆ‘ä»¬è¦ä¿®æ”¹çš„ä½ç½®</p><h3 id="å®‰è£…-FLEX"><a href="#å®‰è£…-FLEX" class="headerlink" title="å®‰è£… FLEX"></a>å®‰è£… FLEX</h3><p><a href="https://github.com/Flipboard/FLEX" target="_blank" rel="noopener">FLEX</a> å®˜æ–¹ä»“åº“ï¼Œé€šè¿‡Cocoapods å®‰è£…ä¾èµ–å³å¯ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">source <span class="string">'https://github.com/AloneMonkey/MonkeyDevSpecs.git'</span></span><br><span class="line"></span><br><span class="line">platform <span class="symbol">:ios</span>, <span class="string">'9.0'</span></span><br><span class="line"></span><br><span class="line">target <span class="string">'antrees'</span> <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># Uncomment the next line if you're using Swift or would like to use dynamic frameworks</span></span><br><span class="line">  <span class="comment"># use_frameworks!</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Pods for antrees</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">target <span class="string">'antreesDylib'</span> <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># Uncomment the next line if you're using Swift or would like to use dynamic frameworks</span></span><br><span class="line">  <span class="comment"># use_frameworks!</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># æ³¨æ„æ˜¯å®‰è£…åˆ°åŠ¨æ€åº“ è€Œä¸æ˜¯APP</span></span><br><span class="line">  <span class="comment"># Pods for antreesDylib</span></span><br><span class="line">  pod <span class="string">'FLEX'</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç´§æ¥ç€åœ¨ç¨‹åºå¯åŠ¨ä»¥åï¼Œæ·»åŠ FLEX çš„æ˜¾ç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">CHConstructor&#123;</span><br><span class="line">    NSLog(INSERT_SUCCESS_WELCOME);</span><br><span class="line">    </span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserverForName:UIApplicationDidFinishLaunchingNotification object:nil queue:[NSOperationQueue mainQueue] usingBlock:^(NSNotification * _Nonnull note) &#123;</span><br><span class="line">        [[FLEXManager sharedManager] showExplorer];</span><br><span class="line">#ifndef __OPTIMIZE__</span><br><span class="line">        CYListenServer(6666);</span><br><span class="line">        CycriptManager* manager = [CycriptManager sharedInstance];</span><br><span class="line">        [manager startDownloadCycript:NO];</span><br><span class="line">#endif</span><br><span class="line">        </span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœæ¼”ç¤º"><a href="#æ•ˆæœæ¼”ç¤º" class="headerlink" title="æ•ˆæœæ¼”ç¤º"></a>æ•ˆæœæ¼”ç¤º</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªFLipboard æ¥å®ç°æ“ä½œï¼Œå…·ä½“æ•ˆæœå¦‚ä¸‹</p><table><thead><tr><th style="text-align:center">ä¸»é¡µ</th><th style="text-align:center">èœå•</th><th style="text-align:center">è§†å›¾</th><th style="text-align:center">é€‰æ‹©</th></tr></thead><tbody><tr><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162331-94ee0fee-47a7-11e8-8a97-aec72ffba1b7.png" alt="image"></td><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162363-c0e9febe-47a7-11e8-8569-21ddef9f1f9c.png" alt="image"></td><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162378-d06b42b2-47a7-11e8-9687-a2e909151ea5.png" alt="image"></td><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162397-e1bfddca-47a7-11e8-8088-ac88bc83cf6b.png" alt="image"></td></tr></tbody></table><h3 id="å°å®æˆ˜"><a href="#å°å®æˆ˜" class="headerlink" title="å°å®æˆ˜"></a>å°å®æˆ˜</h3><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³å»æ‰Tab æ é‚£ä¸ªå¯æ¶çš„æ³¡æ³¡ï¼ˆæˆªå›¾éƒ¨åˆ†å·²å¤„ç†ï¼‰ï¼Œæˆ‘æ˜¯éå¸¸è®¨åŒé‚£ä¸ªåŠŸèƒ½ï¼Œæ„Ÿè§‰å¾ˆé¸¡è‚‹ï¼Œä½“éªŒæå·®ã€‚</p><p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>select</code> åŠŸèƒ½ç‚¹å‡»åº•éƒ¨èœå•æ ï¼Œç„¶åè¿›å…¥åˆ°è§†å›¾æŸ¥çœ‹å±‚çº§å…³ç³»ï¼Œæœ€ç»ˆæ‰¾åˆ°å¯¹åº”çš„å®ä¾‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">ä¸»é¡µ</th><th style="text-align:center">è§†å›¾1</th><th style="text-align:center">è§†å›¾2</th></tr></thead><tbody><tr><td style="text-align:center">å¤„ç†å‰</td><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162415-fa9508ca-47a7-11e8-9c25-55e8a1ccde35.png" alt="image"></td><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162445-178f1100-47a8-11e8-9d41-1b8c6bf3286a.png" alt="image"></td><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162508-7baa0f0a-47a8-11e8-92a6-1c71f6e0b48a.png" alt="image"></td></tr><tr><td style="text-align:center">å¤„ç†å</td><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162331-94ee0fee-47a7-11e8-8a97-aec72ffba1b7.png" alt="image"></td><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162490-531e8548-47a8-11e8-91aa-e3f0d9a3034f.png" alt="image"></td><td style="text-align:center"><img src="https://user-images.githubusercontent.com/10498756/39162508-7baa0f0a-47a8-11e8-92a6-1c71f6e0b48a.png" alt="image"></td></tr></tbody></table><p>ä»£ç å®ä¾‹å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">CHDeclareClass(TabbarView)</span><br><span class="line"></span><br><span class="line">CHOptimizedMethod0(self, NSArray*, TabbarView, tabbarImageArray)&#123;</span><br><span class="line">    //get origin value</span><br><span class="line">    NSMutableArray* originArray = CHSuper(0, TabbarView, tabbarImageArray).mutableCopy;</span><br><span class="line">    </span><br><span class="line">    [originArray removeLastObject];</span><br><span class="line">    </span><br><span class="line">    //change the value</span><br><span class="line">    return originArray.copy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CHOptimizedMethod0(self, NSArray*, TabbarView, tabbarTitleArray)&#123;</span><br><span class="line">    //get origin value</span><br><span class="line">    NSMutableArray* originArray = CHSuper(0, TabbarView, tabbarTitleArray).mutableCopy;</span><br><span class="line">    </span><br><span class="line">    [originArray removeLastObject];</span><br><span class="line">    </span><br><span class="line">    //change the value</span><br><span class="line">    return originArray.copy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CHConstructor &#123;</span><br><span class="line">    CHLoadLateClass(TabbarView);</span><br><span class="line">    CHHook0(TabbarView, tabbarImageArray);</span><br><span class="line">    CHHook0(TabbarView, tabbarTitleArray);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><img src="https://user-images.githubusercontent.com/10498756/39162834-08506cf0-47aa-11e8-9712-0c86beddf7b3.png" alt="image"></p><p>é€šè¿‡<a href="https://github.com/AloneMonkey/MonkeyDev" target="_blank" rel="noopener">MonkeyDev</a> å¤§å¤§é™ä½äº†é€†å‘å¼€å‘çš„é—¨æ§›ï¼Œä½¿å¾—é€†å‘å˜å¾—æ›´åŠ æœ‰è¶£å’Œæ›´å…·è§„èŒƒæ€§ã€‚é€šè¿‡é€†å‘ï¼Œå¯ä»¥å®ç°å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„åŠŸèƒ½ï¼Œç»™ä½ ä¸æ–­çš„æƒŠå–œï¼</p><p>ä¸‹é¢æ˜¯æœ¬æ¬¡å®è·µçš„ä»£ç ç¤ºä¾‹ï¼Œä¼šå‘˜å’Œå»å¹¿å‘Šç›¸å…³åŠŸèƒ½æš‚æœªå®ç°ï¼Œæ­£åœ¨å¯»æ±‚å…¶ä»–æ€è·¯~</p><p><a href="https://github.com/yuhanle/SimpleiOSRE" target="_blank" rel="noopener">SimpleiOSRE</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”±äºçˆ±å¥‡è‰ºä¼šå‘˜åˆ°æœŸï¼Œäºæ˜¯äº§ç”Ÿé€†å‘APP çš„æƒ³æ³•ï¼Œå°šæœªæ‰¾åˆ°è§£å†³åŠæ³•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®‰è£…MonkeyDev&quot;&gt;&lt;a href=&quot;#å®‰è£…MonkeyDev&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…MonkeyDev&quot;&gt;&lt;/a&gt;å®‰è£…MonkeyDev&lt;/h2&gt;&lt;p&gt;åŸæœ‰iOSOpenDevçš„å‡çº§ï¼Œéè¶Šç‹±æ’ä»¶å¼€å‘é›†æˆç¥å™¨ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="iOSRE" scheme="https://blog.yuhanle.com/categories/iOSRE/"/>
    
    
      <category term="iOSRE" scheme="https://blog.yuhanle.com/tags/iOSRE/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºä»€ä¹ˆæˆ‘é€‰æ‹©è®¤è¯† Flutter ï¼Ÿ</title>
    <link href="https://blog.yuhanle.com/2018/04/18/why-select-flutter/"/>
    <id>https://blog.yuhanle.com/2018/04/18/why-select-flutter/</id>
    <published>2018-04-18T01:00:00.000Z</published>
    <updated>2018-06-28T09:22:07.850Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://user-images.githubusercontent.com/10498756/38983320-a1888c34-43f6-11e8-8003-a38e7230b2fd.jpeg" alt="1_uq4-35mu2_32qvpnyqyt9q"></p><h2 id="Flutter-æ˜¯ä»€ä¹ˆ"><a href="#Flutter-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Flutter æ˜¯ä»€ä¹ˆ"></a>Flutter æ˜¯ä»€ä¹ˆ</h2><p>Flutter ç§»åŠ¨åº”ç”¨ç¨‹åº SDK æ˜¯ä¸ºå¼€å‘äººå‘˜æä¾›ä¸€ç§åˆ›å»ºå¿«æ·ã€ç¾è§‚çš„åº”ç”¨ç¨‹åºçš„æ–°æ–¹å¼ï¼Œä»è€Œæ‘†è„±è¿‡å»é‚£ç§åƒç¯‡ä¸€å¾‹çš„ appï¼Œå°è¯•è¿‡ Flutter çš„äººéƒ½ä¼šçœŸçš„çˆ±ä¸Šå®ƒã€‚<br><a id="more"></a></p><p>ä¸ä»»ä½•æ–°ç³»ç»Ÿä¸€æ ·ï¼Œç”¨æˆ·æƒ³çŸ¥é“ Flutter æœ‰ä»€ä¹ˆä¸ä¼—ä¸åŒä¹‹å¤„ï¼Œâ€œFlutter æœ‰ä»€ä¹ˆæ–°çš„æˆ–è€…ä»¤äººå…´å¥‹çš„ä¸œè¥¿å—ï¼Ÿâ€ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆç†çš„é—®é¢˜ï¼Œæœ¬æ–‡å°†ä»æŠ€æœ¯çš„è§’åº¦å›ç­” Flutter æœ‰ä»€ä¹ˆä¸œè¥¿è®©äººå…´å¥‹ï¼Œè€Œä¸”ç»™å‡ºå®ƒä¸ºä»€ä¹ˆè®©äººå…´å¥‹çš„åŸå› ã€‚</p><h3 id="Flutter-çš„ä¼˜åŠ¿"><a href="#Flutter-çš„ä¼˜åŠ¿" class="headerlink" title="Flutter çš„ä¼˜åŠ¿"></a>Flutter çš„ä¼˜åŠ¿</h3><ul><li>å“åº”å¼è§†å›¾çš„ä¼˜ç‚¹ï¼Œä¸éœ€è¦ JavaScript çš„æ¡¥æ¥å™¨</li><li>å¿«é€Ÿï¼Œæµç•…ï¼Œå¯é¢„æµ‹ ; ä»£ç å°† AOT ç¼–è¯‘ä¸ºæœ¬æœºï¼ˆARMï¼‰ä»£ç </li><li>å¼€å‘äººå‘˜å®Œå…¨æ§åˆ¶ UI ç»„ä»¶å’Œå¸ƒå±€</li><li>é…æœ‰ç¾è§‚ï¼Œå¯å®šåˆ¶çš„ UI ç»„ä»¶</li><li>å¼ºå¤§çš„å¼€å‘è€…å·¥å…·ï¼ŒæƒŠäººçš„çƒ­é‡æ–°åŠ è½½</li><li>æ€§èƒ½æ›´å¥½ï¼Œå…¼å®¹æ€§æ›´å¥½ï¼Œå¼€å‘èµ·æ¥æ›´æœ‰ä¹è¶£</li></ul><h2 id="ç³»ç»Ÿè¦æ±‚"><a href="#ç³»ç»Ÿè¦æ±‚" class="headerlink" title="ç³»ç»Ÿè¦æ±‚"></a>ç³»ç»Ÿè¦æ±‚</h2><p>ç›®å‰Flutteråªèƒ½åœ¨Macå’ŒLinux(64ä½)ä¸Šå·¥ä½œï¼Œä½¿ç”¨windowsçš„åŒå­¦å¯èƒ½è¦å€ŸåŠ©è™šæ‹Ÿæœºæ¥è¿›è¡Œå­¦ä¹ ã€‚</p><h2 id="æ¼”ç¤º"><a href="#æ¼”ç¤º" class="headerlink" title="æ¼”ç¤º"></a>æ¼”ç¤º</h2><table><thead><tr><th>android</th><th>iOS</th></tr></thead><tbody><tr><td><img src="https://user-images.githubusercontent.com/10498756/38983248-7b0b07c6-43f6-11e8-9ec7-48fad12f6554.png" alt="screenshot_1524033161"></td><td><img src="https://user-images.githubusercontent.com/10498756/38983259-83079246-43f6-11e8-96fd-99752cc17a0b.png" alt="simulator screen shot - iphone x - 2018-04-18 at 14 32 39"></td></tr></tbody></table><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="å®‰è£…Flutter-SDK"><a href="#å®‰è£…Flutter-SDK" class="headerlink" title="å®‰è£…Flutter SDK"></a>å®‰è£…Flutter SDK</h3><p>è¿™ä¸€æ­¥å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯å°†Flutteråœ¨githubä¸Šçš„æºç æ•´ä¸ªcloneä¸‹æ¥ï¼Œåœ¨é€‚å½“çš„ç›®å½•æ‰§è¡ŒğŸ‘‡å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git clone https://github.com/flutter/flutter.git</span><br><span class="line"><span class="meta">$</span> export PATH=`pwd`/flutter/bin:$PATH</span><br></pre></td></tr></table></figure><p>æ¥ç€è¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> flutter doctor</span><br></pre></td></tr></table></figure><p>ğŸ‘†è¿™ä¸ªå‘½ä»¤ä¼šå‘Šè¯‰ä½ ä½ çš„flutterè¿˜ç¼ºå°‘ä»€ä¹ˆä¾èµ–ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p><p>æ¥ç€è¿è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> flutter</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¬¡è¿è¡Œflutterå®ƒä¼šè‡ªåŠ¨ä¸‹è½½ä¸€äº›ä¾èµ–ï¼Œå¹¶ä¸”è¿›è¡Œè‡ªåŠ¨ç¼–è¯‘ã€‚éšåå†æ¬¡è¿è¡Œflutterå°±ä¼šè·³è¿‡è¿™äº›æ­¥éª¤</p><h3 id="å®‰è£…-Android-studio"><a href="#å®‰è£…-Android-studio" class="headerlink" title="å®‰è£… Android studio"></a>å®‰è£… Android studio</h3><p>å®˜æ–¹æŒ‡å¼•å®Œæˆå³å¯</p><h3 id="å®‰è£…Flutter"><a href="#å®‰è£…Flutter" class="headerlink" title="å®‰è£…Flutter"></a>å®‰è£…Flutter</h3><p>åå¥½è®¾ç½®ä¸­å®‰è£…æ’ä»¶</p><h3 id="å®‰è£…Dart"><a href="#å®‰è£…Dart" class="headerlink" title="å®‰è£…Dart"></a>å®‰è£…Dart</h3><p>åå¥½è®¾ç½®ä¸­å®‰è£…æ’ä»¶</p><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><h3 id="åˆ›å»ºå·¥ç¨‹"><a href="#åˆ›å»ºå·¥ç¨‹" class="headerlink" title="åˆ›å»ºå·¥ç¨‹"></a>åˆ›å»ºå·¥ç¨‹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter create &#123;projectName&#125;</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//å·¥ç¨‹æ ¹ç›®å½•ä¸‹æ‰§è¡Œ</span><br><span class="line">flutter packages get</span><br></pre></td></tr></table></figure><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><h3 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello world"></a>Hello world</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(</span><br><span class="line">    <span class="keyword">new</span> Center(</span><br><span class="line">      child: <span class="keyword">new</span> Text(</span><br><span class="line">        <span class="string">'Hello, world!'</span>,</span><br><span class="line">        textDirection: TextDirection.ltr,</span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.dart åŒæ ·ä½œä¸ºç¨‹åºçš„å…¥å£æ–‡ä»¶ï¼Œéœ€è¦å®ç°main å‡½æ•°</p><h2 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h2><ul><li><a href="https://docs.flutter.io/index.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&amp;mid=2247488206&amp;idx=1&amp;sn=ed6a81769f37324b947b9a0a97fbe522&amp;source=41#wechat_redirect" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆè¯´Flutter æ˜¯é©å‘½æ€§çš„</a></li><li><a href="http://www.infoq.com/cn/articles/why-flutter-uses-dart" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆFlutterä¼šé€‰æ‹© Dart ï¼Ÿ</a></li><li><a href="https://www.zhihu.com/question/50156415" target="_blank" rel="noopener">å¦‚ä½•è¯„ä»· Google çš„ Fuchsiaã€Androidã€iOS è·¨å¹³å°åº”ç”¨æ¡†æ¶ Flutterï¼Ÿ</a></li></ul><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ul><li>Android license status unknown.</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Hi everyone,</span><br><span class="line">type $flutter upgrade</span><br><span class="line">type $flutter doctor --android-licenses</span><br><span class="line">It might say some licenses are not accepted(something like that)</span><br><span class="line">you will be asked 'Do you want to review the licenses'?</span><br><span class="line">typey&lt;press enter&gt;</span><br><span class="line"></span><br><span class="line">accept all the licenses review.</span><br><span class="line"></span><br><span class="line">now check flutter again with $flutter doctor</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/10498756/38983320-a1888c34-43f6-11e8-8003-a38e7230b2fd.jpeg&quot; alt=&quot;1_uq4-35mu2_32qvpnyqyt9q&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Flutter-æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#Flutter-æ˜¯ä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;Flutter æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;/a&gt;Flutter æ˜¯ä»€ä¹ˆ&lt;/h2&gt;&lt;p&gt;Flutter ç§»åŠ¨åº”ç”¨ç¨‹åº SDK æ˜¯ä¸ºå¼€å‘äººå‘˜æä¾›ä¸€ç§åˆ›å»ºå¿«æ·ã€ç¾è§‚çš„åº”ç”¨ç¨‹åºçš„æ–°æ–¹å¼ï¼Œä»è€Œæ‘†è„±è¿‡å»é‚£ç§åƒç¯‡ä¸€å¾‹çš„ appï¼Œå°è¯•è¿‡ Flutter çš„äººéƒ½ä¼šçœŸçš„çˆ±ä¸Šå®ƒã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Flutter" scheme="https://blog.yuhanle.com/categories/Flutter/"/>
    
    
      <category term="Flutter" scheme="https://blog.yuhanle.com/tags/Flutter/"/>
    
  </entry>
  
  <entry>
    <title>Mac æ­å»º nginx+rtmp æ¨æµæœåŠ¡å™¨</title>
    <link href="https://blog.yuhanle.com/2018/03/12/live-broadcast-rtmp/"/>
    <id>https://blog.yuhanle.com/2018/03/12/live-broadcast-rtmp/</id>
    <published>2018-03-12T01:00:00.000Z</published>
    <updated>2018-07-05T01:19:00.988Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç›´æ’­åè®®é€‰æ‹©"><a href="#ç›´æ’­åè®®é€‰æ‹©" class="headerlink" title="ç›´æ’­åè®®é€‰æ‹©"></a>ç›´æ’­åè®®é€‰æ‹©</h2><p>å›½å†…å¸¸è§å…¬å¼€çš„ç›´æ’­åè®®æœ‰å‡ ä¸ªï¼šRTMPã€HLSã€HDLï¼ˆHTTP-FLVï¼‰ã€RTPï¼Œæˆ‘ä»¬æ¥é€ä¸€ä»‹ç»ã€‚</p><p><strong>RTMPåè®®ï¼š</strong></p><p>æ˜¯Adobeçš„ä¸“åˆ©åè®®ï¼Œç°åœ¨å¤§éƒ¨åˆ†å›½å¤–çš„CDNå·²ä¸æ”¯æŒã€‚åœ¨å›½å†…æµè¡Œåº¦å¾ˆé«˜ã€‚åŸå› æœ‰å‡ ä¸ªæ–¹é¢ï¼š</p><a id="more"></a><p>1ã€å¼€æºè½¯ä»¶å’Œå¼€æºåº“çš„æ”¯æŒç¨³å®šå®Œæ•´ã€‚å¦‚æ–—é±¼ä¸»æ’­å¸¸ç”¨çš„OBSè½¯ä»¶ï¼Œå¼€æºçš„librtmpåº“ï¼ŒæœåŠ¡ç«¯æœ‰nginx-rtmpæ’ä»¶ã€‚</p><p>2ã€æ’­æ”¾ç«¯å®‰è£…ç‡é«˜ã€‚åªè¦æµè§ˆå™¨æ”¯æŒFlashPlayerå°±èƒ½éå¸¸ç®€æ˜“çš„æ’­æ”¾RTMPçš„ç›´æ’­ï¼Œåè®®è¯¦è§£å¯ä»¥Googleäº†è§£ã€‚ç›¸å¯¹å…¶ä»–åè®®è€Œè¨€ï¼ŒRTMPåè®®åˆæ¬¡å»ºç«‹è¿æ¥çš„æ—¶å€™æ¡æ‰‹è¿‡ç¨‹è¿‡äºå¤æ‚ï¼ˆåº•å±‚åŸºäºTCPï¼Œè¿™é‡Œè¯´çš„æ˜¯RTMPåè®®æœ¬èº«çš„äº¤äº’ï¼‰ï¼Œè§†ä¸åŒçš„ç½‘ç»œçŠ¶å†µä¼šå¸¦æ¥ç»™é¦–å¼€å¸¦æ¥100msä»¥ä¸Šçš„å»¶è¿Ÿã€‚åŸºäºRTMPçš„ç›´æ’­ä¸€èˆ¬å†…å®¹å»¶è¿Ÿåœ¨2~5ç§’ã€‚</p><p><img src="http://blog.ucloud.cn/wp-content/uploads/2016/05/640-1.jpeg" alt="1"></p><p><strong>HTTP-FLV åè®®ï¼š</strong></p><p>å³ä½¿ç”¨HTTPåè®®æµå¼çš„ä¼ è¾“åª’ä½“å†…å®¹ã€‚ç›¸å¯¹äºRTMPï¼ŒHTTPæ›´ç®€å•å’Œå¹¿ä¸ºäººçŸ¥ï¼Œè€Œä¸”ä¸æ‹…å¿ƒè¢«Adobeçš„ä¸“åˆ©ç»‘æ¶ã€‚å†…å®¹å»¶è¿ŸåŒæ ·å¯ä»¥åšåˆ°2~5ç§’ï¼Œæ‰“å¼€é€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºHTTPæœ¬èº«æ²¡æœ‰å¤æ‚çš„çŠ¶æ€äº¤äº’ã€‚æ‰€ä»¥ä»å»¶è¿Ÿè§’åº¦æ¥çœ‹ï¼ŒHTTP-FLVè¦ä¼˜äºRTMPã€‚</p><p><strong>HLS åè®®ï¼š</strong></p><p>å³Http Live Streamingï¼Œæ˜¯ç”±è‹¹æœæå‡ºåŸºäºHTTPçš„æµåª’ä½“ä¼ è¾“åè®®ã€‚HLSæœ‰ä¸€ä¸ªéå¸¸å¤§çš„ä¼˜ç‚¹ï¼š<strong>HTML5å¯ä»¥ç›´æ¥æ‰“å¼€æ’­æ”¾ï¼›è¿™ä¸ªæ„å‘³ç€å¯ä»¥æŠŠä¸€ä¸ªç›´æ’­é“¾æ¥é€šè¿‡å¾®ä¿¡ç­‰è½¬å‘åˆ†äº«</strong>ï¼Œä¸éœ€è¦å®‰è£…ä»»ä½•ç‹¬ç«‹çš„APPï¼Œæœ‰æµè§ˆå™¨å³å¯ï¼Œæ‰€ä»¥æµè¡Œåº¦å¾ˆé«˜ã€‚<strong>ç¤¾äº¤ç›´æ’­APPï¼ŒHLSå¯ä»¥è¯´æ˜¯åˆšéœ€ï¼Œ</strong>ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸‹å…¶åŸç† ã€‚</p><p>åŸºäºHLSçš„ç›´æ’­æµURLæ˜¯ä¸€ä¸ªm3u8çš„æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†æœ€è¿‘è‹¥å¹²ä¸ªå°è§†é¢‘TSï¼ˆä¸€ç§è§†é¢‘å°è£…æ ¼å¼ï¼Œè¿™é‡Œå°±ä¸æ‰©å±•ä»‹ç»ï¼‰æ–‡ä»¶ï¼Œå¦‚ <a href="http://www.ucloud.cn/helloworld.m3u8" target="_blank" rel="noopener">http://www.ucloud.cn/helloworld.m3u8 </a> æ˜¯ä¸€ä¸ªç›´æ’­ç•™é“¾æ¥ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p><p><img src="http://blog.ucloud.cn/wp-content/uploads/2016/05/2-1.jpg" alt="2"></p><p>å‡è®¾åˆ—è¡¨é‡Œé¢çš„åŒ…å«5ä¸ªTSæ–‡ä»¶ï¼Œæ¯ä¸ªTSæ–‡ä»¶åŒ…å«5ç§’çš„è§†é¢‘å†…å®¹ï¼Œé‚£ä¹ˆæ•´ä½“çš„å»¶è¿Ÿå°±æ˜¯25ç§’ã€‚å½“ç„¶å¯ä»¥ç¼©çŸ­åˆ—è¡¨çš„é•¿åº¦å’Œå•ä¸ªTSæ–‡ä»¶çš„å¤§å°æ¥é™ä½å»¶è¿Ÿï¼Œæè‡´æ¥è¯´å¯ä»¥ç¼©å‡åˆ—è¡¨é•¿åº¦ä¸º1ï¼Œ1ç§’å†…å®¹çš„m3u8æ–‡ä»¶ï¼Œä½†æ˜¯ææ˜“å—ç½‘ç»œæ³¢åŠ¨å½±å“é€ æˆå¡é¡¿ã€‚</p><p>é€šè¿‡å…¬ç½‘çš„éªŒè¯ï¼Œç›®å‰æŒ‰åŒåŸç½‘ç»œå¯ä»¥åšåˆ°æ¯”è¾ƒå¥½çš„æ•ˆæœæ˜¯5~7ç§’çš„å»¶è¿Ÿï¼Œä¹Ÿæ˜¯ç»¼åˆæµç•…åº¦å’Œå†…å®¹å»¶è¿Ÿçš„ç»“æœã€‚é‚£ä¹ˆHTML5æ˜¯å¦å¯ä»¥æœ‰æ›´ä½å»¶è¿Ÿç›´æ¥æ‰“å¼€çš„ç›´æ’­æµæŠ€æœ¯å‘¢ï¼Ÿ æˆ‘ä»¬åœ¨æœ€åä¼šæ¢è®¨è¿™ä¸ªé—®é¢˜ã€‚</p><p><strong>RTP åè®®ï¼š</strong></p><p>å³Real-time Transport Protocolï¼Œç”¨äºInternetä¸Šé’ˆå¯¹å¤šåª’ä½“æ•°æ®æµçš„ä¸€ç§ä¼ è¾“å±‚åè®®ã€‚</p><p>å®é™…åº”ç”¨åœºæ™¯ä¸‹ç»å¸¸éœ€è¦RTCPï¼ˆRTP Control Protocolï¼‰é…åˆæ¥ä½¿ç”¨ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºRTCPä¼ è¾“äº¤äº’æ§åˆ¶çš„ä¿¡ä»¤ï¼ŒRTPä¼ è¾“å®é™…çš„åª’ä½“æ•°æ®ã€‚</p><p><strong>RTPåœ¨è§†é¢‘ç›‘æ§ã€è§†é¢‘ä¼šè®®ã€IPç”µè¯ä¸Šæœ‰å¹¿æ³›çš„åº”ç”¨</strong>ï¼Œå› ä¸ºè§†é¢‘ä¼šè®®ã€IPç”µè¯çš„ä¸€ä¸ªé‡è¦çš„ä½¿ç”¨ä½“éªŒï¼šå†…å®¹å®æ—¶æ€§å¼ºã€‚</p><p>å¯¹æ¯”ä¸ä¸Šè¿°3ç§æˆ–å®é™…æ˜¯2ç§åè®®ï¼ŒRTPå’Œå®ƒä»¬æœ‰ä¸€ä¸ªé‡è¦çš„åŒºåˆ«å°±æ˜¯é»˜è®¤æ˜¯ä½¿ç”¨UDPåè®®æ¥ä¼ è¾“æ•°æ®ï¼Œè€ŒRTMPå’ŒHTTPæ˜¯åŸºäºTCPåè®®ä¼ è¾“ã€‚ä¸ºä»€ä¹ˆUDP èƒ½åšåˆ°å¦‚æ­¤å®æ—¶çš„æ•ˆæœå‘¢ï¼Ÿå…³äºTCPå’ŒUDPå·®åˆ«çš„åˆ†ææ–‡ç« ä¸€æœä¸€å¤§æŠŠï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿°ï¼Œç®€å•æ¦‚æ‹¬ï¼š</p><p><strong>UDPï¼šå•ä¸ªæ•°æ®æŠ¥ï¼Œä¸ç”¨å»ºç«‹è¿æ¥ï¼Œç®€å•ï¼Œä¸å¯é ï¼Œä¼šä¸¢åŒ…ï¼Œä¼šä¹±åºï¼›</strong></p><p><strong>TCPï¼šæµå¼ï¼Œéœ€è¦å»ºç«‹è¿æ¥ï¼Œå¤æ‚ï¼Œå¯é **</strong> ï¼Œæœ‰åºã€‚**</p><p>å®æ—¶éŸ³è§†é¢‘æµçš„åœºæ™¯ä¸éœ€è¦å¯é ä¿éšœï¼Œå› æ­¤ä¹Ÿä¸éœ€è¦æœ‰é‡ä¼ çš„æœºåˆ¶ï¼Œå®æ—¶çš„çœ‹åˆ°å›¾åƒå£°éŸ³ï¼Œç½‘ç»œæŠ–åŠ¨æ—¶ä¸¢äº†ä¸€äº›å†…å®¹ï¼Œç”»é¢æ¨¡ç³Šå’ŒèŠ±å±ï¼Œå®Œå…¨ä¸é‡è¦ã€‚TCPä¸ºäº†é‡ä¼ ä¼šé€ æˆå»¶è¿Ÿä¸ä¸åŒæ­¥ï¼Œå¦‚æŸä¸€æˆªå†…å®¹å› ä¸ºé‡ä¼ ï¼Œå¯¼è‡´1ç§’ä»¥åæ‰åˆ°ï¼Œé‚£ä¹ˆæ•´ä¸ªå¯¹è¯å°±å»¶è¿Ÿäº†1ç§’ï¼Œéšç€ç½‘ç»œæŠ–åŠ¨ï¼Œå»¶è¿Ÿè¿˜ä¼šå¢åŠ æˆ2ç§’ã€3ç§’ï¼Œå¦‚æœå®¢æˆ·ç«¯æ’­æ”¾æ˜¯ä¸åŠ ä»¥å¤„ç†å°†ä¸¥é‡å½±å“ç›´æ’­çš„ä½“éªŒã€‚</p><p><strong>æ€»ç»“ä¸€ä¸‹ï¼š</strong>åœ¨ç›´æ’­åè®®çš„é€‰æ‹©ä¸­ï¼Œå¦‚æœé€‰æ‹©æ˜¯RTMPæˆ–HTTP-FLVåˆ™æ„å‘³ç€æœ‰2~5ç§’çš„å†…å®¹å»¶è¿Ÿï¼Œä½†æ˜¯å°±æ‰“å¼€å»¶è¿Ÿå¼€ï¼ŒHTTP-FLV è¦ä¼˜äºRTMPã€‚HLSåˆ™æœ‰5~7ç§’çš„å†…å®¹å»¶è¿Ÿã€‚é€‰æ‹©RTPè¿›è¡Œç›´æ’­åˆ™å¯ä»¥åšåˆ°1ç§’å†…çš„ç›´æ’­å»¶è¿Ÿã€‚ä½†å°±ç›®å‰æ‰€äº†è§£ï¼Œå„å¤§CDNå‚å•†æ²¡æœ‰æ”¯æŒåŸºäºRTPç›´æ’­çš„ï¼Œæ‰€ä»¥ç›®å‰å›½å†…ä¸»æµè¿˜æ˜¯RTMPæˆ–HTTP-FLVã€‚</p><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><h3 id="Homebrew-å®‰è£…"><a href="#Homebrew-å®‰è£…" class="headerlink" title="Homebrew å®‰è£…"></a>Homebrew å®‰è£…</h3><p>ç¡®è®¤æ˜¯å¦å·²ç»å®‰è£…:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man brow</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°ä¸‹é¢çš„ä»£ç ,è¯æ˜å·²ç»å®‰è£…è¿‡:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NAME  </span><br><span class="line">       brew - The missing package manager for macOS  </span><br><span class="line">  </span><br><span class="line">SYNOPSIS  </span><br><span class="line">       brew --version  </span><br><span class="line">       brew command [--verbose|-v] [options] [formula] ...</span><br></pre></td></tr></table></figure><p>å®‰è£…å‘½ä»¤:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br></pre></td></tr></table></figure><p>å¦‚æœå·²ç»å®‰è£…è¿‡ï¼Œè€Œæƒ³è¦å¸è½½:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)&quot;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æƒ³é‡è£…,å‡çº§ä¸€ä¸‹brow</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew update</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-nginx"><a href="#å®‰è£…-nginx" class="headerlink" title="å®‰è£… nginx"></a>å®‰è£… nginx</h3><p>æ‰§è¡Œå…‹éš†å‘½ä»¤ï¼Œgithub çš„é¡¹ç›®(<a href="https://github.com/denji/homebrew-nginx" target="_blank" rel="noopener">https://github.com/denji/homebrew-nginx</a>)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew tap denji/nginx</span><br></pre></td></tr></table></figure><p>æ³¨æ„brew tap homebrew/nginxæŠ¥ä¸‹é¢çš„é”™è¯¯ï¼Œhomebrew/nginxå·²ç»å¯ç”¨.</p><p> æŠ¥é”™ï¼šError: homebrew/nginx was deprecated. This tap is now empty as all its formulae were migrated.</p><p>æ‰§è¡Œå®‰è£…å‘½ä»¤:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nginx-full --with-rtmp-module</span><br></pre></td></tr></table></figure><p>è‡³æ­¤nginxå’Œrtmpæ¨¡å—å°±å®‰è£…å¥½äº†ï¼Œä¸‹é¢å¼€å§‹æ¥é…ç½®nginxçš„rtmpæ¨¡å—</p><p>æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹nginxå®‰è£…åœ¨ä»€ä¹ˆåœ°æ–¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew info nginx-full</span><br></pre></td></tr></table></figure><p>nginxå®‰è£…æ‰€åœ¨ä½ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/opt/nginx-full/bin/nginx</span><br></pre></td></tr></table></figure><p>nginxé…ç½®æ–‡ä»¶æ‰€åœ¨ä½ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œ-NGINX"><a href="#è¿è¡Œ-NGINX" class="headerlink" title="è¿è¡Œ NGINX"></a>è¿è¡Œ NGINX</h3><p>å¯åŠ¨nginx,æ‰§è¡Œå‘½ä»¤:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨åœ°å€æ è¾“å…¥ï¼š<a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080</a></p><p><img src="http://img.blog.csdn.net/20180309112217266" alt="img"></p><p>å‡ºç°ä»¥ä¸Šç•Œé¢,è¯´æ˜å®‰è£…æˆåŠŸ.</p><p>å¦‚æœç»ˆç«¯ä¸Šæç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx: [emerg] bind() to 0.0.0.0:8080 failed (48: Address already in use)</span><br></pre></td></tr></table></figure><p>åˆ™è¡¨ç¤º8080ç«¯å£è¢«å ç”¨äº†, æŸ¥çœ‹ç«¯å£PID</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof -i tcp:8080</span><br></pre></td></tr></table></figure><p>killæ‰å ç”¨8080ç«¯å£çš„PID</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill 9663ï¼ˆè¿™é‡Œæ›¿æ¢æˆå ç”¨8080ç«¯å£çš„PIDï¼‰</span><br></pre></td></tr></table></figure><p>é‡æ–°æ‰§è¡Œnginxâ€¦</p><h4 id="nginxå¸¸ç”¨æ–¹æ³•"><a href="#nginxå¸¸ç”¨æ–¹æ³•" class="headerlink" title="nginxå¸¸ç”¨æ–¹æ³•:"></a>nginxå¸¸ç”¨æ–¹æ³•:</h4><p>é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><p>é‡æ–°åŠ è½½æ—¥å¿—:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reopen</span><br></pre></td></tr></table></figure><p>åœæ­¢ nginx:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s stop</span><br></pre></td></tr></table></figure><p>æœ‰åºé€€å‡º nginx:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s quit</span><br></pre></td></tr></table></figure><h3 id="é…ç½®-RTMP"><a href="#é…ç½®-RTMP" class="headerlink" title="é…ç½® RTMP"></a>é…ç½® RTMP</h3><p>ä¿®æ”¹nginx.confè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œé…ç½®rtmp</p><p>å¤åˆ¶nginxé…ç½®æ–‡ä»¶æ‰€åœ¨ä½ç½®:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šé¢å‘½ä»¤ç›´æ¥ç¼–è¾‘,æˆ–è€…ç›´æ¥å‰å¾€å½“å‰æ–‡ä»¶ç”¨è®°äº‹æœ¬æ‰“å¼€.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http &#123;  </span><br><span class="line"> â€‹  â€¦â€¦  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨httpèŠ‚ç‚¹åé¢åŠ ä¸Šrtmpé…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">rtmp &#123;  </span><br><span class="line">  server &#123;  </span><br><span class="line">    listen 2016;  </span><br><span class="line">    application rtmplive &#123;  </span><br><span class="line">    live on;  </span><br><span class="line">    record off;  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘å®Œæˆä¹‹å,æ‰§è¡Œä¸€ä¸‹é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶å‘½ä»¤:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure><p>é‡å¯nginxï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/local/opt/nginx-full/bin/nginx -s reload</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-FFmpeg-å·¥å…·"><a href="#å®‰è£…-FFmpeg-å·¥å…·" class="headerlink" title="å®‰è£… FFmpeg å·¥å…·"></a>å®‰è£… FFmpeg å·¥å…·</h3><p>æ³¨:ffmepgè½¬ç å·¥å…·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install ffmpeg</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆä¹‹å</p><p>å®‰è£…ä¸€ä¸ªæ”¯æŒrtmpåè®®çš„è§†é¢‘æ’­æ”¾å™¨ï¼ŒMacä¸‹å¯ä»¥ç”¨VLC</p><p>æœ¬åœ°ä¸‹è½½ä¸€ä¸ªè§†é¢‘æ–‡ä»¶è·¯å¾„ä¸º /Users/yuhanle/Downloads/test.mp4</p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -re -i /Users/yuhanle/Downloads/test.mp4 -vcodec libx264 -acodec aac -strict -2 -f flv rtmp://localhost:2016/rtmplive/room</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰“å¼€ VLC ä¸­ çš„ file â€“ Open Network, ç›´æ¥è¾“å…¥ä»£ç ä¸­çš„ url:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rtmp://localhost:2016/rtmplive/room</span><br></pre></td></tr></table></figure><p>ç„¶åè¿›è¡Œæ’­æ”¾</p><h2 id="FFmpeg-æ¨æµ"><a href="#FFmpeg-æ¨æµ" class="headerlink" title="FFmpeg æ¨æµ"></a>FFmpeg æ¨æµ</h2><p>1ã€æ¡Œé¢å½•åˆ¶æˆ–è€…åˆ†äº«</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -f avfoundation -i &quot;1&quot; -vcodec libx264 -preset ultrafast -acodec libfaac -f flv rtmp://localhost:2016/rtmplive/room</span><br></pre></td></tr></table></figure><p>2ã€æ¡Œé¢+éº¦å…‹é£</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -f avfoundation -i &quot;1:0&quot; -vcodec libx264 -preset ultrafast -acodec libmp3lame -ar 44100 -ac 1 -f flv rtmp://localhost:2016/rtmplive/room</span><br></pre></td></tr></table></figure><p>3ã€æ¡Œé¢+éº¦å…‹é£ï¼Œå¹¶ä¸”è¿˜è¦æ‘„åƒå¤´æ‹æ‘„åˆ°è‡ªå·±</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -f avfoundation -framerate 30 -i &quot;1:0&quot; \-f avfoundation -framerate 30 -video_size 640x480 -i &quot;0&quot; \-c:v libx264 -preset ultrafast \-filter_complex &apos;overlay=main_w-overlay_w-10:main_h-overlay_h-10&apos; -acodec libmp3lame -ar 44100 -ac 1 -f flv rtmp://localhost:2016/rtmplive/room</span><br></pre></td></tr></table></figure><h2 id="LFLiveKit"><a href="#LFLiveKit" class="headerlink" title="LFLiveKit"></a>LFLiveKit</h2><p><img src="https://camo.githubusercontent.com/34026396e449a30121c9fe86707423305663462f/68747470733a2f2f7261772e6769746875622e636f6d2f4c616946656e67694f532f4c464c6976654b69742f6d61737465722f73616d706c65732f49636f6e2e706e67" alt=""></p><p>LaiFeng IOS Live Kit,H264 and AAC Hard codingï¼Œsupport GPUImage Beautyï¼Œ rtmp transmissionï¼Œweak network lost frameï¼ŒDynamic switching rate</p><p>é€šè¿‡é›†æˆ <a href="https://github.com/LaiFengiOS/LFLiveKit" target="_blank" rel="noopener">LFLiveKit</a>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ‰‹æœºå½•åˆ¶å¹¶æ¨é€è‡³ç›´æ’­é—´åœ°å€ï¼Œç„¶åä½¿ç”¨æ’­æ”¾ç«¯ç›´æ¥æ’­æ”¾è§†é¢‘ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="http://blog.ucloud.cn/archives/699" target="_blank" rel="noopener">å…³äºç›´æ’­ï¼Œæ‰€æœ‰çš„æŠ€æœ¯ç»†èŠ‚éƒ½åœ¨è¿™é‡Œäº†ï¼ˆäºŒï¼‰</a><br><a href="http://blog.ucloud.cn/?p=694" target="_blank" rel="noopener">å…³äºç›´æ’­ï¼Œæ‰€æœ‰çš„æŠ€æœ¯ç»†èŠ‚éƒ½åœ¨è¿™é‡Œäº†ï¼ˆä¸€ï¼‰</a><br><a href="http://blog.csdn.net/zcvbnh/article/details/79495285" target="_blank" rel="noopener">Mac æ­å»º nginx+rtmp æœåŠ¡å™¨-å¸¦ä½ å‡ºå‘</a><br><a href="http://www.voidcn.com/article/p-abhhplih-p.html" target="_blank" rel="noopener">åœ¨Macç³»ç»Ÿä¸Šæ­å»ºiOSæ‰‹æœºæ¨æµæœåŠ¡å™¨ç›¸å…³æ€»ç»“</a><br><a href="http://9dic.com/ios/2016/07/15/install-nginx+rtmp-on-mac/" target="_blank" rel="noopener">Macæ­å»ºnginx+rtmpæœåŠ¡å™¨ æ¨æµ</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ç›´æ’­åè®®é€‰æ‹©&quot;&gt;&lt;a href=&quot;#ç›´æ’­åè®®é€‰æ‹©&quot; class=&quot;headerlink&quot; title=&quot;ç›´æ’­åè®®é€‰æ‹©&quot;&gt;&lt;/a&gt;ç›´æ’­åè®®é€‰æ‹©&lt;/h2&gt;&lt;p&gt;å›½å†…å¸¸è§å…¬å¼€çš„ç›´æ’­åè®®æœ‰å‡ ä¸ªï¼šRTMPã€HLSã€HDLï¼ˆHTTP-FLVï¼‰ã€RTPï¼Œæˆ‘ä»¬æ¥é€ä¸€ä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RTMPåè®®ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯Adobeçš„ä¸“åˆ©åè®®ï¼Œç°åœ¨å¤§éƒ¨åˆ†å›½å¤–çš„CDNå·²ä¸æ”¯æŒã€‚åœ¨å›½å†…æµè¡Œåº¦å¾ˆé«˜ã€‚åŸå› æœ‰å‡ ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="live" scheme="https://blog.yuhanle.com/categories/live/"/>
    
    
      <category term="live" scheme="https://blog.yuhanle.com/tags/live/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åœ¨ GitHub Pages ä¸Šéƒ¨ç½² vue-cli é¡¹ç›®</title>
    <link href="https://blog.yuhanle.com/2018/03/06/deploy-the-vue-cli-project-on-github-pages/"/>
    <id>https://blog.yuhanle.com/2018/03/06/deploy-the-vue-cli-project-on-github-pages/</id>
    <published>2018-03-06T01:55:34.000Z</published>
    <updated>2018-07-05T01:16:52.891Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-åœ¨-GitHub-ä¸Šåˆ›å»ºä¸æœ¬åœ°é¡¹ç›®åŒåçš„è¿œç¨‹ä»“åº“"><a href="#1-åœ¨-GitHub-ä¸Šåˆ›å»ºä¸æœ¬åœ°é¡¹ç›®åŒåçš„è¿œç¨‹ä»“åº“" class="headerlink" title="1. åœ¨ GitHub ä¸Šåˆ›å»ºä¸æœ¬åœ°é¡¹ç›®åŒåçš„è¿œç¨‹ä»“åº“"></a>1. åœ¨ GitHub ä¸Šåˆ›å»ºä¸æœ¬åœ°é¡¹ç›®åŒåçš„è¿œç¨‹ä»“åº“</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç›´æ¥åœ¨GitHub ä¸Šæ–°å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“</span><br></pre></td></tr></table></figure><h3 id="2-å°†æœ¬åœ°é¡¹ç›®-push-åˆ°è¿œç¨‹"><a href="#2-å°†æœ¬åœ°é¡¹ç›®-push-åˆ°è¿œç¨‹" class="headerlink" title="2. å°†æœ¬åœ°é¡¹ç›® push åˆ°è¿œç¨‹"></a>2. å°†æœ¬åœ°é¡¹ç›® push åˆ°è¿œç¨‹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br><span class="line">$ git add .</span><br><span class="line">$ git cmt -m &apos;create project&apos;</span><br><span class="line">$ git remote add origin git@github.com:yuhanle/resume.git</span><br><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="3-å°†-dist-ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹-push-åˆ°-gh-pages"><a href="#3-å°†-dist-ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹-push-åˆ°-gh-pages" class="headerlink" title="3. å°† dist ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹ push åˆ° gh-pages"></a>3. å°† dist ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹ push åˆ° gh-pages</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ npm run build</span><br><span class="line">$ git checkout -b gh-pages</span><br><span class="line">$ git add -f dist</span><br><span class="line">$ git commit -m &apos;create project&apos;</span><br><span class="line">$ git subtree push --prefix dist origin gh-pages</span><br></pre></td></tr></table></figure><p>è¿™äº›æ­¥éª¤åšå®Œä¹‹ååœ¨ gh-pages åˆ†æ”¯å±•ç¤ºé¡¹ç›®äº†ï¼Œæ¯”å¦‚<br><a href="https://yuhanle.github.io/resume/" target="_blank" rel="noopener">https://yuhanle.github.io/resume/</a></p><h3 id="4-èµ„æºè·¯å¾„é”™è¯¯é—®é¢˜"><a href="#4-èµ„æºè·¯å¾„é”™è¯¯é—®é¢˜" class="headerlink" title="4. èµ„æºè·¯å¾„é”™è¯¯é—®é¢˜"></a>4. èµ„æºè·¯å¾„é”™è¯¯é—®é¢˜</h3><ol><li>åœ¨ <code>npm run build</code> ä¹‹å‰è¦å°† <code>config/index.js</code> é‡Œè¾¹ <code>build</code> é…ç½®é‡Œè¾¹çš„ <code>assetsPublicPath: &#39;/&#39;</code> æ”¹æˆ <code>assetsPublicPath: &#39;./&#39;</code></li><li>å°† <code>webpack.prod.conf.js</code> ä¸­çš„ <code>removeAttributeQuotes</code> æ”¹ä¸º <code>false</code></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-åœ¨-GitHub-ä¸Šåˆ›å»ºä¸æœ¬åœ°é¡¹ç›®åŒåçš„è¿œç¨‹ä»“åº“&quot;&gt;&lt;a href=&quot;#1-åœ¨-GitHub-ä¸Šåˆ›å»ºä¸æœ¬åœ°é¡¹ç›®åŒåçš„è¿œç¨‹ä»“åº“&quot; class=&quot;headerlink&quot; title=&quot;1. åœ¨ GitHub ä¸Šåˆ›å»ºä¸æœ¬åœ°é¡¹ç›®åŒåçš„è¿œç¨‹ä»“åº“&quot;&gt;&lt;/a&gt;1. åœ¨ GitHub ä¸Šåˆ›å»ºä¸æœ¬åœ°é¡¹ç›®åŒåçš„è¿œç¨‹ä»“åº“&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ç›´æ¥åœ¨GitHub ä¸Šæ–°å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;2-å°†æœ¬åœ°é¡¹ç›®-push-åˆ°è¿œç¨‹&quot;&gt;&lt;a href=&quot;#2-å°†æœ¬åœ°é¡¹ç›®-push-åˆ°è¿œç¨‹&quot; class=&quot;headerlink&quot; title=&quot;2. å°†æœ¬åœ°é¡¹ç›® push åˆ°è¿œç¨‹&quot;&gt;&lt;/a&gt;2. å°†æœ¬åœ°é¡¹ç›® push åˆ°è¿œç¨‹&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ git init&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ git add .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ git cmt -m &amp;apos;create project&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ git remote add origin git@github.com:yuhanle/resume.git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ git push -u origin master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="BIGFE" scheme="https://blog.yuhanle.com/categories/BIGFE/"/>
    
    
      <category term="vue" scheme="https://blog.yuhanle.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Go å®ç°å¯¹ HTTP å¯¹è±¡çš„æŸ¥æ‰¾</title>
    <link href="https://blog.yuhanle.com/2018/02/24/seeking-around-in-an-http-object/"/>
    <id>https://blog.yuhanle.com/2018/02/24/seeking-around-in-an-http-object/</id>
    <published>2018-02-24T01:00:00.000Z</published>
    <updated>2018-07-05T01:14:33.978Z</updated>
    
    <content type="html"><![CDATA[<p>å·²å‘å¸ƒï¼š<a href="https://studygolang.com/articles/12638" target="_blank" rel="noopener">https://studygolang.com/articles/12638</a></p><h1 id="Go-å®ç°å¯¹-HTTP-å¯¹è±¡çš„æŸ¥æ‰¾"><a href="#Go-å®ç°å¯¹-HTTP-å¯¹è±¡çš„æŸ¥æ‰¾" class="headerlink" title="Go å®ç°å¯¹ HTTP å¯¹è±¡çš„æŸ¥æ‰¾"></a>Go å®ç°å¯¹ HTTP å¯¹è±¡çš„æŸ¥æ‰¾</h1><p>æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ <code>HTTP</code> æœåŠ¡å™¨ä¸Šæœ‰ä¸€ä¸ªå·¨å¤§çš„ <code>ZIP</code> æ–‡ä»¶ï¼Œä½ æƒ³çŸ¥é“é‡Œé¢çš„å†…å®¹ã€‚ä½ ä¸çŸ¥é“å‹ç¼©åŒ…å†…æ˜¯å¦æœ‰ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œè€Œä¸”ä½ ä¸æƒ³ä¸‹è½½æ•´ä¸ªæ–‡ä»¶ã€‚æ˜¯å¦å¯ä»¥åƒæ‰§è¡Œ  <code>unzip -l https://example.com/giant.zip</code> çš„æ“ä½œæ¥æŸ¥çœ‹å‹ç¼©åŒ…çš„å†…å®¹å‘¢ï¼Ÿ</p><p>è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªä¸ºäº†ç”¨ <code>Go</code> å±•ç¤ºæŸäº›çŸ¥è¯†çš„ç†è®ºé—®é¢˜ã€‚å®é™…ä¸Šï¼Œæˆ‘ä¹Ÿä¸æƒ³å†™ä¸€ç¯‡æ–‡ç« ï¼Œé™¤äº†æˆ‘æƒ³é€šè¿‡é‚£äº›å‹ç¼©æ–‡ä»¶äº†è§£å¦‚ä½•ä» <a href="https://bulkdata.uspto.gov/data/patent/officialgazette/2017/" target="_blank" rel="noopener">ç¾å›½ä¸“åˆ©å’Œå•†æ ‡å±€ï¼ˆUSPTOï¼‰</a> ä¸‹è½½å¤§é‡ä¸“åˆ©ã€‚æˆ–è€…ï¼Œæˆ‘è®¤ä¸ºï¼Œèƒ½å¤Ÿä»è¿™äº› <code>tar</code> æ–‡ä»¶ä¸­è·å– <a href="https://bulkdata.uspto.gov/data/patent/grant/multipagepdf/1790_1999/" target="_blank" rel="noopener">1790 å¹´å‘å¸ƒçš„ä¸€äº›ä¸“åˆ©å›¾åƒ</a> æœ‰å¤šé…·ï¼Ÿ</p><p>å»çœ‹çœ‹ã€‚é‚£é‡Œæœ‰æ•°ç™¾ä¸ªå·¨å¤§çš„ <code>ZIP</code> å’Œ <code>tarfiles</code> å€¼å¾—æ¢ç´¢ï¼</p><a id="more"></a><p>åœ¨ <code>ZIP</code> æ–‡ä»¶ä¸­æœ€åçš„ä½ç½®ï¼Œæœ‰ä¸€ä¸ªç›®å½•ã€‚å› æ­¤åœ¨æœ¬åœ°ç£ç›˜ä¸Šï¼Œ<code>â€œunzip -lâ€</code> å°±åƒâ€œå¯»æ±‚æœ€ç»ˆç»“æœï¼Œæ‰¾åˆ° <code>TOC</code>ï¼Œè§£æå¹¶æ‰“å°å®ƒâ€ä¸€æ ·ç®€å•ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ <code>Go</code> æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Œå› ä¸ºåœ¨ <a href="https://godoc.org/archive/zip#NewReader" target="_blank" rel="noopener"><code>zip.NewReader</code> å‡½æ•°</a> éœ€è¦ä¼ å…¥ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ã€‚è‡³äº <code>TAR</code> æ–‡ä»¶ï¼Œå®ƒä»¬è¢«è®¾è®¡ç”¨äºç£å¸¦æµå¼ä¼ è¾“å’Œå†…å­˜ç¨€å°‘çš„æ—¶å€™ï¼Œå› æ­¤å®ƒä»¬çš„ç›®å½•åœ¨æ–‡ä»¶æœ¬èº«ä¹‹é—´äº¤é”™æ’åˆ—ã€‚</p><p>ä½†æˆ‘ä»¬ä¸åœ¨æœ¬åœ°ï¼Œè¦ä» <code>URL</code> ä¸­è¯»å–å†…å®¹å¯¹æˆ‘ä»¬æ¥è¯´å¾ˆæœ‰æŒ‘æˆ˜ã€‚è¯¥æ€ä¹ˆåŠï¼Ÿä»å“ªé‡Œå¼€å§‹ï¼Ÿ</p><p>æˆ‘ä»¬æœ‰å‡ ä»¶äº‹éœ€è¦è€ƒè™‘ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥è§„åˆ’æ¥ä¸‹æ¥çš„æ–¹å‘ã€‚å¯»æ‰¾å’Œè¯»å– <code>HTTP</code> æ–‡ä»¶ä¹Ÿå°±æ˜¯è¦æ‰¾åˆ°å’Œè¯»å– <code>Range</code> æ ‡å¤´ã€‚é‚£ä¹ˆï¼Œ<code>USPTO</code> æœåŠ¡å™¨æ˜¯å¦æ”¯æŒ <code>Range</code> å¤´å‘¢ï¼Ÿè¿™å¾ˆå®¹æ˜“æ£€æŸ¥ï¼Œä½¿ç”¨ <code>curl</code> å’Œ <code>HTTP HEAD</code> è¯·æ±‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> curl -I https://bulkdata.uspto.gov/data/patent/officialgazette/2017/e-OG20170103_1434-1.zip</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Mon, 11 Dec 2017 21:10:26 GMT</span><br><span class="line">Server: Apache</span><br><span class="line">Last-Modified: Tue, 03 Jan 2017 11:58:45 GMT</span><br><span class="line">ETag: "afb8ac8-5452f63e0a82f"</span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line">Content-Length: 184257224</span><br><span class="line">X-Frame-Options: DENY</span><br><span class="line">Content-Type: application/zip</span><br></pre></td></tr></table></figure><p>è¯·æ³¨æ„é‚£é‡Œçš„ <code>â€œAccept-Rangesâ€</code> æ ‡å¤´ï¼Œå®ƒè¡¨ç¤ºæˆ‘ä»¬å¯ä»¥å‘å®ƒå‘é€å­—èŠ‚èŒƒå›´ã€‚<code>Range</code> å¤´å…è®¸æ‚¨åƒéšæœºè®¿é—®è¯»å–æ“ä½œç³»ç»Ÿçš„ä¸€æ ·æ“ä½œ <code>HTTP</code>ã€‚ï¼ˆä¾‹å¦‚ <a href="https://godoc.org/io#ReaderAt" target="_blank" rel="noopener">io.ReaderAt</a> æ¥å£ï¼‰</p><p>å› æ­¤ç†è®ºä¸Šå¯ä»¥é€‰æ‹©ä» <code>Web</code> æœåŠ¡å™¨ä¸‹è½½å…¶ä¸­åŒ…å«å…ƒæ•°æ®ï¼ˆç›®å½•ï¼‰çš„æ–‡ä»¶éƒ¨åˆ†æ¥å†³å®šä¸‹è½½å“ªäº›å­—èŠ‚ã€‚</p><p>ç°åœ¨æˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ªå¤„ç† <code>ZIP</code> æ–‡ä»¶æ ¼å¼çš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨å…·æœ‰ <code>Range</code> å¤´éƒ¨çš„ <code>HTTP</code> çš„ <code>GET</code> è¯·æ±‚ï¼Œåªè¯»å–å…ƒæ•°æ®çš„æ–¹å¼ï¼Œå®ç°æ›¿æ¢â€œè¯»å–ä¸‹ä¸€ä¸ªç›®å½•å¤´æ–‡ä»¶â€çš„æŸä¸ªéƒ¨åˆ†ã€‚è¿™å°±æ˜¯ <code>Go</code> çš„ <a href="https://golang.org/pkg/archive/zip" target="_blank" rel="noopener"><code>archive/zip</code></a> å’Œ <a href="https://godoc.org/archive/tar" target="_blank" rel="noopener"><code>archive/tar</code></a> åŒ…çš„å®ç°ï¼</p><p>æ­£å¦‚æˆ‘ä»¬å‰é¢æ‰€è¯´ï¼Œ<a href="https://godoc.org/archive/zip#NewReader" target="_blank" rel="noopener">zip.NewReader</a> æ­£åœ¨ç¢ç£¨ä»€ä¹ˆä½ç½®å¼€å§‹æŸ¥æ‰¾ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬çœ‹çœ‹ <code>TAR</code> æ—¶ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé—®é¢˜ã€‚<code>tar.NewReader</code> æ–¹æ³•éœ€è¦ä¸€ä¸ª <code>io.Reader</code>ã€‚<code>io.Reader</code> çš„é—®é¢˜åœ¨äºï¼Œå®ƒä¸ä¼šè®©æˆ‘ä»¬éšæœºè®¿é—®èµ„æºï¼Œå°±åƒ<code>io.ReaderAt</code> ä¸€æ ·ã€‚å®ƒæ˜¯è¿™æ ·å®ç°çš„ï¼Œå› ä¸ºå®ƒä½¿ <code>tar</code> åŒ…æ›´å…·é€‚åº”æ€§ã€‚ç‰¹åˆ«æ˜¯ï¼Œæ‚¨å¯ä»¥å°† <code>Go tar</code> åŒ…ç›´æ¥æŒ‚æ¥åˆ° <code>compress/gzip</code> åŒ…å¹¶è¯»å– <code>tar.gz</code> æ–‡ä»¶ - åªè¦æ‚¨æŒ‰é¡ºåºè¯»å–å®ƒä»¬ï¼Œè€Œä¸æ˜¯åƒæˆ‘ä»¬å¸Œæœ›çš„é‚£æ ·è·³è¿‡ã€‚</p><p>é‚£ä¹ˆè¯¥æ€ä¹ˆåŠï¼Ÿä½¿ç”¨æºç ã€‚ç¯é¡¾å››å‘¨ï¼Œæ‰¾æ‰¾<a href="https://github.com/golang/go/blob/c007ce824d9a4fccb148f9204e04c23ed2984b71/src/archive/tar/reader.go#L88" target="_blank" rel="noopener">ä¸‹ä¸€ä¸ªæ–¹æ³•</a>ã€‚è¿™å°±æ˜¯æˆ‘ä»¬æœŸæœ›å®ƒèƒ½å¤Ÿæ‰¾åˆ°ä¸‹ä¸€ä¸ªå…ƒæ•°æ®çš„åœ°æ–¹ã€‚åœ¨å‡ è¡Œä»£ç å†…ï¼Œå¯¹äº <a href="https://github.com/golang/go/blob/c007ce824d9a4fccb148f9204e04c23ed2984b71/src/archive/tar/reader.go#L407" target="_blank" rel="noopener"><code>skipUnread</code></a> å‡½æ•°ï¼Œ æˆ‘ä»¬å‘ç°ä¸€ä¸ªæœ‰è¶£çš„è°ƒç”¨ã€‚åœ¨é‚£é‡Œï¼Œæˆ‘ä»¬å‘ç°ä¸€äº›éå¸¸æœ‰è¶£çš„ä¸œè¥¿ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// skipUnread skips any unread bytes in the existing file entry, as well as any alignment padding.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(tr *Reader)</span> <span class="title">skipUnread</span><span class="params">()</span></span> &#123;</span><br><span class="line">  nr := tr.numBytes() + tr.pad <span class="comment">// number of bytes to skip</span></span><br><span class="line">  tr.curr, tr.pad = <span class="literal">nil</span>, <span class="number">0</span></span><br><span class="line">  <span class="keyword">if</span> sr, ok := tr.r.(io.Seeker); ok &#123;</span><br><span class="line">    <span class="keyword">if</span> _, err := sr.Seek(nr, os.SEEK_CUR); err == <span class="literal">nil</span> &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  _, tr.err = io.CopyN(ioutil.Discard, tr.r, nr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Note: This is from Go 1.4, which had a simpler skipUnread than go 1.9 does.</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¡¨ç¤ºï¼šâ€å¦‚æœ <code>io.Reader</code> å®é™…ä¸Šä¹Ÿèƒ½å¤Ÿæœç´¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸æ˜¯ç›´æ¥è¯»å–å’Œä¸¢å¼ƒï¼Œè€Œæ˜¯ç›´æ¥æ‰¾åˆ°æ­£ç¡®çš„åœ°æ–¹ã€‚â€œæ‰¾åˆ°äº†ï¼æˆ‘ä»¬åªéœ€è¦å°† <code>tar</code> æ–‡ä»¶ä¼ ç»™ <code>io.Reader</code>ã€‚<code>NewReader</code> ä¹Ÿæ»¡è¶³ <a href="https://golang.org/pkg/io/#Seeker" target="_blank" rel="noopener"><code>io.Seeker</code></a>çš„åŠŸèƒ½ï¼ˆå› æ­¤ï¼Œå®ƒæ˜¯ä¸€ä¸ª<a href="https://golang.org/pkg/io/#ReadSeeker" target="_blank" rel="noopener"><code>io.ReadSeeker</code></a>ï¼‰ã€‚</p><p>æ‰€ä»¥ï¼Œç°åœ¨è¯·æŸ¥çœ‹åŒ… <a href="https://godoc.org/github.com/jeffallen/seekinghttp" target="_blank" rel="noopener"><code>github.com/jeffallen/seekinghttp</code></a>ï¼Œå°±åƒå®ƒçš„åå­—æ‰€æš—ç¤ºçš„é‚£æ ·ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºåœ¨ <code>HTTP</code> å¯¹è±¡ï¼ˆ<a href="https://github.com/jeffallen/seekinghttp" target="_blank" rel="noopener"><code>Github</code> ä¸Šçš„æºä»£ç </a> ä¸­æŸ¥æ‰¾çš„è½¯ä»¶åŒ…ã€‚</p><p>è¿™ä¸ªè½¯ä»¶åŒ…ä¸ä»…<a href="https://github.com/jeffallen/seekinghttp/blob/master/seekinghttp.go#L26" target="_blank" rel="noopener">å®ç°</a>äº† <code>io.ReadSeeker</code>ï¼Œè¿˜å®ç°äº† <code>io.ReaderAt</code>ã€‚</p><p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºï¼Œæ­£å¦‚æˆ‘ä¸Šé¢æåˆ°çš„ï¼Œè¯»å– <code>ZIP</code> æ–‡ä»¶éœ€è¦ä¸€ä¸ª <code>io.ReaderAt</code>ã€‚å®ƒè¿˜éœ€è¦ä¼ é€’ç»™å®ƒçš„æ–‡ä»¶çš„é•¿åº¦ï¼Œä»¥ä¾¿å®ƒå¯ä»¥æŸ¥çœ‹ç›®å½•æ–‡ä»¶çš„æœ«å°¾ã€‚<code>HTTP HEAD</code> æ–¹æ³•å¯ä»¥å¾ˆå¥½åœ°è·å– <code>HTTP</code> å¯¹è±¡çš„ <code>Content-Length</code>ï¼Œè€Œä¸éœ€è¦ä¸‹è½½æ•´ä¸ªæ–‡ä»¶ã€‚</p><p>ç”¨äºè¿œç¨‹è·å– <code>tar</code> å’Œ <code>zip</code> æ–‡ä»¶ç›®å½•çš„å‘½ä»¤è¡Œå·¥å…·ä½äº <code>remote-archive-ls</code> ä¸­ã€‚æ‰“å¼€ <code>â€œ-debugâ€</code> é€‰é¡¹ç”¨æ¥æŸ¥çœ‹æ—¥å¿—ã€‚<strong>å°† <code>Go</code> çš„æ ‡å‡†åº“ä½œä¸º <code>TAR</code> æˆ– <code>ZIP</code> é˜…è¯»å™¨â€œå›è°ƒâ€åˆ°æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œå¹¶åœ¨è¿™é‡Œè¯·æ±‚å‡ ä¸ªå­—èŠ‚ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªå­—èŠ‚æ˜¯å¾ˆæœ‰è¶£çš„ã€‚</strong> </p><p>åœ¨æˆ‘ç¬¬ä¸€æ¬¡è¿è¡Œè¿™ä¸ªç¨‹åºåä¸ä¹…ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªä¸¥é‡çš„ç¼ºé™·ã€‚è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹è¿è¡Œç»“æœï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ./remote-archive-ls -debug 'https://bulkdata.uspto.gov/data/patent/grant/multipagepdf/1790_1999/grant_pdf_17900731_18641101.tar'</span><br><span class="line">2017/12/12 00:07:38 got read len 512</span><br><span class="line">2017/12/12 00:07:38 ReadAt len 512 off 0</span><br><span class="line">2017/12/12 00:07:38 Start HTTP GET with Range: bytes=0-511</span><br><span class="line">2017/12/12 00:07:39 HTTP ok.</span><br><span class="line">File: 00000001-X009741H/</span><br><span class="line">2017/12/12 00:07:39 got read len 512</span><br><span class="line">2017/12/12 00:07:39 ReadAt len 512 off 512</span><br><span class="line">2017/12/12 00:07:39 Start HTTP GET with Range: bytes=512-1023</span><br><span class="line">2017/12/12 00:07:39 HTTP ok.</span><br><span class="line">File: 00000001-X009741H/00/</span><br><span class="line">2017/12/12 00:07:39 got read len 512</span><br><span class="line">2017/12/12 00:07:39 ReadAt len 512 off 1024</span><br><span class="line">2017/12/12 00:07:39 Start HTTP GET with Range: bytes=1024-1535</span><br><span class="line">2017/12/12 00:07:39 HTTP ok.</span><br><span class="line">File: 00000001-X009741H/00/000/</span><br><span class="line">2017/12/12 00:07:39 got read len 512</span><br><span class="line">2017/12/12 00:07:39 ReadAt len 512 off 1536</span><br><span class="line">2017/12/12 00:07:39 Start HTTP GET with Range: bytes=1536-2047</span><br><span class="line">2017/12/12 00:07:39 HTTP ok.</span><br><span class="line">File: 00000001-X009741H/00/000/001/</span><br><span class="line">2017/12/12 00:07:39 got read len 512</span><br><span class="line">2017/12/12 00:07:39 ReadAt len 512 off 2048</span><br><span class="line">2017/12/12 00:07:39 Start HTTP GET with Range: bytes=2048-2559</span><br><span class="line">2017/12/12 00:07:39 HTTP ok.</span><br><span class="line">File: 00000001-X009741H/00/000/001/us-patent-image.xml</span><br><span class="line">2017/12/12 00:07:39 got seek 0 1</span><br><span class="line">2017/12/12 00:07:39 got seek 982 1</span><br><span class="line">2017/12/12 00:07:39 got read len 42</span><br><span class="line">2017/12/12 00:07:39 ReadAt len 42 off 3542</span><br><span class="line">2017/12/12 00:07:39 Start HTTP GET with Range: bytes=3542-3583</span><br><span class="line">2017/12/12 00:07:39 HTTP ok.</span><br><span class="line">2017/12/12 00:07:39 got read len 512</span><br><span class="line">2017/12/12 00:07:39 ReadAt len 512 off 3584</span><br><span class="line">2017/12/12 00:07:39 Start HTTP GET with Range: bytes=3584-4095</span><br><span class="line">2017/12/12 00:07:39 HTTP ok.</span><br><span class="line">File: 00000001-X009741H/00/000/001/00000001.pdf</span><br><span class="line">2017/12/12 00:07:39 got seek 0 1</span><br><span class="line">2017/12/12 00:07:39 got seek 320840 1</span><br><span class="line">2017/12/12 00:07:39 got read len 184</span><br><span class="line">2017/12/12 00:07:39 ReadAt len 184 off 324936</span><br><span class="line">...etc...</span><br></pre></td></tr></table></figure><p>ä½ èƒ½çœ‹åˆ°é—®é¢˜å—ï¼Ÿè¿™æ˜¯å¾ˆå¤š <code>HTTP</code> äº‹åŠ¡ï¼ <code>TAR reader</code> æ­£åœ¨ä¸€æ¬¡ä¸€ç‚¹ç‚¹åœ°å®Œæˆ <code>TAR</code> æµï¼Œå‘å‡ºä¸€å°ä¸² <code>bit</code>ã€‚æ‰€æœ‰è¿™äº›çŸ­çš„ <code>HTTP</code> äº‹åŠ¡åœ¨æœåŠ¡å™¨ä¸Šéƒ½å¾ˆéš¾å®ç°ï¼Œå¹¶ä¸”å¯¹äºååé‡æ¥è¯´å¾ˆç³Ÿç³•ï¼Œå› ä¸ºæ¯ä¸ª <code>HTTP</code> äº‹åŠ¡éƒ½éœ€è¦å¤šæ¬¡å¾€è¿”æœåŠ¡å™¨ã€‚</p><p>å½“ç„¶ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯ç¼“å­˜ã€‚<strong>è¯»å–TARè¯»å–å™¨è¦æ±‚çš„å‰ 512 ä¸ªå­—èŠ‚ï¼Œè€Œä¸æ˜¯è¯»å–å…¶ä¸­çš„ 10 å€ï¼Œä»¥ä¾¿æ¥ä¸‹æ¥çš„å‡ ä¸ªè¯»å–å°†ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚</strong>å¦‚æœè¯»å–è¶…å‡ºäº†ç¼“å­˜çš„èŒƒå›´ï¼Œæˆ‘ä»¬å‡è®¾å…¶ä»–è¯»å–ä¹Ÿå°†è¿›å…¥è¯¥åŒºåŸŸï¼Œå¹¶åˆ é™¤æ•´ä¸ªå½“å‰ç¼“å­˜ï¼Œä»¥ä¾¿ç”¨å½“å‰åç§»é‡çš„ 10 å€å¡«å……å®ƒã€‚</p><p><code>TAR</code> é˜…è¯»å™¨å‘é€<strong>å¤§é‡å°è¯»æ•°</strong>çš„äº‹å®æŒ‡å‡ºäº†æœ‰å…³ç¼“å†²çš„ä¸€äº›éå¸¸é‡è¦çš„äº‹æƒ…ã€‚å°† <a href="https://godoc.org/os#Open" target="_blank" rel="noopener"><code>os.Open</code></a> çš„ç»“æœç›´æ¥å‘é€ç»™ <code>tar</code>ã€‚<code>NewReader</code> ä¸æ˜¯å¾ˆèªæ˜ï¼Œå°¤å…¶æ˜¯å¦‚æœä½ æ‰“ç®—è·³è¿‡æ–‡ä»¶å¯»æ‰¾å…ƒæ•°æ®ã€‚å°½ç®¡ <code>* os.File</code> å®ç°äº† <code>io.ReadSeeker</code>ï¼Œæˆ‘ä»¬ç°åœ¨çŸ¥é“ <code>TAR</code> å°†ä¼šå‘å†…æ ¸å‘å‡ºå¤§é‡çš„<strong>å°ç³»ç»Ÿè°ƒç”¨</strong>ã€‚è¯¥è§£å†³æ–¹æ¡ˆä¸ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆéå¸¸ç›¸ä¼¼ï¼Œå¯èƒ½æ˜¯ä½¿ç”¨ <a href="https://godoc.org/bufio" target="_blank" rel="noopener"><code>bufio</code></a> åŒ…æ¥ç¼“å†² <code>* os.File</code>ï¼Œä»¥ä¾¿ <code>TAR</code> å‘å‡ºçš„å°æ•°æ®å°†ä» <code>RAM</code> ä¸­å–å‡ºï¼Œè€Œä¸æ˜¯è½¬åˆ°æ“ä½œç³»ç»Ÿã€‚ä½†è¯·æ³¨æ„ï¼šå®ƒçœŸçš„æ˜¯è§£å†³æ–¹æ¡ˆå—ï¼Ÿ<code>bufio.Reader</code> æ˜¯å¦çœŸçš„å®ç°äº† <code>io</code>ï¼Ÿ<code>ReadSeeker</code> å’Œ <code>io.ReadAt</code> å°±åƒæˆ‘ä»¬éœ€è¦çš„ä¸€æ ·ï¼Ÿ <strong>ï¼ˆç ´åè€…ï¼šå®ƒæ²¡æœ‰;ä¹Ÿè®¸ä½ ä»¬æœ‰è¯»è€…æƒ³å‘Šè¯‰æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ä¸‹ä¸€ä¸ªçš„æ›¿ä»£å“ <code>bufio</code> åŠ é€Ÿ <code>Go</code> çš„ <code>tar</code>ï¼Ÿ</strong></p><p>æˆ‘å¸Œæœ›ä½ å–œæ¬¢é€šè¿‡æ ‡å‡†åº“å’Œ <code>HTTP</code>ï¼Œçœ‹çœ‹å¦‚ä½•ä¸æ ‡å‡†åº“ä¸€èµ·å·¥ä½œï¼Œä»¥å¸®åŠ©å®ƒå®ç°æ›´å¤šçš„åŠŸèƒ½ï¼Œä»¥ä¾¿å®ƒå¯ä»¥å¸®åŠ©ä½ å®Œæˆä½ çš„å·¥ä½œè¿™ä¸ªå°å°çš„æ—…ç¨‹ã€‚å½“ä½ å®ç° <code>io.Reader</code> å’Œæœ‹å‹æ—¶ï¼Œä½ æœ‰æœºä¼šèµ°åˆ°ä½ æ‰€è°ƒç”¨çš„åº“çš„å¹•åï¼Œå¹¶ä»ä»–ä»¬çš„ä½œè€…ä»æœªæœŸæœ›çš„åœ°æ–¹ç»™ä»–ä»¬æä¾›æ•°æ®ï¼</p><hr><p>viaï¼š<a href="https://blog.gopheracademy.com/advent-2017/seekable-http/" target="_blank" rel="noopener">https://blog.gopheracademy.com/advent-2017/seekable-http/</a></p><p>ä½œè€…ï¼š<a href="https://github.com/jeffallen" target="_blank" rel="noopener">Jeff R. Allen</a><br>è¯‘è€…ï¼š<a href="https://github.com/yuhanle" target="_blank" rel="noopener">yuhanle</a><br>æ ¡å¯¹ï¼š<a href="https://github.com/Unknwon" target="_blank" rel="noopener">Unknwon</a></p><p>æœ¬æ–‡ç”± <a href="https://github.com/studygolang/GCTT" target="_blank" rel="noopener">GCTT</a> åŸåˆ›ç¼–è¯‘ï¼Œ<a href="https://studygolang.com/" target="_blank" rel="noopener">Goä¸­æ–‡ç½‘</a> è£èª‰æ¨å‡º</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å·²å‘å¸ƒï¼š&lt;a href=&quot;https://studygolang.com/articles/12638&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://studygolang.com/articles/12638&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;Go-å®ç°å¯¹-HTTP-å¯¹è±¡çš„æŸ¥æ‰¾&quot;&gt;&lt;a href=&quot;#Go-å®ç°å¯¹-HTTP-å¯¹è±¡çš„æŸ¥æ‰¾&quot; class=&quot;headerlink&quot; title=&quot;Go å®ç°å¯¹ HTTP å¯¹è±¡çš„æŸ¥æ‰¾&quot;&gt;&lt;/a&gt;Go å®ç°å¯¹ HTTP å¯¹è±¡çš„æŸ¥æ‰¾&lt;/h1&gt;&lt;p&gt;æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ &lt;code&gt;HTTP&lt;/code&gt; æœåŠ¡å™¨ä¸Šæœ‰ä¸€ä¸ªå·¨å¤§çš„ &lt;code&gt;ZIP&lt;/code&gt; æ–‡ä»¶ï¼Œä½ æƒ³çŸ¥é“é‡Œé¢çš„å†…å®¹ã€‚ä½ ä¸çŸ¥é“å‹ç¼©åŒ…å†…æ˜¯å¦æœ‰ä½ éœ€è¦çš„ä¸œè¥¿ï¼Œè€Œä¸”ä½ ä¸æƒ³ä¸‹è½½æ•´ä¸ªæ–‡ä»¶ã€‚æ˜¯å¦å¯ä»¥åƒæ‰§è¡Œ  &lt;code&gt;unzip -l https://example.com/giant.zip&lt;/code&gt; çš„æ“ä½œæ¥æŸ¥çœ‹å‹ç¼©åŒ…çš„å†…å®¹å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªä¸ºäº†ç”¨ &lt;code&gt;Go&lt;/code&gt; å±•ç¤ºæŸäº›çŸ¥è¯†çš„ç†è®ºé—®é¢˜ã€‚å®é™…ä¸Šï¼Œæˆ‘ä¹Ÿä¸æƒ³å†™ä¸€ç¯‡æ–‡ç« ï¼Œé™¤äº†æˆ‘æƒ³é€šè¿‡é‚£äº›å‹ç¼©æ–‡ä»¶äº†è§£å¦‚ä½•ä» &lt;a href=&quot;https://bulkdata.uspto.gov/data/patent/officialgazette/2017/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç¾å›½ä¸“åˆ©å’Œå•†æ ‡å±€ï¼ˆUSPTOï¼‰&lt;/a&gt; ä¸‹è½½å¤§é‡ä¸“åˆ©ã€‚æˆ–è€…ï¼Œæˆ‘è®¤ä¸ºï¼Œèƒ½å¤Ÿä»è¿™äº› &lt;code&gt;tar&lt;/code&gt; æ–‡ä»¶ä¸­è·å– &lt;a href=&quot;https://bulkdata.uspto.gov/data/patent/grant/multipagepdf/1790_1999/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;1790 å¹´å‘å¸ƒçš„ä¸€äº›ä¸“åˆ©å›¾åƒ&lt;/a&gt; æœ‰å¤šé…·ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å»çœ‹çœ‹ã€‚é‚£é‡Œæœ‰æ•°ç™¾ä¸ªå·¨å¤§çš„ &lt;code&gt;ZIP&lt;/code&gt; å’Œ &lt;code&gt;tarfiles&lt;/code&gt; å€¼å¾—æ¢ç´¢ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="Translate" scheme="https://blog.yuhanle.com/categories/Translate/"/>
    
      <category term="Go" scheme="https://blog.yuhanle.com/categories/Translate/Go/"/>
    
    
      <category term="Translate" scheme="https://blog.yuhanle.com/tags/Translate/"/>
    
      <category term="Go" scheme="https://blog.yuhanle.com/tags/Go/"/>
    
  </entry>
  
  <entry>
    <title>iOS çœŸæœºè°ƒè¯•å¦‚ä½•å®‰è£… WebDriverAgent</title>
    <link href="https://blog.yuhanle.com/2018/01/03/how-to-install-web-driver-agent-on-device/"/>
    <id>https://blog.yuhanle.com/2018/01/03/how-to-install-web-driver-agent-on-device/</id>
    <published>2018-01-03T10:30:47.000Z</published>
    <updated>2018-07-05T01:18:16.306Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‘æœŸï¼Œå¾®ä¿¡<a href="https://github.com/wangshub/wechat_jump_game" target="_blank" rel="noopener">è·³ä¸€è·³å¤–æŒ‚</a>ç«äº†ï¼Œçœ‹äº†ä½œè€…çš„æ€è·¯å’Œæ•™ç¨‹ï¼Œæ„Ÿè§‰æŒºç®€å•ï¼Œä¸è¿‡åœ¨å®ç°ï¼ˆç…§è‘«èŠ¦ç”»ç“¢ï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œé­é‡åˆ°ä¸å°‘é—®é¢˜ã€‚</p><p><img src="https://raw.githubusercontent.com/yuhanle/blogbag/master/uploads/images/wda.png" alt="WDA å·¥ä½œåŸç†"> </p><p>å…¶ä¸­ä¹‹ä¸€ä¾¿æ˜¯ï¼ŒçœŸæœºè°ƒè¯• WDAï¼Œå‚è€ƒ iOS çœŸæœºå¦‚ä½•å®‰è£… <a href="https://testerhome.com/topics/7220" target="_blank" rel="noopener">WebDriverAgent Â· TesterHome</a>ï¼Œä¸‹é¢å°±æŒ‰ç…§è¿™ç¯‡æ•™ç¨‹ï¼Œå„ä¸ªå‡»ç ´çœŸæœºè°ƒè¯•WDA çš„é—®é¢˜ï¼š</p><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><p>é¦–å…ˆæŒ‰ç…§æ•™ç¨‹ï¼Œå°½é‡æ›´æ–°ä¸‹Xcode çš„ç‰ˆæœ¬ï¼Œä»github ä¸Šä¸‹è½½WDA çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›´æ¥å…‹éš†åˆ°æœ¬åœ°</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/facebook/WebDriverAgent.git</span><br></pre></td></tr></table></figure><p>åˆ‡æ¢åˆ°WDA æ ¹ç›®å½•ï¼Œè¿è¡Œåˆå§‹åŒ–è„šæœ¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd WebDriverAgent</span><br><span class="line">./Scripts/bootstrap.sh</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè„šæœ¬æ˜¯å®‰è£…ä¾èµ–åº“ï¼ŒåŒæ—¶ä½¿ç”¨npm æ‰“åŒ…å“åº”çš„js æ–‡ä»¶ã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æµè§ˆè„šæœ¬æ–‡ä»¶ï¼ŒåŒçº§ç›®å½•ä¸‹è¿˜æœ‰ä¸€ä¸ª<code>build.sh</code>ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œè¯¥è„šæœ¬æ¥ç¼–è¯‘å®‰è£…WDAã€‚å½“ç„¶ï¼Œåˆæ¬¡æ¥è§¦ï¼Œå¸Œæœ›ä¸€æ­¥æ­¥æ“ä½œçš„è¯ä¼šå¥½ä¸€äº›ã€‚</p><p>å¦‚æœä¸­é€”å‡ºç°é”™è¯¯ï¼Œéœ€è¦å…ˆè§£å†³ï¼Œå¦åˆ™æ¥ä¸‹æ¥çš„æ“ä½œéƒ½æ— æ³•è¿›è¡Œã€‚</p><h1 id="ç¼–è¯‘è¿è¡Œ"><a href="#ç¼–è¯‘è¿è¡Œ" class="headerlink" title="ç¼–è¯‘è¿è¡Œ"></a>ç¼–è¯‘è¿è¡Œ</h1><p>æ¥ä¸‹æ¥ï¼Œé€šè¿‡Xcode æ‰“å¼€<code>WebDriverAgent.xcodeproj</code> è¿™ä¸ªæ–‡ä»¶ã€‚</p><p>å¯ä»¥å…ˆå°è¯•ç¼–è¯‘ä¸€ä¸‹ï¼Œæ–¹ä¾¿å®šä½ç›®å‰å­˜åœ¨çš„é—®é¢˜ï¼Œä½¿ç”¨ç»„åˆé”®æˆ–è€…é€šè¿‡é¼ æ ‡æ“ä½œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command + b</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™ï¼Œè‚¯å®šä¼šæœ‰æç¤ºé…ç½®è¯ä¹¦çš„é—®é¢˜ï¼ŒçœŸæœºè°ƒè¯•è¯ä¹¦æ˜¯å¿…é¡»è®¾ç½®çš„ã€‚å¯ä»¥è®¾ç½®ä¸ªäººå¼€å‘è€…å…è´¹è¯ä¹¦ï¼Œæˆ–è€…å…¶ä»–ä»˜è´¹è¯ä¹¦ã€‚</p><p><img src="https://raw.githubusercontent.com/yuhanle/blogbag/master/uploads/images/WX20180103-141257.png" alt=""></p><p>ç„¶åé€‰æ‹©<code>WebDriverAgentRunner</code> è¿™ä¸ªTarget å’Œ çœŸæœºè®¾å¤‡ï¼Œæ‰§è¡Œæµ‹è¯•ã€‚ç»„åˆé”®<code>command+u</code>ï¼Œæˆ–ä»èœå•æ Product ä¸­é€šè¿‡é¼ æ ‡æ“ä½œ</p><blockquote><p>ä¸€åˆ‡æ­£å¸¸çš„è¯ï¼Œæ‰‹æœºä¸Šä¼šå‡ºç°ä¸€ä¸ªæ— å›¾æ ‡çš„WebDriverAgentåº”ç”¨ï¼Œå¯åŠ¨ä¹‹åï¼Œé©¬ä¸Šåˆè¿”å›åˆ°æ¡Œé¢ã€‚è¿™æ˜¯å¾ˆæ­£å¸¸çš„ä¸è¦å¥‡æ€ªã€‚</p></blockquote><p>åº”ç”¨æ•™ç¨‹ä¸­çš„åŸè¯ï¼Œä¸Šè¿°ç°è±¡æ­£å¸¸ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¯èƒ½ä¼šåœ¨æ§åˆ¶å°æŠ¥é”™ï¼Œä»è€Œæ— æ³•æ‰“å°å‡ºip åœ°å€ã€‚</p><p>å½“æŠŠæ‰€æœ‰çš„æµç¨‹é‡æ–°æ‹ä¸€éï¼Œä½ ä¼šå‘ç°ï¼Œæ ¹æœ¬å‘ç°ä¸äº†å“ªä¸€æ­¥åšé”™äº†ï¼Œæˆ‘é‡åˆ°çš„æƒ…å†µå°±æ˜¯ï¼Œä¸€ç›´åœç•™åœ¨æ§åˆ¶å°çš„é‚£é‡Œï¼Œä¸ä¼šå‡ºç°å¥‡è¿¹ã€‚ç»è¿‡ä¸€ç•ªæœç´¢ï¼Œå‘ç°<a href="https://testerhome.com/topics/9666" target="_blank" rel="noopener">æœ‰ä¸ªå¸–å­</a>é‡Œçš„è­¦å‘Šæç¤ºï¼Œæˆ‘å†³å®šæ”¾æ‰‹ä¸€æï¼</p><blockquote><p>ä½ ä»¬ä»¥ä¸ºè¿™æ ·å°±èƒ½è¿è¡Œå—ï¼Ÿ</p><p>å¹¶ä¸æ˜¯ï¼<br>æœ€å…³é”®ä¸€æ­¥æ¥äº†ï¼š</p><p>ä½ è¦ç”¨æ•°æ®çº¿è¿ç€ç”µè„‘é‡å¯ä½ çš„æ‰‹æœºï¼ï¼ï¼ï¼</p><p>ä½ è¦ç”¨æ•°æ®çº¿è¿ç€ç”µè„‘é‡å¯ä½ çš„æ‰‹æœºï¼ï¼ï¼ï¼</p><p>ä½ è¦ç”¨æ•°æ®çº¿è¿ç€ç”µè„‘é‡å¯ä½ çš„æ‰‹æœºï¼ï¼ï¼ï¼</p><p>é‡è¦çš„è¯è¦è¯´ä¸‰éï¼</p></blockquote><p>åæ­£æ˜¯åœ¨ä¿è¯æ•°æ®çº¿è¿æ¥çš„æƒ…å†µä¸‹ï¼Œé‡å¯ä¸€ä¸‹æ‰‹æœºï¼Œç„¶åé‡æ–°build å°±æˆåŠŸçœ‹åˆ°ip åœ°å€ï¼è€Œä¸”åœ¨ä»¥åæ“ä½œä¸­ï¼Œè¿™ç§æƒ…å†µè¿˜ä¼šå¤ç°ï¼Œæ‰€ä»¥é‡å¯æ‰‹æœºå§ï¼Œä¸ç”¨æµªè´¹æ— è¾œçš„æ—¶é—´ç ”ç©¶~</p><p>é€šè¿‡ä¸Šé¢ç»™å‡ºçš„IPå’Œç«¯å£ï¼ŒåŠ ä¸Š<code>/status</code>åˆæˆä¸€ä¸ªurlåœ°å€ã€‚ä¾‹å¦‚<code>http://10.0.0.1:8100/status</code>ï¼Œç„¶åæµè§ˆå™¨æ‰“å¼€ã€‚å¦‚æœå‡ºç°ä¸€ä¸²JSONè¾“å‡ºï¼Œè¯´æ˜WDAå®‰è£…æˆåŠŸäº†ã€‚</p><h1 id="ç«¯å£è½¬å‘"><a href="#ç«¯å£è½¬å‘" class="headerlink" title="ç«¯å£è½¬å‘"></a>ç«¯å£è½¬å‘</h1><p>æœ‰äº›å›½äº§çš„iPhoneæœºå™¨é€šè¿‡æ‰‹æœºçš„IPå’Œç«¯å£è¿˜ä¸èƒ½è®¿é—®ï¼Œæ­¤æ—¶éœ€è¦å°†æ‰‹æœºçš„ç«¯å£è½¬å‘åˆ°Macä¸Šã€‚å…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ˜¯é€šè¿‡ç«¯å£è½¬å‘æ‰çœ‹åˆ°æ•ˆæœï¼Œæ‰€ä»¥ä½ ä¹Ÿåº”è¯¥ä¼šé‡åˆ°åŒæ ·çš„é—®é¢˜ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ brew install imobiledevice</span><br><span class="line">$ iproxy 8100 8100 [4c47766e78f9d84e1da55b07d69f2747e9fb4f71]</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨iproxy â€“help å¯ä»¥æŸ¥åˆ°æ›´å…·ä½“çš„ç”¨æ³•ã€‚ è¿™æ—¶é€šè¿‡è®¿é—®<code>http://localhost:8100/status</code> ç¡®è®¤WDAæ˜¯å¦è¿è¡ŒæˆåŠŸã€‚</p><p>è€Œinspectorçš„åœ°å€æ˜¯<code>http://localhost:8100/inspector</code>ï¼Œ inspectoræ˜¯ç”¨æ¥æŸ¥çœ‹UIçš„å›¾å±‚ï¼Œæ–¹ä¾¿å†™æµ‹è¯•è„šæœ¬ç”¨ã€‚</p><blockquote><p>æ³¨ï¼šç«¯å£è½¬å‘åï¼ŒåŸŸåä¸å†æ˜¯IP åœ°å€ï¼Œè€Œæ˜¯ä½ çš„æœ¬æœºIPæˆ–è€…ä½¿ç”¨<code>localhost</code>+ ç«¯å£å·</p></blockquote><h1 id="æœ€ç»ˆæ•ˆæœ"><a href="#æœ€ç»ˆæ•ˆæœ" class="headerlink" title="æœ€ç»ˆæ•ˆæœ"></a>æœ€ç»ˆæ•ˆæœ</h1><p>å®Œæˆä¸Šè¿°æ“ä½œä»¥åï¼Œå¯ä»¥éšæ„å¼€å¯åº”ç”¨å†…çš„æŸä¸ªåº”ç”¨ï¼Œå°±èƒ½çœ‹åˆ°å¦‚ä¸‹æ•ˆæœã€‚</p><p><img src="https://raw.githubusercontent.com/yuhanle/blogbag/master/uploads/images/WX20180103-143535.png" alt=""></p><p>è¿™é‡Œç»“åˆ <a href="https://testerhome.com/topics/7840" target="_blank" rel="noopener">Appium Desktop</a> ä¸€èµ·é£Ÿç”¨ï¼Œæ•ˆæœæ›´ä½³~</p><p>Good luck!!!</p><h1 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h1><p>ç›¸ä¿¡ä½ ä¼šå¯¹è¿™ä¸ªæ„Ÿå…´è¶£ï¼Œé€šè¿‡WDA åšè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ©ï¼</p><p>æ¥ä¸‹æ¥æ¼”ç¤ºä¸€ä¸‹æ€ä¹ˆç”¨ATXæ‰“å¼€iPhoneè‡ªå¸¦çš„è®¡æ—¶å™¨ï¼Œå¼€å§‹ç„¶åé€€å‡º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/local/bin/python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> atx</span><br><span class="line"></span><br><span class="line">d = atx.connect(<span class="string">"http://localhost:8100"</span>)</span><br><span class="line">d.start_app(<span class="string">"com.apple.mobiletimer"</span>)</span><br><span class="line">d(text=<span class="string">u'è®¡æ—¶å™¨'</span>).click()</span><br><span class="line">d(text=<span class="string">u'å¼€å§‹è®¡æ—¶'</span>).click()</span><br><span class="line">d(text=<span class="string">u'å–æ¶ˆ'</span>).click()</span><br><span class="line">d.stop_app()</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸Šä»£ç å³å¯ä½“éªŒ</p><h1 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h1><p>æœ€åå¢™è£‚æ¨èåŸºäºPythonè‡ªåŠ¨åŒ–æ¡†æ¶åœ°å€ <a href="https://github.com/NetEaseGame/ATX" target="_blank" rel="noopener">https://github.com/NetEaseGame/ATX</a></p><p>Xcodeé—®é¢˜å¤šå¤šï¼Œæ„¿WDAä¸ä½ åŒåœ¨ã€‚</p><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://testerhome.com/topics/7220" target="_blank" rel="noopener">ATX æ–‡æ¡£ - iOS çœŸæœºå¦‚ä½•å®‰è£… WebDriverAgent</a></p><p><a href="https://testerhome.com/topics/8820#reply47" target="_blank" rel="noopener">Macaca App Inspector 2.0 å‘å¸ƒ</a></p><p><a href="https://testerhome.com/topics/7840" target="_blank" rel="noopener">Appium Desktop ç®€å•ä»‹ç» â€”â€” xcodebuild failed with code 65 è§£å†³</a></p><p><a href="https://testerhome.com/topics/9666" target="_blank" rel="noopener">WebDriverAgent å¤©å‘è®°</a></p><p><a href="https://testerhome.com/topics/7324" target="_blank" rel="noopener">å¯åŠ¨ WebDriverAgent åå†å¯åŠ¨ appiumï¼Œè¿è¡Œè„šæœ¬ä¸€ç›´å¡åœ¨ Waiting for WebDriverAgent to start on device</a></p><p><a href="https://testerhome.com/topics/6331" target="_blank" rel="noopener">ATX æ”¯æŒ iOS10 æ‰‹æœºæµ‹è¯• æ–¹æ³•è¯´æ˜</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿‘æœŸï¼Œå¾®ä¿¡&lt;a href=&quot;https://github.com/wangshub/wechat_jump_game&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è·³ä¸€è·³å¤–æŒ‚&lt;/a&gt;ç«äº†ï¼Œçœ‹äº†ä½œè€…çš„æ€è·¯å’Œæ•™ç¨‹ï¼Œæ„Ÿè§‰æŒºç®€å•ï¼Œä¸è¿‡åœ¨å®ç°ï¼ˆç…§è‘«èŠ¦ç”»ç“¢ï¼‰çš„è¿‡ç¨‹ä¸­ï¼Œé­é‡åˆ°ä¸å°‘é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/yuhanle/blogbag/master/uploads/images/wda.png&quot; alt=&quot;WDA å·¥ä½œåŸç†&quot;&gt; &lt;/p&gt;
&lt;p&gt;å…¶ä¸­ä¹‹ä¸€ä¾¿æ˜¯ï¼ŒçœŸæœºè°ƒè¯• WDAï¼Œå‚è€ƒ iOS çœŸæœºå¦‚ä½•å®‰è£… &lt;a href=&quot;https://testerhome.com/topics/7220&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;WebDriverAgent Â· TesterHome&lt;/a&gt;ï¼Œä¸‹é¢å°±æŒ‰ç…§è¿™ç¯‡æ•™ç¨‹ï¼Œå„ä¸ªå‡»ç ´çœŸæœºè°ƒè¯•WDA çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;h1 id=&quot;å¼€å§‹&quot;&gt;&lt;a href=&quot;#å¼€å§‹&quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹&quot;&gt;&lt;/a&gt;å¼€å§‹&lt;/h1&gt;&lt;p&gt;é¦–å…ˆæŒ‰ç…§æ•™ç¨‹ï¼Œå°½é‡æ›´æ–°ä¸‹Xcode çš„ç‰ˆæœ¬ï¼Œä»github ä¸Šä¸‹è½½WDA çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›´æ¥å…‹éš†åˆ°æœ¬åœ°&lt;/p&gt;
    
    </summary>
    
      <category term="UI Auto Test" scheme="https://blog.yuhanle.com/categories/UI-Auto-Test/"/>
    
    
      <category term="WDA" scheme="https://blog.yuhanle.com/tags/WDA/"/>
    
      <category term="UI Test" scheme="https://blog.yuhanle.com/tags/UI-Test/"/>
    
  </entry>
  
  <entry>
    <title>Electron å…¥é—¨æŒ‡å—</title>
    <link href="https://blog.yuhanle.com/2017/12/16/electron-abc/"/>
    <id>https://blog.yuhanle.com/2017/12/16/electron-abc/</id>
    <published>2017-12-16T06:48:05.000Z</published>
    <updated>2018-07-05T01:17:21.429Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/yuhanle/blogbag/master/uploads/images/electron.jpeg" alt=""></p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>ç›®å‰ï¼Œä½¿ç”¨å‰ç«¯æŠ€æœ¯å¼€å‘æ¡Œé¢åº”ç”¨è¶Šæ¥è¶Šæˆç†Ÿï¼Œæ‰€ä»¥å‰ç«¯åŒå­¦ä¹Ÿå¯ä»¥å‚ä¸æ¡Œé¢åº”ç”¨çš„å¼€å‘ã€‚ç›®å‰ç±»ä¼¼çš„å·¥å…·æœ‰electronï¼ŒNW.jsç­‰ã€‚åˆšå¥½æœ€è¿‘åœ¨å­¦ä¹ Vueï¼Œç®€å•åšäº†äº›å…¥é—¨é¡µé¢ï¼ŒB/S çš„æ–¹å¼è™½ç„¶èƒ½å¤Ÿè·¨å¹³å°ä½¿ç”¨ï¼Œä½†æ˜¯å¯¹äºä¸æŠ˜è…¾ä¼šæ­»çš„å‘¨æœ«æ¥è¯´ï¼Œå°è¯•ç€è¸©å‘æ‰æ˜¯æœ€å……å®çš„ã€‚</p><a id="more"></a><p>è¿™é‡Œæˆ‘ä»¬ç®€å•ä»‹ç»ä¸‹ <a href="https://electron.org.cn/" target="_blank" rel="noopener">Electron</a>çš„ä½¿ç”¨ã€‚</p><p>Electron ä¸­æ–‡ç½‘ä¸Šå¯¹äºä»–çš„åŠŸèƒ½æè¿°çš„å¾ˆç›´è§‚ï¼Œä¹Ÿå¾ˆå¸å¼•ä¼—å¤šå¼€å‘è€…çš„æ¢ç´¢ã€‚</p><center><br><h4>æ¯”ä½ æƒ³è±¡çš„æ›´å®¹æ˜“</h4><br></center><blockquote><p>å¦‚æœæ‚¨èƒ½å¤Ÿæ­å»ºä¸€ä¸ªç½‘ç«™ï¼Œé‚£ä¹ˆæ‚¨å°±å¯ä»¥æ­å»ºä¸€ä¸ªæ¡Œé¢åº”ç”¨ã€‚ Electronæ˜¯è¿™æ ·ä¸€ä¸ªæ¡†æ¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©æ‚¨ä½¿ç”¨JavaScript/Html/Cssç­‰ç½‘ç«™ç›¸å…³æŠ€æœ¯ï¼Œéå¸¸å¿«é€Ÿè€Œå®¹æ˜“åœ°æ­å»ºä¸€ä¸ªåŸç”Ÿåº”ç”¨ã€‚è¿™æ ·ï¼Œæ‚¨å°±å¯ä»¥èšç„¦äºæ‚¨çš„ä¸šåŠ¡ç³»ç»Ÿæœ¬èº«äº†ï¼Œç„¶åæŠŠå‰©ä¸‹çš„é‚£äº›éš¾é¢˜äº¤ç»™æˆ‘ä»¬å¥½äº†ã€‚</p></blockquote><h2 id="å¦‚ä½•å¼€å‘"><a href="#å¦‚ä½•å¼€å‘" class="headerlink" title="å¦‚ä½•å¼€å‘"></a>å¦‚ä½•å¼€å‘</h2><p>ç®€å•æ¥è¯´ï¼ŒElectron æ˜¯åŸºäºNode.js å’ŒChromium åšçš„ä¸€ä¸ªå·¥å…·ï¼Œé€šè¿‡å°†å‰ç«¯é¡µé¢åŠ å£³çš„æ–¹å¼ï¼Œå®ç°æ¡Œé¢å¼€å‘ï¼Œå¹¶ä¸”æ”¯æŒè·¨å¹³å°ã€‚</p><p>ä»–æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œé™¤äº†å®˜æ–¹æ–‡æ¡£ä¸Šçš„åŸºç¡€é…ç½®ï¼Œå¼€å‘ç›¸å…³çš„åªæ˜¯ä¸»è¦æ˜¯æ˜¯å‰ç«¯ä¸šåŠ¡ç›¸å…³ï¼Œå¯¹äºå·¥å…·çš„ä½¿ç”¨çœ‹æ–‡æ¡£ï¼Œè®ºå›äº¤æµå’Œæ›´å¤šDemo çš„å­¦ä¹ è¶³å¤Ÿã€‚</p><h3 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h3><p>ä¸€ä¸ªæœ€ç®€å•çš„Electron é¡¹ç›®åŒ…å«ä¸‰ä¸ªæ–‡ä»¶ï¼Œpackage.json, index.html, main,jsã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">|-- package.json Node.js é¡¹ç›®çš„é…ç½®æ–‡ä»¶</span><br><span class="line">|-- index.html æ¡Œé¢åº”ç”¨çš„ä¸šåŠ¡</span><br><span class="line">|-- main.js åº”ç”¨çš„å¯åŠ¨å…¥å£æ–‡ä»¶</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œæ ¸å¿ƒçš„æ–‡ä»¶æ˜¯index.html å’Œmain.jsã€‚</p><p>å›åˆ°æœ€è¿‘å†™çš„å°å·¥å…·ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">|-- voicepkgtool </span><br><span class="line">||-- config webpacké…ç½®æ–‡ä»¶</span><br><span class="line">|||-- dev.env.js </span><br><span class="line">|||-- index.js</span><br><span class="line">||-- dist å‘å¸ƒ</span><br><span class="line">||-- node_modules</span><br><span class="line">||-- samples Node.js Server</span><br><span class="line">||-- src æºç ç›®å½•</span><br><span class="line">||-- main.js Electron åº”ç”¨å…¥å£</span><br><span class="line">||-- package.jsoné…ç½®æ–‡ä»¶</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…ä½¿ç”¨"><a href="#å®‰è£…ä½¿ç”¨" class="headerlink" title="å®‰è£…ä½¿ç”¨"></a>å®‰è£…ä½¿ç”¨</h2><p>æ¨èæŸ¥é˜…å®˜ç½‘çš„æ•™ç¨‹<a href="https://electron.org.cn/vue/index.html" target="_blank" rel="noopener">Electron-vue</a></p><p>æˆ‘ä»¬è¿™ä¸ªç®€å•çš„Web é¡¹ç›®éƒ¨ç½²ä»¥åï¼Œå¸Œæœ›å¯ä»¥é€šè¿‡Electron æ‰“åŒ…è·¨å±ä½“è¿è¡Œï¼Œæ‰€ä»¥åªéœ€è¦ç®€å•å‡ æ­¥é…ç½®å°±æå®šï¼</p><h3 id="å®‰è£…Electron"><a href="#å®‰è£…Electron" class="headerlink" title="å®‰è£…Electron"></a>å®‰è£…Electron</h3><p>åœ¨ä½¿ç”¨å‰ï¼Œéœ€è¦å…ˆå®‰è£…ç›¸å…³æ¨¡å—ï¼Œç„¶ååœ¨é¡¹ç›®ä¸­å¼•å…¥ä½¿ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æ ¸å¿ƒæ¨¡å—</span><br><span class="line">npm install electron -s</span><br><span class="line">// æ‰“åŒ…æ¨¡å— | ä¹Ÿå¯ä»¥ä½¿ç”¨electron-builder</span><br><span class="line">npm install electron-packager -s</span><br></pre></td></tr></table></figure><h3 id="å…¥å£æ–‡ä»¶"><a href="#å…¥å£æ–‡ä»¶" class="headerlink" title="å…¥å£æ–‡ä»¶"></a>å…¥å£æ–‡ä»¶</h3><p>åœ¨æ‰§è¡ŒElectron ç›¸å…³å‘½ä»¤å¹¶å¯åŠ¨åº”ç”¨æ—¶ï¼Œéœ€è¦ä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œå°±æ˜¯ä¸Šé¢æåˆ°çš„main.jsï¼Œæ–‡ä»¶åŒ…å«æ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒï¼ŒåŒæ—¶ä¹Ÿç”¨æ¥å­˜æ”¾åº”ç”¨ç›¸å…³é…ç½®ä¿¡æ¯ã€‚</p><p>ä»¥ä¸‹ä¾¿æ˜¯æˆ‘ä»¬ä¸ºç›®å‰è¿™ä¸ªå°é¡¹ç›®ç¼–è¾‘çš„main.js æ–‡ä»¶ï¼ŒAPI å¯ä»¥å‚è€ƒå®˜æ–¹æ•™ç¨‹ã€‚</p><p>æ³¨é‡Šä¹Ÿå¯ä»¥æ¸…æ¥šçš„äº†è§£æ¯ä¸€è¡Œçš„å«ä¹‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">const electron = require(&apos;electron&apos;)</span><br><span class="line">// Module to control application life.</span><br><span class="line">const app = electron.app</span><br><span class="line">// Module to create native browser window.</span><br><span class="line">const BrowserWindow = electron.BrowserWindow</span><br><span class="line"></span><br><span class="line">const path = require(&apos;path&apos;)</span><br><span class="line">const url = require(&apos;url&apos;)</span><br><span class="line"></span><br><span class="line">// Keep a global reference of the window object, if you don&apos;t, the window will</span><br><span class="line">// be closed automatically when the JavaScript object is garbage collected.</span><br><span class="line">let mainWindow</span><br><span class="line"></span><br><span class="line">function createWindow () &#123;</span><br><span class="line">  // Create the browser window.</span><br><span class="line">  mainWindow = new BrowserWindow(&#123;width: 800, height: 600&#125;)</span><br><span class="line"></span><br><span class="line">  // and load the index.html of the app.</span><br><span class="line">  mainWindow.loadURL(url.format(&#123;</span><br><span class="line">    pathname: path.join(__dirname, &apos;dist/index.html&apos;),</span><br><span class="line">    protocol: &apos;file:&apos;,</span><br><span class="line">    slashes: true</span><br><span class="line">  &#125;))</span><br><span class="line"></span><br><span class="line">  // Open the DevTools.</span><br><span class="line">  // mainWindow.webContents.openDevTools()</span><br><span class="line"></span><br><span class="line">  // Emitted when the window is closed.</span><br><span class="line">  mainWindow.on(&apos;closed&apos;, function () &#123;</span><br><span class="line">    // Dereference the window object, usually you would store windows</span><br><span class="line">    // in an array if your app supports multi windows, this is the time</span><br><span class="line">    // when you should delete the corresponding element.</span><br><span class="line">    mainWindow = null</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// This method will be called when Electron has finished</span><br><span class="line">// initialization and is ready to create browser windows.</span><br><span class="line">// Some APIs can only be used after this event occurs.</span><br><span class="line">app.on(&apos;ready&apos;, createWindow)</span><br><span class="line"></span><br><span class="line">// Quit when all windows are closed.</span><br><span class="line">app.on(&apos;window-all-closed&apos;, function () &#123;</span><br><span class="line">  // On OS X it is common for applications and their menu bar</span><br><span class="line">  // to stay active until the user quits explicitly with Cmd + Q</span><br><span class="line">  if (process.platform !== &apos;darwin&apos;) &#123;</span><br><span class="line">    app.quit()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.on(&apos;activate&apos;, function () &#123;</span><br><span class="line">  // On OS X it&apos;s common to re-create a window in the app when the</span><br><span class="line">  // dock icon is clicked and there are no other windows open.</span><br><span class="line">  if (mainWindow === null) &#123;</span><br><span class="line">    createWindow()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// In this file you can include the rest of your app&apos;s specific main process</span><br><span class="line">// code. You can also put them in separate files and require them here.</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¾‘è„šæœ¬"><a href="#ç¼–è¾‘è„šæœ¬" class="headerlink" title="ç¼–è¾‘è„šæœ¬"></a>ç¼–è¾‘è„šæœ¬</h3><p>å…¥å£æ–‡ä»¶çš„è·¯å¾„ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡é”®å€¼å¯¹çš„æ–¹å¼ï¼Œæ–°å¢åœ¨package.json æ–‡ä»¶é‡Œï¼ŒåŒæ—¶å¯ä»¥åœ¨Scripts é‡Œæ·»åŠ å¯åŠ¨ã€ç¼–è¯‘ä»¥åŠæ‰“åŒ…çš„è„šæœ¬ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;voicepkgtool&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;A Vue.js project&quot;,</span><br><span class="line">  &quot;author&quot;: &quot;shibo.wen@ti-link.com.cn&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;main.js&quot;,// å…¥å£æ–‡ä»¶è·¯å¾„ ä¸å¯ç¼ºå°‘ å¦åˆ™æ‰§è¡Œæ—¶ä¼šæŠ¥é”™</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;electron .&quot;,// å¯åŠ¨åº”ç”¨</span><br><span class="line">    &quot;dev&quot;: &quot;webpack-dev-server --inline --hot --env.dev&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;rimraf dist &amp;&amp; webpack -p --progress --hide-modules&quot;,</span><br><span class="line">    &quot;build:all&quot;: &quot;electron-packager . voicepkgtool --platform=all --arch=all -version=0.0.1 --icon=app.ico --out=Staging --version-string.ProductName=Telar Converter --version-string.ProductVersion=0.5.0&quot;,</span><br><span class="line">    &quot;package&quot;: &quot;electron-packager ./ voicepkgtool --all --out ./ --version 0.0.1 --overwrite&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;axios&quot;: &quot;^0.17.1&quot;,</span><br><span class="line">    &quot;checksum&quot;: &quot;^0.1.1&quot;,</span><br><span class="line">    &quot;electron&quot;: &quot;^1.7.9&quot;,</span><br><span class="line">    &quot;electron-packager&quot;: &quot;^10.1.0&quot;,</span><br><span class="line">    &quot;element-ui&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;file-saver&quot;: &quot;^1.3.3&quot;,</span><br><span class="line">    &quot;jszip&quot;: &quot;^3.1.5&quot;,</span><br><span class="line">    &quot;qs&quot;: &quot;^6.5.1&quot;,</span><br><span class="line">    &quot;querystring&quot;: &quot;^0.2.0&quot;,</span><br><span class="line">    &quot;vue&quot;: &quot;^2.5.2&quot;,</span><br><span class="line">    &quot;vue-simple-uploader&quot;: &quot;^0.3.0&quot;,</span><br><span class="line">    &quot;webpack-merge&quot;: &quot;^4.1.1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;engines&quot;: &#123;</span><br><span class="line">    &quot;node&quot;: &quot;&gt;=6&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;autoprefixer&quot;: &quot;^6.6.0&quot;,</span><br><span class="line">    &quot;babel-core&quot;: &quot;^6.24.1&quot;,</span><br><span class="line">    &quot;babel-loader&quot;: &quot;^6.4.0&quot;,</span><br><span class="line">    &quot;babel-preset-vue-app&quot;: &quot;^1.2.0&quot;,</span><br><span class="line">    &quot;css-loader&quot;: &quot;^0.27.0&quot;,</span><br><span class="line">    &quot;file-loader&quot;: &quot;^0.10.1&quot;,</span><br><span class="line">    &quot;html-webpack-plugin&quot;: &quot;^2.24.1&quot;,</span><br><span class="line">    &quot;postcss-loader&quot;: &quot;^1.3.3&quot;,</span><br><span class="line">    &quot;rimraf&quot;: &quot;^2.5.4&quot;,</span><br><span class="line">    &quot;style-loader&quot;: &quot;^0.13.2&quot;,</span><br><span class="line">    &quot;url-loader&quot;: &quot;^0.5.8&quot;,</span><br><span class="line">    &quot;vue-loader&quot;: &quot;^13.3.0&quot;,</span><br><span class="line">    &quot;vue-template-compiler&quot;: &quot;^2.5.2&quot;,</span><br><span class="line">    &quot;webpack&quot;: &quot;^2.4.1&quot;,</span><br><span class="line">    &quot;webpack-dev-server&quot;: &quot;^2.4.2&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ç€æˆ‘ä»¬åªéœ€è¦æ‰§è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run start</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªè·¨å±å°çš„åº”ç”¨å°±å±•ç°åœ¨æ¡Œé¢ä¸Šã€‚</p><h3 id="æ„å»ºæ‰“åŒ…"><a href="#æ„å»ºæ‰“åŒ…" class="headerlink" title="æ„å»ºæ‰“åŒ…"></a>æ„å»ºæ‰“åŒ…</h3><p>è¿›é˜¶æ•™ç¨‹å‚è€ƒ<a href="https://electron.org.cn/build.html" target="_blank" rel="noopener">Electronæ„å»ºæ‰“åŒ…</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">electron-packager . --overwrite --platform=darwin --arch=x64 --out=out --icon=assets/app-icon/mac/app.icns --osx-sign.identity=&apos;Developer ID Application: GitHub&apos; --extend-info=assets/mac/info.plist</span><br><span class="line"></span><br><span class="line">electron-packager . --overwrite --platform=win32 --arch=ia32 --out=out --icon=assets/app-icon/win/app.ico</span><br><span class="line"></span><br><span class="line">electron-packager . --overwrite --platform=linux --arch=x64 --out=out</span><br></pre></td></tr></table></figure><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><h3 id="Electron-ä¸æ”¯æŒXP-ç³»ç»Ÿ"><a href="#Electron-ä¸æ”¯æŒXP-ç³»ç»Ÿ" class="headerlink" title="Electron ä¸æ”¯æŒXP ç³»ç»Ÿ"></a>Electron ä¸æ”¯æŒXP ç³»ç»Ÿ</h3><p>å¦‚æœæœ‰è€ƒè™‘åœ¨XP ç³»ç»Ÿä¸Šä½¿ç”¨ï¼Œä¸ç”¨è€ƒè™‘äº†</p><p>å‚è€ƒï¼š<a href="https://js3.org/question/43" target="_blank" rel="noopener">https://js3.org/question/43</a></p><h3 id="å®‰è£…åŒ…å¤§å°"><a href="#å®‰è£…åŒ…å¤§å°" class="headerlink" title="å®‰è£…åŒ…å¤§å°"></a>å®‰è£…åŒ…å¤§å°</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé€šè¿‡packageræˆ–è€…builderæ‰“åŒ…å®Œæ¯•åï¼Œexeã€dllã€asrç­‰æ–‡ä»¶æ€»å’Œçš„å¤§å°ä¸º100Må·¦å³ã€‚è€Œé€šè¿‡builderåˆ¶ä½œçš„nsiså®‰è£…åŒ…ï¼Œä¸€èˆ¬ä¸º32Må·¦å³ã€‚é€šè¿‡innosetupç”Ÿæˆçš„å®‰è£…åŒ…ï¼Œä¸€èˆ¬ä¸º31Må·¦å³ã€‚æ€»ä½“æ¥è¯´ï¼Œä½“ç§¯è¾ƒå¤§ã€‚ä½†æ˜¯æ‚¨é€šè¿‡ä¸€ç³»åˆ—çš„æ‰‹æ®µå¯ä»¥æœ‰æ•ˆçš„å‡å°‘å®ƒçš„ä½“ç§¯ï¼Œåˆ°ä¸€ä¸ªå¯æ¥å—çš„èŒƒå›´ã€‚</p><h3 id="è°ƒè¯•æ¨¡å¼"><a href="#è°ƒè¯•æ¨¡å¼" class="headerlink" title="è°ƒè¯•æ¨¡å¼"></a>è°ƒè¯•æ¨¡å¼</h3><p>æµè§ˆå™¨çª—å£çš„å¼€å‘å·¥å…·ä»…èƒ½è°ƒè¯•æ¸²æŸ“å™¨çš„è¿›ç¨‹è„šæœ¬ï¼ˆæ¯”å¦‚ web é¡µé¢ï¼‰ã€‚ä¸ºäº†æä¾›ä¸€ä¸ªå¯ä»¥è°ƒè¯•ä¸»è¿›ç¨‹ çš„æ–¹æ³•ï¼ŒElectron æä¾›äº† â€“debug å’Œ â€“debug-brk å¼€å…³ã€‚</p><p>ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤è¡Œå¼€å…³æ¥è°ƒè¯• Electron çš„ä¸»è¿›ç¨‹ï¼š</p><p>â€“debug=[port]</p><p>å½“è¿™ä¸ªå¼€å…³ç”¨äº Electron æ—¶ï¼Œå®ƒå°†ä¼šç›‘å¬ V8 å¼•æ“ä¸­æœ‰å…³ port çš„è°ƒè¯•å™¨åè®®ä¿¡æ¯ã€‚ é»˜è®¤çš„ port æ˜¯ 5858ã€‚</p><p>â€“debug-brk=[port]</p><p>å°±åƒ â€“debug ä¸€æ ·ï¼Œä½†æ˜¯ä¼šåœ¨ç¬¬ä¸€è¡Œæš‚åœè„šæœ¬è¿è¡Œã€‚</p><h2 id="Electron-å¸¸è§é—®é¢˜"><a href="#Electron-å¸¸è§é—®é¢˜" class="headerlink" title="Electron å¸¸è§é—®é¢˜"></a>Electron å¸¸è§é—®é¢˜</h2><p>å¦‚ä½•è§£å†³ä¸‹è½½æºçš„æ—¶å€™timeouté—®é¢˜<br>å¯¹äºå›½å†…çš„ç½‘ç»œç”¨æˆ·ï¼Œè¯·åˆ‡æ¢npmæºä¸ºæ·˜å®çš„cnpmæºï¼Œåˆ‡æ¢æ–¹æ³•ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org/</span><br><span class="line">npm config set electron_mirror http://npm.taobao.org/mirrors/electron/</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œå¯¹äºæ–‡ä»¶æ„å»ºæ—¶çš„timeouté—®é¢˜ï¼Œéœ€è¦æ‚¨ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶åˆ°æœ¬åœ°ç¼“å­˜æ–‡ä»¶å¤¹ã€‚å…·ä½“çš„ä¸‹è½½åˆ‡æ¢åŠæ³•ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ï¼š<a href="https://js3.org/article/7" target="_blank" rel="noopener">https://js3.org/article/7</a></p><p>æ›´å¤šé—®é¢˜å‚è€ƒï¼š<a href="https://electron.org.cn/doc/faq.html" target="_blank" rel="noopener">Electron å¸¸è§é—®é¢˜</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/yuhanle/blogbag/master/uploads/images/electron.jpeg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h2&gt;&lt;p&gt;ç›®å‰ï¼Œä½¿ç”¨å‰ç«¯æŠ€æœ¯å¼€å‘æ¡Œé¢åº”ç”¨è¶Šæ¥è¶Šæˆç†Ÿï¼Œæ‰€ä»¥å‰ç«¯åŒå­¦ä¹Ÿå¯ä»¥å‚ä¸æ¡Œé¢åº”ç”¨çš„å¼€å‘ã€‚ç›®å‰ç±»ä¼¼çš„å·¥å…·æœ‰electronï¼ŒNW.jsç­‰ã€‚åˆšå¥½æœ€è¿‘åœ¨å­¦ä¹ Vueï¼Œç®€å•åšäº†äº›å…¥é—¨é¡µé¢ï¼ŒB/S çš„æ–¹å¼è™½ç„¶èƒ½å¤Ÿè·¨å¹³å°ä½¿ç”¨ï¼Œä½†æ˜¯å¯¹äºä¸æŠ˜è…¾ä¼šæ­»çš„å‘¨æœ«æ¥è¯´ï¼Œå°è¯•ç€è¸©å‘æ‰æ˜¯æœ€å……å®çš„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="BIGFE" scheme="https://blog.yuhanle.com/categories/BIGFE/"/>
    
    
      <category term="electron" scheme="https://blog.yuhanle.com/tags/electron/"/>
    
  </entry>
  
  <entry>
    <title>Xcode9.2 ç¼–è¯‘åœ¨iOS8.1 ç³»ç»Ÿä¸Šå›¾ç‰‡æ˜¾ç¤ºå¼‚å¸¸</title>
    <link href="https://blog.yuhanle.com/2017/12/09/xocde9-2-and-iOS-8-1-image-unnormal/"/>
    <id>https://blog.yuhanle.com/2017/12/09/xocde9-2-and-iOS-8-1-image-unnormal/</id>
    <published>2017-12-09T01:52:47.000Z</published>
    <updated>2018-07-05T01:21:37.978Z</updated>
    
    <content type="html"><![CDATA[<p>è¶ç€ä¸‹è½½Xcode 9.1 çš„ç©ºéš™ï¼Œåœ¨å‘¨æœ«çš„æ—©æ™¨è®°å½•ä¸€ä¸‹è¿™ä¸ªå‘ï¼Œå¸Œæœ›èƒ½è§£å†³ç›¸åŒé­é‡åŒè¡Œçš„å›°æƒ‘ã€‚</p><p><img src="https://github.com/yuhanle/blogbag/raw/master/uploads/images/0342bcd3280e6eaafcd3e99e0f4bc362.jpg" alt=""></p><h2 id="å§‹å› "><a href="#å§‹å› " class="headerlink" title="å§‹å› "></a>å§‹å› </h2><p>æ˜¨å¤©åˆšå‘å¸ƒäº†é€‚é…iPhone X çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¹‹æ‰€ä»¥ä½¿ç”¨Xcode 9.2æ‰“åŒ…ï¼Œæ˜¯å› ä¸ºæ—©æœŸçš„é€‚é…ï¼Œé€šè¿‡Xcode 8.2æ‰“åŒ…ï¼Œå®‰è£…åˆ°iPhone Xä¸Šæ˜¾ç¤ºçš„æ•ˆæœæ˜¯æ²¡æœ‰é€‚é…ã€‚</p><a id="more"></a><p>è¿™ä¸ªä¹Ÿæ˜¯æ— æ³•è§£é‡Šçš„ï¼Œæˆ‘ä»¬å¼€å‘ä½¿ç”¨çš„Xcode9ï¼Œåœ¨é€‚é…è¿‡ç¨‹ä¸­æ²¡æœ‰é‡åˆ°è¯¥é—®é¢˜ï¼Œæ€»æ˜¯å‡çº§å°±å¯¹äº†ã€‚</p><p>åˆšå¥½æœ€è¿‘è‹¹æœçˆ¹å‘å¸ƒäº†Xcode 9.2ï¼Œå°±ç´¢æ€§å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚</p><p>æŒç»­åŒ–é›†æˆå°±æ˜¯æ–¹ä¾¿ï¼Œä»£ç æäº¤ä»¥åï¼Œå–æ¯å’–å•¡çš„å·¥å…·ï¼Œå°±ä¸Šä¼ æˆåŠŸï¼Œç­‰å¾…å®¡æ ¸ã€‚</p><p>ä¹Ÿå°±æ˜¯åœ¨æ˜¨å¤©ä¸­åˆï¼Œæ”¶åˆ°å®¡æ ¸é€šè¿‡çš„æé†’ï¼Œå¾ˆå¥‡æ€ªï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥æ˜¯ä»–ä»¬ä¼‘æ¯çš„æ—¶é—´ã€‚</p><p>ç„¶åï¼Œå°±éå¸¸è‚¯å®šï¼Œå› ä¸ºåœ¨é€‚é…çš„è¿‡ç¨‹ä¸­ï¼Œç‰¹æ„æ‰¾äº†ä¸¤ä¸ªiPhone Xçš„ç”¨æˆ·å¸®åŠ©æµ‹è¯•ä½“éªŒã€‚éšç€å®¡æ ¸é€šè¿‡ï¼Œå°±å¾ˆå¿«å‘å¸ƒå‡ºå»ã€‚</p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>å¤§æ¦‚ä¸‹åˆ3ç‚¹é’Ÿï¼Œè·ç¦»å‘å¸ƒç‰ˆæœ¬åªè¿‡äº†3 ä¸ªå°æ—¶å·¦å³ã€‚æ”¶åˆ°å®¢æœå¦¹å­çš„ä¸€ä¸ªå¤§å†™çš„é—®å·ã€‚</p><p><img src="https://github.com/yuhanle/blogbag/raw/master/uploads/images/WX20171209-100043@2x.png" alt=""></p><p>è¿™ä¸€ç¬é—´ï¼Œæ•´ä¸ªäººéƒ½æ˜¯æ‡µçš„ï¼Œæ…Œå¿™è®©ç”¨æˆ·é‡å¯APPï¼Œé‡å¯ç³»ç»Ÿï¼Œå‡çº§ç³»ç»Ÿï¼Œæœ€åè¢«ç”¨æˆ·æ‹’ç»æ‰ã€‚</p><p>æ—¢ç„¶æ˜¯å¿…ç°çš„é—®é¢˜ï¼Œä¸èƒ½å°†é—®é¢˜æ¨åˆ°å‡çº§ç³»ç»Ÿä¸Šï¼Œè¯¥è§£å†³è¿˜æ˜¯è¦å°½å¿«è§£å†³çš„ã€‚</p><p>æ¥ç€å°±å¼€å§‹ç€æ‰‹å¦å¤–ä¸€ä¸ªé¡¹ç›®ï¼Œæ™šä¸Šå›åˆ°å®¶å¼€å§‹æ€è€ƒï¼Œé—®é¢˜å­˜åœ¨çš„ç‰ˆæœ¬è¿‘æœŸç©¶ç«Ÿæ”¹äº†ä»€ä¹ˆå†…å®¹ã€‚åŒæ—¶ä¹Ÿä¸‹è½½äº†iOS8.1 çš„æ¨¡æ‹Ÿå™¨ï¼Œä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„Xcode è¿è¡Œçœ‹äº†ä¸‹æ•ˆæœï¼Œç¡®å®å¦‚æ­¤æ˜¯å¤ç°çš„ã€‚</p><p>æ‰€ä»¥ï¼Œè¦é©¬ä¸Šæ”¹å˜æ€åº¦ï¼Œå’Œå®¢æœåŒå¿—æå¥½å…³ç³»ï¼Œæ—©ç‚¹è®¤é”™æ‰èƒ½èµ°å¾—æ›´è¿œã€‚</p><p><img src="https://github.com/yuhanle/blogbag/raw/master/uploads/images/WX20171209-101223@2x.png" alt=""></p><h2 id="å›å¿†"><a href="#å›å¿†" class="headerlink" title="å›å¿†"></a>å›å¿†</h2><h3 id="1-åˆ æ‰LaunchScreen-sb-æ–‡ä»¶"><a href="#1-åˆ æ‰LaunchScreen-sb-æ–‡ä»¶" class="headerlink" title="1. åˆ æ‰LaunchScreen.sb æ–‡ä»¶"></a>1. åˆ æ‰LaunchScreen.sb æ–‡ä»¶</h3><p>ä¸ºäº†é€‚é…iPhone X çš„å¯åŠ¨å›¾ï¼ŒåŒæ—¶åœ¨å¯åŠ¨åä½¿ç”¨å¯åŠ¨å›¾åšäº†ç®€å•çš„æ•ˆæœï¼Œå†³å®šä½¿ç”¨LaunchImage çš„æ–¹å¼è®¾ç½®å¯åŠ¨å›¾ã€‚</p><p>åœ¨æ›´æ”¹ä»£ç åï¼Œå°è¯•äº†ä¸€ä¸‹ä¿®æ”¹ç»“æœï¼Œä¾ç„¶æ˜¯éæ­£å¸¸çš„ã€‚</p><p>æ•ˆæœå¦‚ä¸‹ï¼Œä¸æ¯«æ²¡æœ‰æ”¹å˜ï¼š</p><p><img src="https://github.com/yuhanle/blogbag/raw/master/uploads/images/Simulator Screen Shot - iPhone 6 - 2017-12-09 at 10.17.01.png" alt=""></p><h3 id="2-Xcode-ç‰ˆæœ¬å‡çº§"><a href="#2-Xcode-ç‰ˆæœ¬å‡çº§" class="headerlink" title="2. Xcode ç‰ˆæœ¬å‡çº§"></a>2. Xcode ç‰ˆæœ¬å‡çº§</h3><p>è¿™æ¬¡çš„æ”¹åŠ¨æ¯”è¾ƒå°ï¼Œæ‰€ä»¥åœ¨æ’é™¤ä¸Šè¿°çš„æ”¹åŠ¨åï¼Œç›´æ¥æƒ³åˆ°çš„å°±æ˜¯å¯èƒ½å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å¾ˆå°‘ä¼šæ€€ç–‘è‹¹æœçˆ¹ä¼šæŒ–è¿™ä¹ˆå¤§çš„å‘ï¼Œè®©å¼€å‘è€…è·³è¿›å»ã€‚</p><p>ä¸ç®¡å¦‚ä½•ï¼Œé™çº§ç‰ˆæœ¬è¯•è¯•å°±çŸ¥é“æ˜¯ä¸æ˜¯è¿™ä¸ªåŸå› ã€‚</p><table><thead><tr><th>Xcode9.2</th><th>Xcode9.1</th></tr></thead><tbody><tr><td><img src="https://github.com/yuhanle/blogbag/raw/master/uploads/images/Simulator Screen Shot - iPhone 6 - 2017-12-09 at 10.17.01.png" alt="ä¿®æ”¹å‰"></td><td><img src="https://github.com/yuhanle/blogbag/raw/master/uploads/images/Simulator%20Screen%20Shot%20-%20iPhone%206%20-%202017-12-09%20at%2010.51.55.png" alt="ä¿®æ”¹å"></td></tr></tbody></table><p>é€šè¿‡ä¸Šè¿°å¯¹æ¯”ï¼Œç¡®å®šé—®é¢˜å°±å¤„åœ¨Xcode ç‰ˆæœ¬ä¸Šã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h3 id="1-ç­‰è‹¹æœçˆ¹æ›´æ–°"><a href="#1-ç­‰è‹¹æœçˆ¹æ›´æ–°" class="headerlink" title="1. ç­‰è‹¹æœçˆ¹æ›´æ–°"></a>1. ç­‰è‹¹æœçˆ¹æ›´æ–°</h3><p>å¦‚æœè‹¹æœçˆ¹ä¸€ç›´æ²¡æ³¨æ„åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæˆ–è€…æ²¡æœ‰äººæï¼Œè°çŸ¥é“è¿˜è¦ç­‰å¤šä¹…ï¼Ÿ<br>å…³äºæ­¤é—®é¢˜ï¼Œæˆ‘å·²ç»å‘è‹¹æœçˆ¹æäº¤äº†bugï¼ŒæœŸå¾…åç»­ä¿®å¤ï¼š</p><p><a href="https://bugreport.apple.com/web/?problemID=35948702" target="_blank" rel="noopener">ProblemID=35948702</a></p><h3 id="2-å…ˆé™çº§Xcode"><a href="#2-å…ˆé™çº§Xcode" class="headerlink" title="2. å…ˆé™çº§Xcode"></a>2. å…ˆé™çº§Xcode</h3><p>ç¡®åˆ‡çš„è¯´ï¼Œè¿™æ˜¯ç›®å‰æœ€å¿«æ·çš„ä¸€ä¸ªæ–¹å¼ï¼Œä¿è¯æ²¡æœ‰é—®é¢˜ã€‚</p><h3 id="3-æ”¹å˜å›¾ç‰‡èµ„æºå­˜å‚¨"><a href="#3-æ”¹å˜å›¾ç‰‡èµ„æºå­˜å‚¨" class="headerlink" title="3. æ”¹å˜å›¾ç‰‡èµ„æºå­˜å‚¨"></a>3. æ”¹å˜å›¾ç‰‡èµ„æºå­˜å‚¨</h3><p>å›¾ç‰‡ä¸è¦æ”¾åœ¨asseté‡Œé¢ï¼Œæ–¹æ³•æ”¾åœ¨bundleé‡Œé¢å°±æ²¡é—®é¢˜ã€‚ä¸çŸ¥é“æ˜¯Xcode9.2bugè¿˜æ˜¯æ²¡è®¾ç½®ç›¸å…³å±æ€§ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="http://www.cocoachina.com/bbs/read.php?tid=1729079" target="_blank" rel="noopener">Xcode9.2 è¿è¡ŒiOS8.1å›¾ç‰‡å¼‚å¸¸</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¶ç€ä¸‹è½½Xcode 9.1 çš„ç©ºéš™ï¼Œåœ¨å‘¨æœ«çš„æ—©æ™¨è®°å½•ä¸€ä¸‹è¿™ä¸ªå‘ï¼Œå¸Œæœ›èƒ½è§£å†³ç›¸åŒé­é‡åŒè¡Œçš„å›°æƒ‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/yuhanle/blogbag/raw/master/uploads/images/0342bcd3280e6eaafcd3e99e0f4bc362.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;å§‹å› &quot;&gt;&lt;a href=&quot;#å§‹å› &quot; class=&quot;headerlink&quot; title=&quot;å§‹å› &quot;&gt;&lt;/a&gt;å§‹å› &lt;/h2&gt;&lt;p&gt;æ˜¨å¤©åˆšå‘å¸ƒäº†é€‚é…iPhone X çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¹‹æ‰€ä»¥ä½¿ç”¨Xcode 9.2æ‰“åŒ…ï¼Œæ˜¯å› ä¸ºæ—©æœŸçš„é€‚é…ï¼Œé€šè¿‡Xcode 8.2æ‰“åŒ…ï¼Œå®‰è£…åˆ°iPhone Xä¸Šæ˜¾ç¤ºçš„æ•ˆæœæ˜¯æ²¡æœ‰é€‚é…ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="tools" scheme="https://blog.yuhanle.com/categories/tools/"/>
    
    
      <category term="tips" scheme="https://blog.yuhanle.com/tags/tips/"/>
    
  </entry>
  
  <entry>
    <title>å‡çº§ macOS High Sierra åä¸ Cocoapods çš„å…¼å®¹é—®é¢˜</title>
    <link href="https://blog.yuhanle.com/2017/12/06/macos-high-sierra-with-cocoapods/"/>
    <id>https://blog.yuhanle.com/2017/12/06/macos-high-sierra-with-cocoapods/</id>
    <published>2017-12-06T03:42:36.000Z</published>
    <updated>2018-07-05T01:19:13.989Z</updated>
    
    <content type="html"><![CDATA[<p>å½“ä½ å‘è§‰è‡ªå·±æ²¡æœ‰é—®é¢˜çš„æ—¶å€™ï¼Œé‚£å°±å°è¯•ç€é‡å¯ä¸€ä¸‹ï¼Œä¸‡ä¸€é—®é¢˜è§£å†³äº†å‘¢ï¼Ÿ</p><p>æœ€è¿‘å®åœ¨åŒçƒ¦è‹¹æœæ¨é€äº† macOS High Sierra æ›´æ–°ï¼Œäºæ˜¯ä¸€ä¸‹ç­å‰æ‰“å¼€ç”µè„‘æ›´æ–°ç³»ç»Ÿã€‚è¿‡ç¨‹è¿˜ç®—é¡ºåˆ©ï¼Œç½‘ç»œå¾ˆå¿«ï¼Œå¤§æ¦‚ 10å·¦å³å°±ä¸‹è½½å®Œæ¯•ï¼Œå‡çº§è¿‡ç¨‹ä¸­å¡æ­»ï¼Œéšåå°±è¡Œä¸‹ç­å›å®¶ï¼Œè®©å…¶å‡çº§äº†ä¸€ä¸ªå¤œæ™š</p><p>ä¸è¿‡åœ¨ä½¿ç”¨ Cocoapods çš„æ—¶å€™è¿˜æ˜¯é‡åˆ°äº†é—®é¢˜ï¼š</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">06-Dec-2017 09:28:38/Users/tianyi/bamboo-agent-home/temp/IOS-PB-JOB1-382-ScriptBuildTask-1550561307052749322.sh: /usr/local/bin/pod: /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/bin/ruby: bad interpreter: No such file or directory</span><br><span class="line">06-Dec-2017 11:24:58env: ruby_executable_hooks: No such file or directory</span><br><span class="line">06-Dec-2017 11:30:11/Users/tianyi/bamboo-agent-home/temp/IOS-PB-JOB1-382-ScriptBuildTask-5355633338674781643.sh: line 7: pod: command not found</span><br><span class="line">06-Dec-2017 11:31:27env: ruby_executable_hooks: No such file or directory</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥æ˜¯ Cocoapods ä¾èµ–çš„ Ruby ç‰ˆæœ¬é—®é¢˜ï¼ŒGoogle ä¸€ä¸‹ï¼Œå‘ç°å·²ç»æœ‰äººåœ¨ Cocoapods çš„ repo ä¸‹æäº†è¿™ä¸ª <a href="https://github.com/CocoaPods/CocoaPods/issues/6778" target="_blank" rel="noopener">issue</a>ï¼Œä¸‹é¢ä¹Ÿæœ‰å¼€å‘è€…ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆï¼šé‡æ–°å®‰è£… Cocoapods. </p><p>Pod å‘½ä»¤éœ€è¦ç”¨åˆ° 2.0 ç‰ˆæœ¬çš„ Ruby è§£é‡Šå™¨ <code>/System/Library/Frameworks/Ruby.framework/Versions/2.0</code>ï¼Œè€Œ <code>macOS High Sierra</code> å°†ç³»ç»Ÿçš„ Ruby è§£é‡Šå™¨å‡çº§åˆ°äº† <code>2.3</code> <code>/System/Library/Frameworks/Ruby.framework/Versions/2.3</code>ï¼Œå› æ­¤æ‰§è¡Œ pod å‘½ä»¤çš„æ—¶å€™ç”±äºæ‰¾ä¸åˆ° Ruby è§£é‡Šå™¨è€ŒæŠ¥é”™ã€‚</p><p>äºæ˜¯æŒ‰ç…§æç¤ºé‡è£… Cocoapodsï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo gem install cocoapods</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåç»§ç»­æ‰§è¡Œ pod installï¼ŒåˆæŠ¥äº†åŒæ ·çš„é”™è¯¯ã€‚æˆ‘å†³å®šç»§ç»­é‡è£…ä¸€æ¬¡ Cocoapodsï¼Œä¸è¿‡è¿™æ¬¡åŠ ä¸Š â€“verbose å‚æ•°ï¼Œçœ‹çœ‹å®‰è£…è¿‡ç¨‹ä¸­åšäº†å“ªäº›æ“ä½œã€‚log å¤ªé•¿æˆ‘å°±ä¸è´´äº†ï¼Œä¸è¿‡æ³¨æ„åˆ°æœ€åè¾“å‡ºçš„ pod å‘½ä»¤ä½ç½®ä¼¼ä¹è·Ÿä¸Šé¢æ‰§è¡Œ which pod è¾“å‡ºæœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå®ƒæ˜¯ /usr/bin/podï¼Œè€Œ which pod çš„è¾“å‡ºæ˜¯ /usr/local/bin/podï¼Œå†çœ‹ä¸€ä¸‹æˆ‘çš„ $PATH è·¯å¾„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ echo $PATH</span><br><span class="line">/Users/tianyi/.rvm/gems/ruby-2.4.1/bin:/Users/tianyi/.rvm/gems/ruby-2.4.1@global/bin:/Users/tianyi/.rvm/rubies/ruby-2.4.1/bin:/Users/tianyi/.rvm/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_91.jdk/Contents/Home/bin:/Users/tianyi/.jenv/shims:/Users/tianyi/.jenv/bin:/opt/subversion/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/Server.app/Contents/ServerRoot/usr/bin:/Applications/Server.app/Contents/ServerRoot/usr/sbin:/usr/local/go/bin:/Users/tianyi/bin:/Users/tianyi/goProject/bin:/usr/local/go/bin:/usr/local/Cellar/nginx/1.12.0/bin:/usr/local/mysql/bin</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°åœ¨æˆ‘çš„ $PATH ç¯å¢ƒå˜é‡é‡Œï¼Œ/usr/local/bin çš„ä¼˜å…ˆçº§æ˜¯é«˜äº /usr/bin çš„ï¼Œå› æ­¤å½“è¿™ä¸¤ä¸ªåœ°æ–¹éƒ½å­˜åœ¨ä¸€ä¸ªåå« pod çš„å‘½ä»¤æ—¶ï¼Œç³»ç»Ÿä¼˜å…ˆæ‰§è¡Œ /usr/local/bin/podï¼Œäºæ˜¯é”™è¯¯å°±è¿™ä¹ˆäº§ç”Ÿäº†ã€‚å› æ­¤æˆ‘ç›´æ¥åˆ é™¤ /usr/local/bin/pod æ–‡ä»¶ï¼Œå†æ‰§è¡Œ pod install â€“verboseï¼Œè¿™ä¸€æ¬¡æœç„¶å®‰è£…æˆåŠŸäº†ã€‚</p><p>è¿™ä¸ªé—®é¢˜åº”è¯¥æ˜¯ç”±äº Cocoapods æ”¹å˜äº†å®‰è£…è·¯å¾„å¯¼è‡´çš„ï¼Œè®°å¾— macOS å¯ç”¨ System Integrity Protection ä¹‹å Cocoapods çš„å®‰è£…è·¯å¾„ä¹Ÿä¿®æ”¹è¿‡ï¼Œè¿™æ¬¡åº”è¯¥ä¹Ÿæ˜¯ç±»ä¼¼çš„é—®é¢˜å§ï¼Œç”±äº $PATH è¿™ä¸ªç¯å¢ƒå˜é‡çš„é—®é¢˜ï¼Œå¯¼è‡´è€ç‰ˆæœ¬çš„ pod å‘½ä»¤ä¼˜å…ˆè¢«æ‰§è¡Œã€‚</p><p>äº‹æƒ…è‡³æ­¤è¿˜æœªç»“å±€</p><p>æœ¬åœ°æ‰§è¡Œpod æŒ‡ä»¤å·²ç»æ²¡é—®é¢˜äº†ï¼Œä½†æ˜¯æˆ‘ä»¬é€šè¿‡Bamboo é›†æˆï¼Œä½¿ç”¨è„šæœ¬æ‰“åŒ…ï¼Œå´ä¸€ç›´é‡å¤å‰é¢çš„é”™è¯¯æ— æ³•è‡ªæ‹”ã€‚</p><p>é‡å¯bamboo æœåŠ¡ï¼Œä¾ç„¶ä¸èƒ½è§£å†³é—®é¢˜</p><p>å°è¯•ç€ä½¿ç”¨é‡å¯æ²»ç™¾ç—…çš„æ‰‹æ®µï¼Œç”µè„‘å…³æœºé‡å¯è¯•è¯•çœ‹ï¼</p><p>ç¥ˆç¥·ä¸­â€¦ğŸ™</p><p>2017å¹´12æœˆ6æ—¥åˆæ—¶ä¸‰åˆ»æ›´</p><p>è¯´äº†ä½ å¯èƒ½ä¸ç›¸ä¿¡ï¼Œé‡å¯ç”µè„‘åï¼Œä¸€åˆ‡é—®é¢˜éƒ½å¥½äº†~</p><p>æ›´æ–°</p><p>è§£å†³macOS Sierraä¸‹æ³¨å†Œæœºæ— æ³•è¿è¡Œçš„é—®é¢˜</p><p>å¾ˆå¤šè½¯ä»¶éƒ½ä¸å…¼å®¹äº†<br>ã€Œå®‰å…¨æ€§ä¸éšç§ã€è®¾ç½®ä¸­ã€Œä»»ä½•æ¥æºã€é€‰é¡¹æ¶ˆå¤±<br>å‡ ä¹æ‰€æœ‰æ³¨å†Œæœºéƒ½ç”¨ä¸äº†</p><p>æ¢å¤ä»»ä½•æ¥æºé€‰é¡¹<br>psï¼šå¦‚æœç³»ç»Ÿå‡çº§å‰å°±å·²ç»é€‰æ‹©äº†ä»»ä½•æ¥æºï¼Œå‡çº§åè¿˜ä¼šæ­£å¸¸æ˜¾ç¤º</p><p>æ‰“å¼€ç»ˆç«¯(Terminal.app)<br>æ‰§è¡Œ<code>sudo spctl --master-disable</code></p><p>â€œä»»ä½•æ¥æºâ€æ¢å¤~</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å½“ä½ å‘è§‰è‡ªå·±æ²¡æœ‰é—®é¢˜çš„æ—¶å€™ï¼Œé‚£å°±å°è¯•ç€é‡å¯ä¸€ä¸‹ï¼Œä¸‡ä¸€é—®é¢˜è§£å†³äº†å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ€è¿‘å®åœ¨åŒçƒ¦è‹¹æœæ¨é€äº† macOS High Sierra æ›´æ–°ï¼Œäºæ˜¯ä¸€ä¸‹ç­å‰æ‰“å¼€ç”µè„‘æ›´æ–°ç³»ç»Ÿã€‚è¿‡ç¨‹è¿˜ç®—é¡ºåˆ©ï¼Œç½‘ç»œå¾ˆå¿«ï¼Œå¤§æ¦‚ 10å·¦å³å°±ä¸‹è½½å®Œæ¯•ï¼Œå‡çº§è¿‡ç¨‹ä¸­å¡æ­»ï¼Œéšåå°±è¡Œä¸‹ç­å›å®¶ï¼Œè®©å…¶å‡çº§äº†ä¸€ä¸ªå¤œæ™š&lt;/p&gt;
&lt;p&gt;ä¸è¿‡åœ¨ä½¿ç”¨ Cocoapods çš„æ—¶å€™è¿˜æ˜¯é‡åˆ°äº†é—®é¢˜ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://blog.yuhanle.com/categories/iOS/"/>
    
    
      <category term="tips" scheme="https://blog.yuhanle.com/tags/tips/"/>
    
  </entry>
  
  <entry>
    <title>ä¼™è®¡ä»¬ï¼ŒGo å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•</title>
    <link href="https://blog.yuhanle.com/2017/12/04/go-is-not-very-simple-folks/"/>
    <id>https://blog.yuhanle.com/2017/12/04/go-is-not-very-simple-folks/</id>
    <published>2017-12-04T01:00:00.000Z</published>
    <updated>2018-07-05T01:14:17.624Z</updated>
    
    <content type="html"><![CDATA[<p>å·²å‘å¸ƒï¼š<a href="https://studygolang.com/articles/12330" target="_blank" rel="noopener">https://studygolang.com/articles/12330</a></p><h1 id="ä¼™è®¡ä»¬ï¼ŒGo-å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•"><a href="#ä¼™è®¡ä»¬ï¼ŒGo-å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•" class="headerlink" title="ä¼™è®¡ä»¬ï¼ŒGo å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•"></a>ä¼™è®¡ä»¬ï¼ŒGo å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•</h1><p>å‡ºäºå¥½å¥‡ï¼Œæˆ‘æœ€è¿‘å¼€å§‹æ¥è§¦ä¸€äº› Go çš„ä»£ç ã€‚æˆ‘ä¹‹å‰å¯¹å®ƒæœ‰ä¸€äº›äº†è§£ï¼Œä½†æ˜¯ä»æ¥æ²¡æœ‰å°è¯•å»å†™ï¼ˆæ²¡æœ‰éœ€æ±‚ï¼‰ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬å›¢é˜Ÿé€‰æ‹©ä½¿ç”¨ Go æ¥å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªè·å¾—å®é™…ç»éªŒçš„å¥½æœºä¼šã€‚</p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå…³äºè¿™é—¨è¯­è¨€æˆ‘å·²ç»å­¦ä¹ äº†å¾ˆé•¿æ—¶é—´ã€‚åœ¨è¿™ä¸ªåšæ–‡çš„æœ«å°¾ï¼Œæˆ‘ä¼šå†™æ›´å¤šå…³äº Go çš„å¹²è´§ã€‚</p><a id="more"></a><p>ç¤¾åŒºå®é™…ä¸Šå¹¶ä¸é‚£ä¹ˆä»¤äººæ„‰å¿«ï¼Œç‰¹åˆ«æ˜¯é‚£äº›å› ä¸ºå®ƒçš„ç®€å•æ€§è€Œä¸»å¼ ä½¿ç”¨ Go çš„äººã€‚ä¼¼ä¹ç®€å•å·²ç»æˆä¸º Go ç¤¾åŒºä¸­çš„ä¸€ä¸ªæµè¡Œè¯­ï¼Œè®¸å¤šäººåå¤é‡å¤æåˆ°è¿™ç‚¹ï¼Œå´æ²¡æœ‰ç»™å‡ºå¤ªå¤šå®é™…çš„æƒ³æ³•ã€‚</p><p>è¿™å¯¹æˆ‘æ¥è¯´ä¼¼ä¹å¾ˆä¸å¹¸ï¼Œå› ä¸ºåœ¨æˆ‘çœ‹æ¥ï¼ŒGo æ˜¯ä¸€ä¸ªâ€œæå…¶ç®€å•çš„è¯­è¨€â€ï¼š</p><ol><li>ä¸åº”è¯¥ä½œä¸ºè€ƒè™‘ä½¿ç”¨ Go çš„ä¸»è¦åŸå› </li><li>ä»ä»–ä»¬çš„å…³æ³¨ç‚¹ä¸­æ‰¾åˆ°å…¶ä»–æ›´æœ‰åˆ©çš„æ¨èç†ç”±</li><li>ç”šè‡³ä¸æ˜¯çœŸçš„ï¼ˆä¸æ˜¯çœŸçš„ç®€å•ï¼‰</li></ol><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³å›´ç»• Go æ¥åˆ†æä¸€äº›ç®€å•è§‚ç‚¹ã€‚</p><p><em>åœ¨æ·±å…¥ä¹‹å‰ï¼Œæˆ‘æƒ³å¼ºè°ƒä¸€ä»¶äº‹æƒ…</em>ï¼šè¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯å¯¹ Go çš„æ‰¹è¯„ï¼Œè€Œæ˜¯ä¸€ç§å¯¹ Go çš„å®£ä¼ å’Œå€¡å¯¼çš„æ–¹å¼ã€‚æœ‰æ—¶å€™ï¼Œæˆ‘å¯èƒ½ä¼šæ‰¹è¯„è¿™ä¸ªè¯­è¨€çš„æŸä¸ªæ–¹é¢ï¼Œä½†è¿™ä¸æ˜¯æˆ‘ä»¬å…³æ³¨çš„é‡ç‚¹ï¼Œæˆ‘åªä¼šè¯•å›¾ç”¨ä¸€ç§éæ­£å¼çš„ã€äº‹å®çš„ï¼Œæ¯ç§è¯­è¨€éƒ½ä¼šæ¶‰åŠçš„æ–¹å¼æ¥è®²è¿°ã€‚</p><h2 id="æˆ‘æ¥è‡ªå“ªé‡Œ"><a href="#æˆ‘æ¥è‡ªå“ªé‡Œ" class="headerlink" title="æˆ‘æ¥è‡ªå“ªé‡Œ"></a>æˆ‘æ¥è‡ªå“ªé‡Œ</h2><p>å‡ºäºå·¥ä½œå’Œä¸šä½™çˆ±å¥½ï¼Œæˆ‘åŒæ—¶ä½¿ç”¨å¤šç§ç¼–ç¨‹è¯­è¨€ã€‚æˆ‘ä¸èµæˆæœ‰â€œæœ€å–œæ¬¢çš„è¯­è¨€â€çš„æ¦‚å¿µã€‚è¿‡å»æˆ‘æ›¾ç»æœ‰è¿‡ä¸€äº›æœ€å–œæ¬¢çš„è¯­è¨€ï¼Œä½†è¿™ç§è®¤è¯†å¾€å¾€æ˜¯ä¸€æ—¶çš„æƒ…æ„Ÿï¼Œéšç€æ—¶é—´æ¨ç§»ï¼Œä¼šå‘ç”Ÿå˜åŒ–ã€‚</p><p>åœ¨æˆ‘çš„å·¥ä½œä¸­ï¼Œæˆ‘ä½¿ç”¨ <code>C++</code> å’Œ <code>Python</code> å†™å¤§å‹æœåŠ¡çš„åç«¯ä»£ç ã€‚è¿‡å»æˆ‘æ›¾ç»åœ¨ä¸€ä¸ªä½ å¯èƒ½çŸ¥é“çš„æ“ä½œç³»ç»Ÿä¸Šå·¥ä½œï¼Œè€Œä¸”æˆ‘ä¹Ÿåšäº†åµŒå…¥å¼å·¥ä½œã€‚åœ¨ä¸šä½™é¡¹ç›®ä¸­ï¼Œæˆ‘åšäº†å…¶ä»–å„ç§äº‹æƒ…ã€‚</p><p>æˆ‘å¹¶ä¸æ˜¯å¤¸è€€ä»€ä¹ˆï¼ˆæˆ‘ä¸æ˜¯ä¸€ä¸ªä¸“å®¶ï¼‰ï¼Œæˆ‘åªæ˜¯æƒ³è¡¨æ˜ï¼Œæˆ‘åœ¨ç¼–ç¨‹çš„è®¸å¤šé¢†åŸŸè‡³å°‘æœ‰ä¸€äº›è§è§£ï¼Œè€Œä¸”æˆ‘ä¸€ç›´åŠªåŠ›ä¿æŒå¼€æ”¾çš„å¿ƒæ€ã€‚</p><p>æ‰€ä»¥ï¼Œä¸è¦ç€æ€¥ï¼Œè®©æˆ‘ä»¬å¼€å§‹è®¨è®ºæ­£é¢˜ï¼Œçœ‹çœ‹å‡ ä¸ªè§‚ç‚¹ã€‚</p><h3 id="1-â€œä¸ä¸»æµè¯­è¨€ç›¸æ¯”ï¼ŒGo-çš„å…³é”®å­—éå¸¸å°‘â€"><a href="#1-â€œä¸ä¸»æµè¯­è¨€ç›¸æ¯”ï¼ŒGo-çš„å…³é”®å­—éå¸¸å°‘â€" class="headerlink" title="1. â€œä¸ä¸»æµè¯­è¨€ç›¸æ¯”ï¼ŒGo çš„å…³é”®å­—éå¸¸å°‘â€"></a>1. â€œä¸ä¸»æµè¯­è¨€ç›¸æ¯”ï¼ŒGo çš„å…³é”®å­—éå¸¸å°‘â€</h3><p>æˆ‘ä»ä¸€ä¸ªæœ€å¸¸è§çš„ä¾‹å­å¼€å§‹ã€‚å½“æ¨å¹¿ Go æ—¶ï¼Œè¿™ä¼šæ˜¯å¤§å®¶çš„å£å¤´ç¦…ã€‚</p><p>é¦–å…ˆï¼Œå³ä½¿å®ƒæ˜¯çœŸå®çš„ï¼Œæˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆå…³é”®å­—æ•°é‡ä¼šæ˜¯åˆ¤æ–­ä¸€ä¸ªè¯­è¨€çš„å­¦ä¹ æ›²çº¿æˆ–å¤æ‚æ€§çš„é‡è¦ä¾æ®ã€‚å½“ç„¶ï¼Œå¦‚æœæœ‰æˆåƒä¸Šä¸‡çš„å…³é”®å­—ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ä½†æ˜¯å¤§å¤šæ•°è¯­è¨€æœ€å¤šåªæœ‰å‡ åä¸ªå…³é”®å­—ï¼Œè¿™ç§è§„æ¨¡ä¸‹ï¼Œå…³é”®å­—çš„å¤šå°‘æ˜¯æ— å…³ç´§è¦çš„ã€‚</p><p>æˆ‘è¿˜æ²¡æœ‰å¬åˆ°æœ‰äººå› ä¸ºå…³é”®å­—çš„æ•°é‡è€ŒæŠ±æ€¨æŸé—¨è¯­è¨€</p><p>å…¶æ¬¡ï¼ŒGo æ‰€è°“çš„â€œå¾ˆå°‘â€çš„å…³é”®å­—å®é™…ä¸Šåªä¸è¿‡æ˜¯ä¸€ä¸ªèªæ˜å¾‹å¸ˆçš„ä¼ä¿©ï¼ˆä¹Ÿè®¸ï¼Œæˆ‘ç”šè‡³ä¼šè®¤ä¸ºè¿™æ˜¯ Go çš„è™šå‡å¹¿å‘Šï¼‰ã€‚<a href="https://golang.org/ref/spec#Keywords" target="_blank" rel="noopener">Go è§„èŒƒ</a> åˆ—å‡ºäº† 25 ä¸ªå…³é”®å­—ï¼Œè¿™çš„ç¡®æ¯”å¤§å¤šæ•°è¯­è¨€è¦å°‘äº›ã€‚ä½†åœ¨æˆ‘çœ‹æ¥ï¼ŒGo å¹¶æ²¡æœ‰æ¯”å…¶ä»–è¯­è¨€å…³é”®å­—è¡¨ç¤ºæ›´å°‘çš„æ¦‚å¿µï¼ŒGo è™½ç„¶æ²¡æœ‰è¿™äº›å…³é”®å­—ï¼Œä½†ç›¸åº”çš„æ¦‚å¿µä¾ç„¶æ˜¯è¯­è¨€çš„ä¸€éƒ¨åˆ†ï¼ˆå³å®é™…çš„å¤æ‚æ€§ä¿æŒä¸å˜ï¼‰ã€‚</p><p>ä¸ºäº†è¯´æ˜æˆ‘çš„æ„æ€ï¼Œè¯·è€ƒè™‘ä¸€ä¸ª <code>while</code> å¾ªç¯ã€‚ Go æ²¡æœ‰è¿™ä¸ªå…³é”®å­—ï¼Œè¿™æ˜¯çœŸçš„ï¼Œä½†å®ƒä»ç„¶æœ‰ä¸€ä¸ª while å¾ªç¯ï¼Œ<a href="https://tour.golang.org/flowcontrol/3" target="_blank" rel="noopener">æ–‡æ¡£</a>ç”šè‡³æ˜¯è¿™æ ·è¯´çš„ï¼Œå®ƒçš„ç›®çš„åªæ˜¯é‡ç”¨å…¶ä»–å…³é”®å­—ã€‚</p><p>å¦ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­æ˜¯ <code>private</code> å’Œ <code>public</code>ã€‚ Go æ²¡æœ‰è¿™äº›å…³é”®å­—ï¼Œä½†å®ƒä»ç„¶æœ‰ <code>private</code> å’Œ <code>public</code>ï¼Œå®ƒåªæ˜¯ä½¿ç”¨å­—æ¯å¤§å°å†™è€Œä¸æ˜¯å…³é”®å­—ã€‚</p><p>ç”¨æ¥åˆ å‡å…³é”®å­—çš„å¦ä¸€ä¸ªæŠ€å·§å« <a href="https://golang.org/ref/spec#Predeclared_identifiers" target="_blank" rel="noopener">é¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼ˆPredeclared identifiersï¼‰</a>ï¼Œåœ¨æŠ€æœ¯ä¸Šå®ƒä¸æ˜¯å…³é”®å­—ï¼Œä½†æ˜¯åœ¨å®è·µä¸­ä»ç„¶éœ€è¦å®ƒä»¬ï¼Œåˆ›å»ºä¸€ä¸ªå’Œå®ƒåŒåçš„å˜é‡ä»ç„¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œå› æ­¤ï¼Œæœ€åçœ‹æ¥â€¦å®ƒä»¬åŸºæœ¬ä¸Šæ˜¯å…³é”®å­—ã€‚æ­¤å¤–ï¼Œå…¶ä¸­ä¸€äº›é¢„å®šä¹‰æ ‡è¯†ç¬¦æ˜¯å…¶ä»–è¯­è¨€çš„å…³é”®å­—ï¼Œå› æ­¤ä»…å°†å®ƒä»¬ä¸ Go çš„å…³é”®å­—åˆ—è¡¨è¿›è¡Œæ¯”è¾ƒæ˜¯éå¸¸ä¸å…¬å¹³çš„ã€‚å°±åƒè‹¹æœå’Œæ¡”å­ã€‚</p><h3 id="2-æ¥æ”¶è€…å‚æ•°"><a href="#2-æ¥æ”¶è€…å‚æ•°" class="headerlink" title="2. æ¥æ”¶è€…å‚æ•°"></a>2. æ¥æ”¶è€…å‚æ•°</h3><p><a href="https://tour.golang.org/methods/1" target="_blank" rel="noopener">æ¥å—è€…å‚æ•°</a>å¯¹æˆ‘æ¥è¯´æœ‰äº›å¤æ€ªã€‚çœ‹èµ·æ¥ Go ä¼¼ä¹å¹¶ä¸å»ºè®®ä½¿ç”¨ <code>this</code> å’Œ <code>self</code>ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦æ–¹æ³•ï¼Œæ‰€ä»¥å°±å­˜åœ¨ â€œæ¥æ”¶è€…å‚æ•°â€ï¼Œé™¤äº†æ–¹æ³•ç­¾åçœ‹ä¸Šå»å¾ˆå¥‡æ€ªä¹‹å¤–ï¼Œå®ƒä»¬åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ã€‚</p><p>æ¥æ”¶è€…å‚æ•°æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå½“è®¿é—®ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œæˆ‘éœ€è¦çŸ¥é“æ¥æ”¶è€…å‚æ•°ï¼ˆè¿™æ˜¯ä»»æ„çš„ï¼‰çš„åç§°ï¼Œä»¥æ˜ç¡®è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨ã€‚å› ä¸ºç¼ºå°‘å…³é”®å­—ï¼ˆè¯‘æ³¨ï¼šå¦‚ thisï¼‰ï¼Œè¯­æ³•é«˜äº®æˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚ï¼ˆçœ‹å§ï¼Ÿè¿™æ˜¯å¦‚ä½•å‡å°‘å…³é”®å­—å®é™…ä¸Šä½¿äº‹æƒ…å˜å¾—æ›´åŠ å¤æ‚çš„ä¾‹å­ã€‚ï¼‰è¿™æœ‰ç‚¹åƒ <code>C++</code> ä¸­çš„éšå¼ <code>this</code>ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªæ–°äººå®¹æ˜“æ··æ·†çš„<a href="https://stackoverflow.com/questions/17932722/go-difference-between-parameter-and-receiver" target="_blank" rel="noopener">ä¾‹å­</a>ã€‚</p><p>æ•æˆ‘ç›´è¨€ï¼Œæœ€ç®€å•ã€æœ€ç›´æ¥çš„æ–¹å¼æ¥è¡¨è¾¾ä¸€ä¸ªæ¥æ”¶å™¨æ˜¯ <a href="https://en.wikipedia.org/wiki/Uniform_Function_Call_Syntax" target="_blank" rel="noopener">UFCS</a>ï¼Œè€Œä¸æ˜¯ C++ æˆ– Go çš„æ–¹å¼ã€‚ä½†å°±åƒæˆ‘è¯´çš„ï¼Œæˆ‘ä¸æ˜¯åœ¨æŠ±æ€¨ Goï¼Œæˆ‘çœŸçš„ä¸ä»‹æ„æ¥å—è€…å‚æ•°çš„è§‚ç‚¹ï¼ˆå¦‚æœæˆ‘å¿å—ä¸äº† C++ çš„æ€ªå¼‚ï¼Œæˆ‘å¯ä»¥å¿å— Go çš„ï¼‰ã€‚</p><h3 id="3-å‡½æ•°è¿”å›å€¼"><a href="#3-å‡½æ•°è¿”å›å€¼" class="headerlink" title="3. å‡½æ•°è¿”å›å€¼"></a>3. å‡½æ•°è¿”å›å€¼</h3><p>å¦‚æœæ¥æ”¶å‚æ•°ä¸å¤Ÿï¼Œå‡½æ•°ç”šè‡³èƒ½å¤Ÿé€šè¿‡å„ç§å½¢å¼çš„è¿”å›å€¼æ¥å£°æ˜ã€‚é€šå¸¸è¯­è¨€å…è®¸ä½ é€šè¿‡ <code>return</code> è¯­å¥è¿”å›å‡½æ•°ä¸­çš„ä¸€ä¸ªå€¼ã€‚è€Œåœ¨ Go è¯­è¨€ä¸­ï¼Œä½ å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼ˆæˆ‘è®¤ä¸ºå¯ä»¥ç”¨æ›´ä¼˜é›…çš„æ–¹å¼é€šè¿‡å…ƒç»„æ¥è§£å†³ï¼Œä½†æ˜¯å°±è¿™æ ·å§ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰<a href="https://tour.golang.org/basics/7" target="_blank" rel="noopener">å‘½åè¿”å›å€¼</a>ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œå› ä¸ºå®ƒå…è®¸æˆ‘ä»¬åœ¨é‚£äº›å¾ˆéš¾æ‰¾åˆ°è¿”å›å€¼çš„åœ°æ–¹å†™ä¸Šæ™•å¤´è½¬å‘çš„ä»£ç ã€‚ç»“åˆæ¥æ”¶æ–¹å‚æ•°ï¼Œæ‚¨å¯ä»¥åˆ›å»ºè¿™æ ·çš„å‡½æ•°ç­¾åï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f Foobar)</span> <span class="title">Something</span><span class="params">(a <span class="keyword">int</span>, b <span class="keyword">int</span>, c <span class="keyword">int</span>)</span> <span class="params">(foo <span class="keyword">int</span>, bar <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æœ‰æ•ˆçš„ Go ä»£ç ã€‚å¦‚æ‚¨æ‰€è§ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ã€‚æˆ‘çœŸçš„ä¸å¸Œæœ›ä»»ä½•äººè¯•å›¾é€‰æ‹©è¿™ä¸ªâ€œç®€å•â€ï¼Œå› ä¸ºè¿™ä¸ªè¯­æ³•é™¤äº†ç®€å•ï¼Œä»€ä¹ˆä¹Ÿä¸æ˜¯ã€‚</p><h3 id="4-â€œæ²¡æœ‰ç»§æ‰¿â€"><a href="#4-â€œæ²¡æœ‰ç»§æ‰¿â€" class="headerlink" title="4. â€œæ²¡æœ‰ç»§æ‰¿â€"></a>4. â€œæ²¡æœ‰ç»§æ‰¿â€</h3><p>Goï¼ˆæˆ–è®¸åªæ˜¯ç¤¾åŒºï¼‰ä¼¼ä¹å¾ˆåå¯¹â€œä¼ ç»Ÿçš„ OOPâ€ï¼ˆä¸ç®¡è¿™æ˜¯æŒ‡å“ªä¸ªï¼Œå¯èƒ½æ˜¯ Java æˆ–è€… C++ï¼‰ï¼Œæˆ‘è®°å¾—æœ‰äººè¯´ Go æ²¡æœ‰ç»§æ‰¿æ˜¯ä¸€ä»¶å¥½äº‹ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼ŒGo æœ‰ä¸€ä¸ªåŠŸèƒ½å«åš<a href="https://golang.org/doc/effective_go.html#embedding" target="_blank" rel="noopener">åµŒå…¥</a>ï¼Œè¿™ä¸ªæ–‡æ¡£ä»¥åŠä¸€äº›åšå®¢æ–‡ç« å£°ç§° Go æ²¡æœ‰ç»§æ‰¿ã€‚æˆ‘è¯•ç€ç”¨å„ç§æ–¹å¼ä½¿ç”¨å®ƒï¼Œæˆ‘æ²¡æ³•è®¤ä¸º Go åå¯¹ç»§æ‰¿ã€‚ä¸Šé¢é“¾æ¥çš„æ–‡æ¡£è¯´ï¼š</p><blockquote><p>è¿˜æœ‰ç§åŒºåˆ†å†…åµŒä¸å­ç±»çš„é‡è¦æ‰‹æ®µã€‚å½“å†…åµŒä¸€ä¸ªç±»å‹æ—¶ï¼Œè¯¥ç±»å‹çš„æ–¹æ³•ä¼šæˆä¸ºå¤–éƒ¨ç±»å‹çš„æ–¹æ³•ï¼Œä½†å½“å®ƒä»¬è¢«è°ƒç”¨æ—¶ï¼Œè¯¥æ–¹æ³•çš„æ¥æ”¶è€…æ˜¯å†…éƒ¨ç±»å‹ï¼Œè€Œéå¤–éƒ¨çš„ã€‚</p></blockquote><p>æœ‰å·®åˆ«å—ï¼Ÿç»§æ‰¿é€šå¸¸ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œï¼Œç»§æ‰¿çš„æ–¹æ³•ä¹Ÿå¯¹å†…éƒ¨ç±»å‹èµ·ä½œç”¨ã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œåœ¨ Go ä¸­ï¼ŒçœŸæ­£å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œå¤šæ€æ€§ä»ç»“æ„ä¸­è§£è€¦ã€‚ä½ éœ€è¦ä½¿ç”¨æ¥å£æ¥ä½¿ç”¨å¤šæ€æ€§ã€‚ä½†ä¸€æ—¦ä½ åšäº†ï¼Œåšçš„äº‹æƒ…å’Œä¼ ç»Ÿçš„ OOP éå¸¸ç›¸ä¼¼ï¼ŒåŒ…æ‹¬æ–¹æ³•è¦†ç›–â€Š-â€Š<a href="https://play.golang.org/p/DRozP3HCAk" target="_blank" rel="noopener">è¿™é‡Œæ˜¯ä¸ªæ¼”ç¤º</a>ã€‚</p><p>å…³äº Goï¼Œæœ‰ä»¶äº‹ä»¤æˆ‘å¾ˆæƒŠè®¶ â€”â€” è¿™é—¨æ‰€è°“ç®€å•çš„è¯­è¨€ â€”â€” ä½ ç”šè‡³å¯ä»¥å®ç°å¤šé‡ç»§æ‰¿ã€‚<strong>ç¡®å®å¾ˆç³Ÿç³•ã€‚</strong> <a href="https://groups.google.com/forum/#!topic/golang-nuts/fRfkPNlA7Pk" target="_blank" rel="noopener">golang-nut çš„é‚®ä»¶åˆ—è¡¨</a>ä¸­ï¼Œæœ‰äººæåˆ°ï¼ŒGo å¹¶ä¸èƒ½å¾ˆå¥½çš„å¤„ç†ç»§æ‰¿çš„æ­§ä¹‰ã€‚æˆ‘å·²ç»è°ƒæ•´äº†å…¶ä¸­æåŠçš„ä»£ç ï¼Œä»¥ä¾¿å®ƒå±•ç¤ºäº†è‘—åçš„â€œå¯æ€•çš„é’»çŸ³é—®é¢˜â€ï¼ˆDreaded diamond problemï¼‰ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T1 <span class="keyword">struct</span> &#123;</span><br><span class="line">T2</span><br><span class="line">T3</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T2 <span class="keyword">struct</span> &#123;</span><br><span class="line">T4</span><br><span class="line">foo <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T3 <span class="keyword">struct</span> &#123;</span><br><span class="line">T4</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T4 <span class="keyword">struct</span> &#123;</span><br><span class="line">foo <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">t2 := T2&#123; T4&#123; <span class="number">9000</span> &#125;, <span class="number">2</span> &#125;</span><br><span class="line">t3 := T3&#123; T4&#123; <span class="number">3</span> &#125; &#125;</span><br><span class="line">fmt.Printf(<span class="string">"foo=%d\n"</span>, t2.foo)</span><br><span class="line">fmt.Printf(<span class="string">"foo=%d\n"</span>, t3.foo)</span><br><span class="line">t1 := T1&#123;</span><br><span class="line">t2,</span><br><span class="line">t3,</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">"foo=%d\n"</span>, t1.foo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://play.golang.org/p/cSCLyGHssR" target="_blank" rel="noopener">åœ¨çº¿è¿è¡Œä»¥ä¸Šä»£ç </a></p><p>ä¸Šé¢çš„ä»£ç æ²¡æœ‰ä»»ä½•ç¼–è¯‘æ—¶è­¦å‘Šæˆ–è€…é”™è¯¯ã€‚<a href="https://ideone.com/gfKYqR" target="_blank" rel="noopener">è¿™æ˜¯ C++ çš„ç±»ä¼¼çš„ä»£ç </a>ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œå®ƒç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºå­˜åœ¨æ­§ä¹‰ã€‚</p><p>ç»“æœä¼šå¦‚ä½•ï¼Ÿé¦–å…ˆï¼Œæˆ‘è®¤ä¸ºå…·æœ‰å¤šé‡ç»§æ‰¿åŠŸèƒ½ï¼Œå‡ ä¹ä¸èƒ½åœ¨æè¿°è¯¥ç¼–ç¨‹è¯­è¨€æ—¶ä½¿ç”¨â€œç®€å•â€ä¸€è¯ã€‚<strong>åœ¨æˆ‘çœ‹åˆ°ä¸Šé¢çš„ä»£ç åï¼Œæ²¡æœ‰äººèƒ½è¯´æœæˆ‘ï¼ŒGo æ˜¯æœ€ç®€å•çš„è¯­è¨€ä¹‹ä¸€ï¼Œç”šè‡³è¿ç®€å•è¯­è¨€éƒ½ä¸ç®—ã€‚</strong>ç”šè‡³æ²¡æœ‰å…¶ä»–ä¸€äº›ä½ å¯ä»¥ç”¨åµŒå…¥æ¥åšçš„äº‹æƒ…ï¼Œæ¯”å¦‚é€šè¿‡æŒ‡é’ˆåµŒå…¥æˆ–è€…é€šè¿‡æŒ‡é’ˆåµŒå…¥æ¥å£ã€‚ ï¼ˆæˆ‘ç”šè‡³ä¸ç¡®å®šè¿™äº›åŠŸèƒ½çš„çœŸæ­£å«ä¹‰ã€‚ï¼‰</p><p>å…¶æ¬¡ï¼Œæˆ‘æƒ³åšä¸€ä¸ªç®€çŸ­ã€å¯¹ Go è¯­è¨€æœ¬èº«çš„æ‰¹è¯„ã€‚ä¸å¤„ç†è¿™æ ·çš„æ­§ä¹‰ä¼¼ä¹æ˜¯ä¸€ä¸ªè®¾è®¡æˆ–è€…å®ç°é”™è¯¯ã€‚ç”šè‡³è¿ C++ éƒ½æ²¡æœ‰å¦‚æ­¤ç–¯ç‹‚ï¼Œè®©è¿™ç§ä»£ç ç¼–è¯‘é€šè¿‡ã€‚è¿™è¶³ä»¥å‘Šè¯‰ä½ ä¸€äº›äº‹æƒ…ã€‚</p><h3 id="5-é”™è¯¯å¤„ç†"><a href="#5-é”™è¯¯å¤„ç†" class="headerlink" title="5. é”™è¯¯å¤„ç†"></a>5. é”™è¯¯å¤„ç†</h3><p>å„ç§é”™è¯¯å¤„ç†é€šå¸¸ä¼šå¯¼è‡´ä¸€ä¸ªå·¨å¤§çš„å£æ°´æˆ˜ã€‚æˆ‘ä¸æƒ³è°ˆé‚£ä»¶äº‹ã€‚æˆ‘æ›¾ç»åœ¨ä¸åŒçš„è¯­è¨€ä¸­ä½¿ç”¨è¿‡æ‰€æœ‰å¸¸è§çš„é”™è¯¯å¤„ç†é£æ ¼ï¼ˆæˆ‘è®¤ä¸ºï¼‰ï¼Œæˆ‘ä¹Ÿä¸å–œæ¬¢æ‰€æœ‰è¿™äº›è¯­è¨€ã€‚æˆ‘è®¤ä¸ºï¼Œé”™è¯¯å¤„ç†æ— è®ºä»€ä¹ˆä¸€ç›´æ˜¯ä¸€ä¸ª <code>PITA</code>ï¼ˆè¯‘æ³¨ï¼šåº”è¯¥æ˜¯å›½å¤–çš„ä¸€ç§æ¯”å–»ï¼‰ã€‚æŠŠä¸€ç§é£æ ¼æ¢æˆå¦ä¸€ç§é£æ ¼ï¼Œä½ åªéœ€æŠŠä¸€å¥—é—®é¢˜æ¢æˆå¦ä¸€å¥—ã€‚æ²¡æœ‰å¥½çš„æ–¹æ³•ã€‚</p><p>å›åˆ°ç®€å•çš„è¯é¢˜ï¼šGo è®©æˆ‘é€‰æ‹©ä¸ä½¿ç”¨å¼‚å¸¸ï¼Œè¿™ä½¿äº‹æƒ…æ›´ç®€å•äº†ã€‚å¤šä¸ªè¿”å›å€¼çš„ç‰¹å¾ä¸èƒ½ä½¿äº‹æƒ…å˜å¾—ç®€å•ï¼Œè¿™æ„å‘³ç€ä¸èƒ½è¿”å›ä¸€ä¸ªé”™è¯¯æˆ–æˆåŠŸçš„ç»“æœï¼Œä½ å¯ä»¥è¿”å›æ‰€æœ‰å€¼æˆ–è€…éƒ½ä¸è¿”å›ï¼ˆ<code>CS</code> æœ¯è¯­ï¼Œä½ å¯ä»¥è¯´è¿™ä¸ªé—®é¢˜æ˜¯ä¸€ä¸ªäº§å“ç±»å‹è€Œä¸æ˜¯æ€»å’Œå¼çš„ç”¨æ³•ï¼‰ã€‚äº‹å®ä¸Šï¼Œæˆ‘çœ‹è¿‡çš„è®¸å¤šå¯¹äºæ–°äººçš„ä»£ç å®¡æŸ¥ã€‚</p><p>å¦‚æœ Go ä¸å…è®¸å¤šä¸ªè¿”å›å€¼ï¼Œè€Œæœ‰ä¸€äº›åˆé€‚çš„æˆ–è€…å–œæ¬¢çš„ç±»å‹ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¼šä½¿äº‹æƒ…å˜å¾—æ›´ç®€å•ã€‚å‡ºäºåŒæ ·çš„åŸå› ï¼Œåœ¨ Go ä¸­å¿½ç•¥é”™è¯¯æˆ–è€…ä¸å‘å‘è°ƒç”¨è€…æˆ–å…¶ä»–é€‚å½“ç›®çš„åœ°æŠ¥å‘Šé”™è¯¯æ˜¯ç›¸å½“å®¹æ˜“çš„ã€‚</p><p>å¦ä¸€ä¸ç®€å•çš„æ˜¯ panicã€‚ä¸è¦è¯¯è§£æˆ‘çš„æ„æ€ï¼Œæˆ‘ç†è§£å®ƒåœ¨ Go ä¸­å­˜åœ¨çš„åŸå› ä»¥åŠå®ƒçš„ç”¨å¤„ï¼Œäº‹å®ä¸Šï¼Œå…¶ä»–è¯­è¨€ä¹Ÿæœ‰ç±»ä¼¼çš„å¤„ç†ã€‚æˆ‘åªæ˜¯æå‡ºæ¥ä½œä¸ºåå¯¹ç®€å•æ€§çš„ä¸€ä¸ªè®ºæ®ã€‚æ•æˆ‘ç›´è¨€ï¼Œå¯¹äºä¸€ä¸ªæ–°äººï¼Œå¾ˆå¯èƒ½ä¼šæ··æ·† error å’Œ panic ä¹‹é—´çš„åŒºåˆ«ï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™é€‚åˆç”¨ä»€ä¹ˆã€‚</p><h3 id="6-æ³›å‹"><a href="#6-æ³›å‹" class="headerlink" title="6. æ³›å‹"></a>6. æ³›å‹</h3><p>è¿™ä¸ªä¸»é¢˜å’Œé”™è¯¯å¤„ç†æ¯”èµ·æ¥ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¤§çš„è •è™«ã€‚</p><p>å’Œ errors ä¸€æ ·ï¼Œæˆ‘åªæƒ³è€ƒè™‘ä¸€ä¸‹è¿™é‡Œçš„å¤æ‚æ€§æˆ–è€…ç®€å•æ€§ã€‚Go ç¤¾åŒºçš„è®¸å¤šäººä¼¼ä¹è®¤ä¸ºï¼Œæ³›å‹çš„æœ¬è´¨ä¸Šæ˜¯å¤æ‚çš„ï¼ˆ=åï¼Œå—¯å—¯å—¯å’³ï¼‰ï¼Œæœ‰è¿™æ ·æˆ–é‚£æ ·çš„å·¨å¤§å¼€é”€ã€‚è¿™åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯äº‹å®ï¼Œä½†æˆ‘ä¸è®¤ä¸ºå®ƒåƒæœ‰äº›äººæè¿°çš„é‚£ä¹ˆç³Ÿç³•ã€‚ä¼¼ä¹é‚£äº›äººå·²ç»ç»å†äº† <code>C++</code> æ¨¡æ¿çš„ç—›è‹¦ï¼Œä»é‚£ä»¥åï¼Œæ— è®ºä½•æ—¶æåŠæ³›å‹ï¼Œéƒ½ä¼šé­å— PTSDï¼ˆåˆ›ä¼¤ååº”æ¿€éšœç¢ï¼‰ çš„æ”»å‡»ã€‚</p><p>çœ‹åˆ°è¿™é‡Œçš„äººï¼Œ<strong>æ³›å‹ä¸æ˜¯ä¸€ä¸ªæ€ªç‰©</strong>ã€‚å®ƒä»¬å½“ç„¶ç»å¯¹ä¸åº”è¯¥åƒ <code>C++</code> é‚£æ ·å¤æ‚ï¼ˆæˆ–è€…å…¶ä»–ä¸€äº›å¥‡æ€ªçš„è¯­è¨€ï¼‰ã€‚æˆ‘çš„æ„æ€æ˜¯ï¼Œç”šè‡³å‰ç«¯çš„äººéƒ½ç”¨æ³›å‹å·¥ä½œäº†ä¸€æ®µæ—¶é—´ï¼ˆTypeScript, Flow, â€¦ï¼‰ï¼Œå¦‚æœä»–ä»¬ä¸å®³æ€•æ³›å‹ï¼Œå…¶ä»–ç¨‹åºå‘˜åº”è¯¥æ˜¯æ²¡æœ‰ç†ç”±å®³æ€•ï¼šï¼‰ï¼ˆå¯¹ä¸èµ·ï¼Œå‰ç«¯å¼€å‘è€…ï¼Œåªæ˜¯å¼€ä¸ªç©ç¬‘ã€‚ï¼‰</p><p>äººä»¬è¿˜æ²¡æœ‰æ„è¯†åˆ°ï¼Œå¦‚æœæ­£ç¡®åœ°ä½¿ç”¨æ³›å‹ï¼Œå®ƒå¯ä»¥ä½¿è®¸å¤šç±»å‹å’Œå‡½æ•°çš„ä½¿ç”¨æ›´åŠ ç®€å•ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ Go ä¸­çš„<a href="https://golang.org/pkg/container/heap/" target="_blank" rel="noopener">å †æ¥å£</a>ã€‚è¿™å°±æ˜¯ä»ä¸€ä¸ªå †ä¸­å£°æ˜è¿™ä¸ªæ¥å£çš„æ–¹å¼ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">popped := heap.Pop(&amp;someheap)</span><br><span class="line">myfoo := popped.(*Foo)       <span class="comment">// ZOMG what just happened here?</span></span><br></pre></td></tr></table></figure><p>å¯¹æ–°äººè§£é‡Šè¿™äº›ï¼ŒåŒ…æ‹¬ panic çš„é—®é¢˜ã€‚ä¹Ÿè®¸å¯ä»¥è€ƒè™‘ä¸€ä¸‹ï¼Œå¦‚æœä»–ä»¬æ²¡æœ‰çœŸæ­£æŠŠæ•´ä¸ª <code>interface{}</code> æå¯¹ï¼Œé‚£ä¹ˆä¼šå‘ç”Ÿä»€ä¹ˆã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myfoo := heap.Pop(&amp;someheap) <span class="comment">// myfoo has the correct type</span></span><br></pre></td></tr></table></figure><p>è¿™æ›´å®¹æ˜“é˜…è¯»ã€æ›´å®¹æ˜“è§£é‡Šï¼ˆä½ è§£é‡Šå®ƒï¼Œå°±åƒä½ å°†è§£é‡Š <code>map</code> ç±»å‹å·²ç»å­˜åœ¨äº Goï¼ï¼‰ã€‚è€Œä¸”åœ¨ç¼–å†™ä»£ç æ—¶ä¹Ÿæ›´éš¾å¼„ä¹±ã€‚</p><p>ç¼ºä¹æ³›å‹æ˜¯é€ æˆé¢å¤–å¤æ‚æ€§çš„åŸå› ï¼Œå®ƒåœ¨ Go çš„å…¶ä»–éƒ¨åˆ†ä¹Ÿä¼šé€ æˆç›¸å½“å¤šçš„å¤æ‚æ€§ï¼Œä¸»è¦æ˜¯éœ€è¦å­˜åœ¨å„ç§â€œç¥å¥‡â€çš„å‡½æ•°/ç±»å‹ã€‚<code>map</code>ï¼Œ<code>slice</code> å’Œ <code>channel</code> ç±»å‹çš„é­”æ³•ï¼Œä»¥åŠä¼´éšçš„ <code>make()</code> åŠŸèƒ½ï¼Œè¿™æ˜¯å®ƒä»¬ä¸‰ä¸ªçš„æ„é€ å‡½æ•°ã€‚<code>slice</code> ç±»å‹æ—¢å¯ä»¥ä½œä¸ºæ•°ç»„çš„å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºåŠ¨æ€æ•°ç»„ã€‚ï¼ˆä¸ç®¡å‘ç”Ÿä»€ä¹ˆäº‹ï¼Œâ€œåšä¸€ä»¶äº‹ï¼Œå¹¶åšå¥½å®ƒâ€ï¼Ÿï¼‰</p><p>ï¼ˆåªæ˜¯ä¸ºäº†æé†’å¤§å®¶ï¼Œæˆ‘å¹¶ä¸ä»‹æ„è¿™äº›ï¼Œåªæ˜¯ä¸ºäº†ä¸ç®€å•çš„äº‰è®ºè€ŒæåŠå®ƒã€‚ï¼‰</p><h3 id="7-å…¶ä»–"><a href="#7-å…¶ä»–" class="headerlink" title="7. å…¶ä»–"></a>7. å…¶ä»–</h3><p>æˆ‘æƒ³æˆ‘å·²ç»æŠŠä¸»è¦çš„ç®€å•è¿åè€…æ’é™¤åœ¨å¤–äº†ã€‚æˆ‘çš„å•å­ä¸Šåªå‰©ä¸‹å‡ ä¸ªç®€å•çš„ï¼š</p><ol><li><code>&lt;-</code> å’Œ <code>-&gt;</code> æ“ä½œç¬¦ã€‚è¿™äº›å¯èƒ½åªæ˜¯ <code>channel</code> ç±»å‹çš„æ–¹æ³•ã€‚</li><li><code>iota</code> - åŸºæœ¬ä¸€æ ·ï¼Œä½†å¥‡æ€ªçš„æšä¸¾ã€‚</li><li>å†…ç½®çš„å¤æ•°ã€‚</li><li><a href="https://tour.golang.org/flowcontrol/6" target="_blank" rel="noopener">if æ”¯æŒçŸ­è¯­å¥</a>ï¼ˆæœ‰æ—¶å¯èƒ½æœ‰ç”¨ï¼Œä½† <code>if</code> è¯­æ³•æ¯”å…¶ä»–è¯­è¨€ä¸­æ›´å¤æ‚ï¼‰</li></ol><p>æˆ‘æƒ³å°±æ˜¯è¿™æ ·ã€‚å¯èƒ½å¿˜è®°äº†ä»€ä¹ˆï¼Œä½†æˆ‘æƒ³å·²ç»è¶³å¤Ÿäº†ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘è§‰å¾—å¦‚æœä¸æ˜¯ç®€å•çš„è¯ï¼ŒGo å®é™…ä¸Šä¼šå¸¦æ¥ä»€ä¹ˆå‘¢ï¼Ÿ</p><h2 id="ä»»åŠ¡-â€œgoroutinesâ€"><a href="#ä»»åŠ¡-â€œgoroutinesâ€" class="headerlink" title="ä»»åŠ¡â€Š-â€Šâ€œgoroutinesâ€"></a>ä»»åŠ¡â€Š-â€Šâ€œgoroutinesâ€</h2><p>è¿™å¯èƒ½çœ‹èµ·æ¥æœ‰ç‚¹æ˜¾è€Œæ˜“è§ï¼Œå› ä¸º <code>goroutines</code> æ˜¯ä¸€ä¸ªç»å¸¸è¢«æåŠçš„ç‰¹æ€§ï¼Œå°±åƒâ€œç®€å•â€ä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—éœ€è¦åŒºåˆ†ä¸‹ï¼šæˆ‘è®¤ä¸ºè¿™ä¸æ˜¯é€šå¸¸æ„ä¹‰ä¸Šçš„å¹¶å‘æ€§ï¼Œå®ƒä¸èƒ½è®¤ä¸ºæ˜¯ Go çš„ä¼˜åŠ¿ã€‚ä¸è¦è¯¯è§£æˆ‘çš„æ„æ€ï¼ŒGo çš„å¹¶å‘æ€§æ˜¯æ²¡é—®é¢˜çš„ã€‚åªæ˜¯è¯´è¿™æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ã€‚ä½ æœ‰ channelï¼Œè¿™è‚¯å®šæ˜¯å¥½çš„ï¼Œä½†åŸºæœ¬ä¸Šï¼Œå®ƒä»¬åªæ˜¯åƒæˆ‘åœ¨åˆ«å¤„å¸¸ç”¨çš„å¹¶å‘é˜Ÿåˆ—ã€‚ç„¶åä½ æœ‰å¸¸è§„çš„å¹¶å‘åŸè¯­ï¼Œåƒ mutexï¼Œè¯»å†™é”ï¼Œæ¡ä»¶å˜é‡ç­‰ã€‚ä½ å¯ä»¥åŒæ­¥ä½ çš„ä»£ç ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°åƒè®¸å¤šå…¶ä»–è¯­è¨€ä¸€æ ·çš„ç«äº‰æ¡ä»¶å’Œæ­»é”ã€‚</p><p>æˆ‘å–œæ¬¢ <code>goroutines</code>ï¼ˆé™¤äº†æ˜æ˜¾çš„äº‹å®ï¼Œå®ƒä»¬æ˜¯è½»é‡çº§çš„ç”¨æˆ·ç©ºé—´çº¿ç¨‹ï¼‰æ˜¯å®ƒä»¬å¯ä»¥ä½¿ç”¨ I/O çš„æ–¹å¼ - è°ƒåº¦è¿æ¥åˆ°ä¸»æœºæ“ä½œç³»ç»Ÿçš„ä½çº§ I/O API çš„æ–¹å¼ï¼ˆå¦‚ epollã€kqueueã€IOCPâ€¦ï¼‰ã€‚è¿™å¯¹äºç¨‹åºå‘˜æ¥è¯´é€šå¸¸å¾ˆéš¾åšå‡ºä»¤äººæ„‰å¿«å’Œæœ‰ç”¨çš„ä¸œè¥¿ï¼Œç‰¹åˆ«æ˜¯åœ¨ç¼–è¯‘æœ¬åœ°è¯­è¨€çš„æ—¶å€™ã€‚æˆ‘ä»ç„¶åœ¨è¿™é‡Œäº†è§£ç»†èŠ‚ï¼Œä½†åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘è®¤ä¸º Go æ˜¯æœªæ¥å·¥ç¨‹çš„ä¸€ä¸ªäº®ç‚¹ã€‚</p><p>æ­£å¦‚å·²ç»æš—ç¤ºçš„ï¼Œæˆ‘ä¹Ÿå–œæ¬¢ Go è¿™ç§ç¼–è¯‘ä¸ºæœ¬åœ°ä»£ç çš„è¯­è¨€ã€‚çœ‹åˆ°æ–°çš„è¯­è¨€ä½¿ç”¨åƒåœ¾æ”¶é›†æ¥ä¿æŒè¿™ç§ä¸å¯æ€è®®çš„æ•ˆæœçœŸæ˜¯å¤ªå¥½äº†ã€‚ï¼ˆæˆ–å…¶ä»–å½¢å¼çš„è‡ªåŠ¨å†…å­˜ç®¡ç† - <code>Swift</code> ä¸­æœ‰æåŠï¼‰</p><h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>æ‰€ä»¥ï¼Œè¯»è€…ä»¬ï¼Œä¸ºä»€ä¹ˆæ‰€æœ‰è¿™äº›éƒ½ç¦»å¼€äº†ä½ å‘¢ï¼Ÿæ˜¯ Go å¤æ‚è¿˜æ˜¯å…¶ä»–ä»€ä¹ˆåŸå› ï¼Ÿ</p><p>å½“ç„¶ä¸æ˜¯ï¼Œç»å¯¹ä¸åƒ <code>C++</code> æˆ– <code>Haskell</code> é‚£æ ·å¤æ‚ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒGo çš„ç¡®å¾ˆç®€å•ã€‚å¦ä¸€æ–¹é¢ï¼Œæ¯”è¾ƒ Go å’Œå…¶ä»–å¸¸è§è¯­è¨€ï¼ˆå¦‚<code>Java</code> ï¼Œ<code>JavaScript</code> ï¼Œ<code>Python</code> ç­‰ï¼‰çš„å¤æ‚æ€§æ—¶ï¼Œæƒ…å†µå°±ä¸å¤ªæ¸…æ¥šäº†ï¼Œæ­£å¦‚æˆ‘å¸Œæœ›çš„é‚£æ ·ã€‚ ï¼ˆæ­¤å¤–ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆéš¾ï¼Œæ²¡æœ‰æ˜ç¡®å®šä¹‰çš„ä»»åŠ¡ã€‚ï¼‰</p><p>æˆ‘å¯ä»¥æä¾›ç±»ä¼¼çš„ä¾‹å­ã€‚åœ¨æŸäº›æ–¹é¢ï¼ŒGo å¯èƒ½æ¯”è¿™äº›è¯­è¨€æ›´ç®€å•ï¼Œæœ‰äº›åˆ™ä¸æ˜¯â€¦å¤§è‡´ä¸Šæˆ‘ä¼šè¯´å®ƒå’Œå…¶ä»–å¸¸ç”¨è¯­è¨€çš„å¹³å‡å·®ä¸å¤šã€‚æˆ‘ä¹Ÿä¸è®¤ä¸ºç®€å•ï¼Œæ— è®ºæ˜¯æ„Ÿè§‰ä¸Šè¿˜æ˜¯å®é™…ä½¿ç”¨ä¸­ï¼Œæœ€ç»ˆçš„ä½“éªŒå¾ˆé‡è¦ã€‚</p><p>æœ€åï¼Œè¿™ç¯‡æ–‡ç« ä»å“ªé‡Œæ¥ï¼Œä½œè€…æ˜¯è°ï¼Ÿæˆ‘ä¸è‚¯å®šã€‚æˆ‘è¿˜ä¸çŸ¥é“ Go æ˜¯å¦ä¼šåœ¨æˆ‘çš„æ—¥å¸¸å·¥ä½œä¸­è¢«é€‰ä¸ºä¸€ä¸ªï¼ˆå­ï¼‰é¡¹ç›®ï¼Œæˆ–è€…æˆ‘æ˜¯å¦å¯èƒ½å°†å®ƒç”¨äºå…´è¶£çˆ±å¥½é¡¹ç›®ã€‚æˆ‘æƒ³é¿å…åƒæœ¬æ–‡æåˆ°çš„é‚£ç§æ•™æ¡çš„ç¤¾åŒºæ¨å¹¿çš„ä¸€ä»½å­ã€‚æœ‰æ²¡æœ‰æ„è¯†å½¢æ€å¯¼å‘çš„åœ°æ–¹å‘¢ï¼Ÿ å¤§å®¶å¯ä»¥éšæ„å°±æ­¤æå‡ºå»ºè®®ã€‚</p><p>æˆ‘å’Œ <code>Rust</code> ç¤¾åŒºæœ‰åŒæ ·çš„é—®é¢˜ï¼Œè¯·ä¸è¦ä»‹æ„ï¼Œæˆ‘ä¹ŸçŸ¥é“ç¦»å¼€é‚£äº›æ›´ç‹‚çƒ­çš„æ”¯æŒè€…ä¼šæ›´å¥½ã€‚ ï¼ˆQï¼šâ€œä½ èƒ½å¦åœ¨ <code>Rust</code> é‡å†™ä½ çš„é¡¹ç›®ï¼Ÿâ€Aï¼šâ€œè¿·å¤±äº†â€ï¼‰ä¹Ÿè®¸è¿™å°±æ˜¯è¿™äº›æ–°è¯­è¨€çš„æ€§è´¨ï¼Œä»¥åŠä»–ä»¬ä¸ºæ¿€åŠ±äººä»¬å¦‚æ­¤æ¿€åŠ±é˜³å…‰çš„äº‰æ–—ã€‚</p><hr><p>via: <a href="https://medium.com/@bob.clark_34506/go-is-not-very-simple-folks-3e84220e73c7" target="_blank" rel="noopener">https://medium.com/@bob.clark_34506/go-is-not-very-simple-folks-3e84220e73c7</a></p><p>ä½œè€…ï¼š<a href="https://medium.com/@bob.clark_34506" target="_blank" rel="noopener">The Other Bob</a><br>è¯‘è€…ï¼š<a href="https://github.com/yuhanle" target="_blank" rel="noopener">yuhanle</a><br>æ ¡å¯¹ï¼š<a href="https://github.com/polaris1119" target="_blank" rel="noopener">polaris1119</a></p><p>æœ¬æ–‡ç”± <a href="https://github.com/studygolang/GCTT" target="_blank" rel="noopener">GCTT</a> åŸåˆ›ç¼–è¯‘ï¼Œ<a href="https://studygolang.com/" target="_blank" rel="noopener">Go ä¸­æ–‡ç½‘</a> è£èª‰æ¨å‡º</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å·²å‘å¸ƒï¼š&lt;a href=&quot;https://studygolang.com/articles/12330&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://studygolang.com/articles/12330&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;ä¼™è®¡ä»¬ï¼ŒGo-å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•&quot;&gt;&lt;a href=&quot;#ä¼™è®¡ä»¬ï¼ŒGo-å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•&quot; class=&quot;headerlink&quot; title=&quot;ä¼™è®¡ä»¬ï¼ŒGo å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•&quot;&gt;&lt;/a&gt;ä¼™è®¡ä»¬ï¼ŒGo å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•&lt;/h1&gt;&lt;p&gt;å‡ºäºå¥½å¥‡ï¼Œæˆ‘æœ€è¿‘å¼€å§‹æ¥è§¦ä¸€äº› Go çš„ä»£ç ã€‚æˆ‘ä¹‹å‰å¯¹å®ƒæœ‰ä¸€äº›äº†è§£ï¼Œä½†æ˜¯ä»æ¥æ²¡æœ‰å°è¯•å»å†™ï¼ˆæ²¡æœ‰éœ€æ±‚ï¼‰ã€‚ä½†æ˜¯ç°åœ¨æˆ‘ä»¬å›¢é˜Ÿé€‰æ‹©ä½¿ç”¨ Go æ¥å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—è¿™æ˜¯ä¸€ä¸ªè·å¾—å®é™…ç»éªŒçš„å¥½æœºä¼šã€‚&lt;/p&gt;
&lt;p&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå…³äºè¿™é—¨è¯­è¨€æˆ‘å·²ç»å­¦ä¹ äº†å¾ˆé•¿æ—¶é—´ã€‚åœ¨è¿™ä¸ªåšæ–‡çš„æœ«å°¾ï¼Œæˆ‘ä¼šå†™æ›´å¤šå…³äº Go çš„å¹²è´§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Translate" scheme="https://blog.yuhanle.com/categories/Translate/"/>
    
      <category term="Go" scheme="https://blog.yuhanle.com/categories/Translate/Go/"/>
    
    
      <category term="Translate" scheme="https://blog.yuhanle.com/tags/Translate/"/>
    
      <category term="Go" scheme="https://blog.yuhanle.com/tags/Go/"/>
    
  </entry>
  
  <entry>
    <title>Beego å…¥é—¨æŒ‡å—ï¼ˆä¸€ï¼‰å¦‚ä½•æ–°å»ºé¡¹ç›®</title>
    <link href="https://blog.yuhanle.com/2017/06/24/beego-study-newproject/"/>
    <id>https://blog.yuhanle.com/2017/06/24/beego-study-newproject/</id>
    <published>2017-06-24T09:00:00.000Z</published>
    <updated>2018-07-05T01:15:35.986Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¦‚ä½•æ–°å»ºé¡¹ç›®"><a href="#å¦‚ä½•æ–°å»ºé¡¹ç›®" class="headerlink" title="å¦‚ä½•æ–°å»ºé¡¹ç›®"></a>å¦‚ä½•æ–°å»ºé¡¹ç›®</h1><p>ä½ å¯¹beegoä¸€æ— æ‰€çŸ¥ï¼Ÿæ²¡å…³ç³»ï¼Œè¿™ç¯‡æ–‡æ¡£ä¼šå¾ˆå¥½çš„è¯¦ç»†ä»‹ç»beegoçš„å„ä¸ªæ–¹é¢ï¼Œçœ‹è¿™ä¸ªæ–‡æ¡£ä¹‹å‰é¦–å…ˆç¡®è®¤ä½ å·²ç»å®‰è£…äº†beegoï¼Œå¦‚æœä½ æ²¡æœ‰å®‰è£…çš„è¯ï¼Œè¯·çœ‹è¿™ç¯‡<a href="https://github.com/astaxie/beego/blob/master/docs/zh/Install.md" target="_blank" rel="noopener">å®‰è£…æŒ‡å—</a></p><p>beego æ˜¯ä¸€ä¸ªå¿«é€Ÿå¼€å‘ Go åº”ç”¨çš„ HTTP æ¡†æ¶ï¼Œä»–å¯ä»¥ç”¨æ¥å¿«é€Ÿå¼€å‘ APIã€Web åŠåç«¯æœåŠ¡ç­‰å„ç§åº”ç”¨ï¼Œæ˜¯ä¸€ä¸ª RESTful çš„æ¡†æ¶ï¼Œä¸»è¦è®¾è®¡çµæ„Ÿæ¥æºäº tornadoã€sinatra å’Œ flask è¿™ä¸‰ä¸ªæ¡†æ¶ï¼Œä½†æ˜¯ç»“åˆäº† Go æœ¬èº«çš„ä¸€äº›ç‰¹æ€§ï¼ˆinterfaceã€struct åµŒå…¥ç­‰ï¼‰è€Œè®¾è®¡çš„ä¸€ä¸ªæ¡†æ¶ã€‚</p><a id="more"></a><blockquote><p>ä»¥ä¸‹å†…å®¹éœ€è¦æŒæ¡ golang çš„è¯­æ³•åŸºç¡€</p></blockquote><h2 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello world"></a>Hello world</h2><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹å…¥é—¨å¿…å­¦è¯¾ç¨‹ï¼Œç¼–å†™ä¸€ä¸ªHello world çš„åº”ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    &quot;github.com/astaxie/beego&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type MainController struct &#123;</span><br><span class="line">    beego.Controller</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func (this *MainController) Get() &#123;</span><br><span class="line">    this.Ctx.WriteString(&quot;hello world&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    beego.Router(&quot;/&quot;, &amp;MainController&#123;&#125;)</span><br><span class="line">    beego.Run()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠŠä¸Šé¢çš„ä»£ç ä¿å­˜ä¸ºhello.goï¼Œç„¶åé€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œç¼–è¯‘å¹¶æ‰§è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ go build hello.go</span><br><span class="line">$ ./hello</span><br></pre></td></tr></table></figure><p><img src="http://upload-images.jianshu.io/upload_images/545755-436febc86fad703e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QQ20170507-084105@2x.png"></p><p>è¿™ä¸ªæ—¶å€™ä½ å¯ä»¥æ‰“å¼€ä½ çš„æµè§ˆå™¨ï¼Œé€šè¿‡è¿™ä¸ªåœ°å€æµè§ˆ<a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080</a>è¿”å›â€œhello worldâ€</p><p>é‚£ä¹ˆä¸Šé¢çš„ä»£ç åˆ°åº•åšäº†äº›ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>1ã€é¦–å…ˆæˆ‘ä»¬å¼•å…¥äº†åŒ…github.com/astaxie/beego,æˆ‘ä»¬çŸ¥é“Goè¯­è¨€é‡Œé¢å¼•å…¥åŒ…ä¼šæ·±åº¦ä¼˜å…ˆçš„å»æ‰§è¡Œå¼•å…¥åŒ…çš„åˆå§‹åŒ–(å˜é‡å’Œinitå‡½æ•°ï¼Œ<a href="https://github.com/astaxie/build-web-application-with-golang/blob/master/ebook/02.3.md#maininit" target="_blank" rel="noopener">æ›´å¤š</a>)ï¼ŒbeegoåŒ…ä¸­ä¼šåˆå§‹åŒ–ä¸€ä¸ªBeeAPPçš„åº”ç”¨ï¼Œåˆå§‹åŒ–ä¸€äº›å‚æ•°ã€‚</p><p>2ã€å®šä¹‰Controllerï¼Œè¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªstructä¸ºMainControllerï¼Œå……åˆ†åˆ©ç”¨äº†Goè¯­è¨€çš„ç»„åˆçš„æ¦‚å¿µï¼ŒåŒ¿ååŒ…å«äº†beego.Controllerï¼Œè¿™æ ·æˆ‘ä»¬çš„MainControllerå°±æ‹¥æœ‰äº†beego.Controllerçš„æ‰€æœ‰æ–¹æ³•ã€‚</p><p>3ã€å®šä¹‰RESTFulæ–¹æ³•ï¼Œé€šè¿‡åŒ¿åç»„åˆä¹‹åï¼Œå…¶å®ç›®å‰çš„MainControllerå·²ç»æ‹¥æœ‰äº†Getã€Postã€Deleteã€Putç­‰æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æ˜¯åˆ†åˆ«ç”¨æ¥å¯¹åº”ç”¨æˆ·è¯·æ±‚çš„Methodå‡½æ•°ï¼Œå¦‚æœç”¨æˆ·å‘èµ·çš„æ˜¯POSTè¯·æ±‚ï¼Œé‚£ä¹ˆå°±æ‰§è¡ŒPostå‡½æ•°ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†MainControllerçš„Getæ–¹æ³•ç”¨æ¥é‡å†™ç»§æ‰¿çš„Getå‡½æ•°ï¼Œè¿™æ ·å½“ç”¨æˆ·GETè¯·æ±‚çš„æ—¶å€™å°±ä¼šæ‰§è¡Œè¯¥å‡½æ•°ã€‚</p><p>4ã€å®šä¹‰mainå‡½æ•°ï¼Œæ‰€æœ‰çš„Goåº”ç”¨ç¨‹åºå’ŒCè¯­è¨€ä¸€æ ·éƒ½æ˜¯Mainå‡½æ•°ä½œä¸ºå…¥å£ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå®šä¹‰äº†æˆ‘ä»¬åº”ç”¨çš„å…¥å£ã€‚</p><p>5ã€Routeræ³¨å†Œè·¯ç”±ï¼Œè·¯ç”±å°±æ˜¯å‘Šè¯‰beegoï¼Œå½“ç”¨æˆ·æ¥è¯·æ±‚çš„æ—¶å€™ï¼Œè¯¥å¦‚ä½•å»è°ƒç”¨ç›¸åº”çš„Controllerï¼Œè¿™é‡Œæˆ‘ä»¬æ³¨å†Œäº†è¯·æ±‚/çš„æ—¶å€™ï¼Œè¯·æ±‚åˆ°MainControllerã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼ŒRouterå‡½æ•°çš„ä¸¤ä¸ªå‚æ•°å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯è·¯å¾„ï¼Œç¬¬äºŒä¸ªæ˜¯Controllerçš„æŒ‡é’ˆã€‚</p><p>6ã€Runåº”ç”¨ï¼Œæœ€åä¸€æ­¥å°±æ˜¯æŠŠåœ¨1ä¸­åˆå§‹åŒ–çš„BeeAppå¼€å¯èµ·æ¥ï¼Œå…¶å®å°±æ˜¯å†…éƒ¨ç›‘å¬äº†8080ç«¯å£:Goé»˜è®¤æƒ…å†µä¼šç›‘å¬ä½ æœ¬æœºæ‰€æœ‰çš„IPä¸Šé¢çš„8080ç«¯å£</p><p>åœæ­¢æœåŠ¡çš„è¯ï¼Œè¯·æŒ‰ctrl+c</p><h2 id="æ–°å»ºé¡¹ç›®"><a href="#æ–°å»ºé¡¹ç›®" class="headerlink" title="æ–°å»ºé¡¹ç›®"></a>æ–°å»ºé¡¹ç›®</h2><p>é¦–å…ˆè¿›å…¥goPathç›®å½•ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤åˆ›å»ºbeegoé¡¹ç›®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ cd $GOPATH/src</span><br><span class="line">$ bee new hello</span><br><span class="line"></span><br><span class="line">// bee command</span><br><span class="line">// é»˜è®¤åˆ›å»ºå¸¦ view çš„å·¥ç¨‹</span><br><span class="line">// bee new [appname] </span><br><span class="line">// å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å¿«é€Ÿåˆ›å»º api å·¥ç¨‹</span><br><span class="line">// bee api [appserver]</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å»ºç«‹äº†ä¸€ä¸ªé¡¹ç›®helloï¼Œç›®å½•ç»“æ„å¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">quickstart</span><br><span class="line">|-- conf</span><br><span class="line">|   `-- app.conf</span><br><span class="line">|-- controllers</span><br><span class="line">|   `-- default.go</span><br><span class="line">|-- main.go</span><br><span class="line">|-- models</span><br><span class="line">|-- routers</span><br><span class="line">|   `-- router.go</span><br><span class="line">|-- static</span><br><span class="line">|   |-- css</span><br><span class="line">|   |-- img</span><br><span class="line">|   `-- js</span><br><span class="line">|-- tests</span><br><span class="line">|   `-- default_test.go</span><br><span class="line">`-- views</span><br><span class="line">    `-- index.tpl</span><br></pre></td></tr></table></figure><p>ä»ç›®å½•ç»“æ„ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ MVC æ¶æ„çš„åº”ç”¨ï¼Œmain.go æ˜¯å…¥å£æ–‡ä»¶ã€‚</p><h2 id="å¼€å‘æ¨¡å¼"><a href="#å¼€å‘æ¨¡å¼" class="headerlink" title="å¼€å‘æ¨¡å¼"></a>å¼€å‘æ¨¡å¼</h2><p>é€šè¿‡beeåˆ›å»ºçš„é¡¹ç›®ï¼Œbeegoé»˜è®¤æƒ…å†µä¸‹æ˜¯å¼€å‘æ¨¡å¼ã€‚<br>æˆ‘ä»¬å¯ä»¥æ‰“å¼€app.conf æ–‡ä»¶ï¼Œé€šè¿‡å¦‚ä¸‹çš„æ–¹å¼æ”¹å˜æˆ‘ä»¬çš„æ¨¡å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">beego.RunMode = &quot;pro&quot;</span><br></pre></td></tr></table></figure><p>æˆ–è€…æˆ‘ä»¬åœ¨conf/app.confä¸‹é¢è®¾ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runmode = pro</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä¸¤ç§æ•ˆæœä¸€æ ·ã€‚</p><p>å¼€å‘æ¨¡å¼ä¸­</p><ul><li>å¼€å‘æ¨¡å¼ä¸‹ï¼Œå¦‚æœä½ çš„ç›®å½•ä¸å­˜åœ¨viewsç›®å½•ï¼Œé‚£ä¹ˆä¼šå‡ºç°ç±»ä¼¼ä¸‹é¢çš„é”™è¯¯æç¤ºï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2017/05/07 9:36:17 [W] [stat views: no such file or directory]</span><br></pre></td></tr></table></figure><ul><li><p>æ¨¡æ¿ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½ä¸ç¼“å­˜ã€‚</p></li><li><p>å¦‚æœæœåŠ¡ç«¯å‡ºé”™ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨æµè§ˆå™¨ç«¯æ˜¾ç¤ºå¦‚ä¸‹ç±»ä¼¼çš„æˆªå›¾ï¼š</p></li></ul><p><img src="http://upload-images.jianshu.io/upload_images/545755-cce31499ceaeda1d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QQ20170507-090203@2x.png"></p><h2 id="ç¼–è¯‘è¿è¡Œ"><a href="#ç¼–è¯‘è¿è¡Œ" class="headerlink" title="ç¼–è¯‘è¿è¡Œ"></a>ç¼–è¯‘è¿è¡Œ</h2><p>é¦–å…ˆè¿›å…¥åˆ°hello çš„æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¡Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">yuhanledeMacBook-Pro:goProject yuhanle$ cd src/hello/</span><br><span class="line">yuhanledeMacBook-Pro:hello yuhanle$ bee run</span><br><span class="line">______</span><br><span class="line">| ___ \</span><br><span class="line">| |_/ /  ___   ___</span><br><span class="line">| ___ \ / _ \ / _ \</span><br><span class="line">| |_/ /|  __/|  __/</span><br><span class="line">\____/  \___| \___| v1.8.3</span><br><span class="line">2017/05/07 08:54:08 INFO     â–¶ 0001 Using &apos;hello&apos; as &apos;appname&apos;</span><br><span class="line">2017/05/07 08:54:08 INFO     â–¶ 0002 Initializing watcher...</span><br><span class="line">hello/controllers</span><br><span class="line">hello/routers</span><br><span class="line">hello</span><br><span class="line">2017/05/07 08:54:10 SUCCESS  â–¶ 0003 Built Successfully!</span><br><span class="line">2017/05/07 08:54:10 INFO     â–¶ 0004 Restarting &apos;hello&apos;...</span><br><span class="line">2017/05/07 08:54:10 SUCCESS  â–¶ 0005 &apos;./hello&apos; is running...</span><br><span class="line">2017/05/07 08:54:10 [I] [asm_amd64.s:2197] http server Running on http://:8080</span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬çš„åº”ç”¨å·²ç»åœ¨ 8080 ç«¯å£(beego çš„é»˜è®¤ç«¯å£)è·‘èµ·æ¥äº†.ä½ æ˜¯ä¸æ˜¯è§‰å¾—å¾ˆç¥å¥‡ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ nginx å’Œ apache å±…ç„¶å¯ä»¥è‡ªå·±å¹²è¿™ä¸ªäº‹æƒ…ï¼Ÿæ˜¯çš„ï¼ŒGo å…¶å®å·²ç»åšäº†ç½‘ç»œå±‚çš„ä¸œè¥¿ï¼Œbeego åªæ˜¯å°è£…äº†ä¸€ä¸‹ï¼Œæ‰€ä»¥å¯ä»¥åšåˆ°ä¸éœ€è¦ nginx å’Œ apacheã€‚</p><p>ç„¶åå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a> é¢„è§ˆæˆ‘ä»¬åˆ›å»ºçš„ç¬¬ä¸€ä¸ªé¡¹ç›®ã€‚</p><p><img src="http://upload-images.jianshu.io/upload_images/545755-8f52376c9d2c1e93.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="QQ20170507-090245@2x.png"></p><p>ä¸‹ä¸€èŠ‚ï¼šè·¯ç”±è®¾ç½®ï¼ˆé¢„è®¡å‘¨æœ«ï¼‰</p><p>æ›´å¤šå†…å®¹è¯·å‚è€ƒï¼š<strong><a href="https://github.com/yuhanle/BeegoStudyNotes" target="_blank" rel="noopener">BeegoStudyNotes</a></strong></p><h2 id="å‚è€ƒæ–‡ç« ï¼š"><a href="#å‚è€ƒæ–‡ç« ï¼š" class="headerlink" title="å‚è€ƒæ–‡ç« ï¼š"></a>å‚è€ƒæ–‡ç« ï¼š</h2><p><a href="https://beego.me/docs/quickstart/" target="_blank" rel="noopener">beego å¿«é€Ÿå…¥é—¨</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å¦‚ä½•æ–°å»ºé¡¹ç›®&quot;&gt;&lt;a href=&quot;#å¦‚ä½•æ–°å»ºé¡¹ç›®&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•æ–°å»ºé¡¹ç›®&quot;&gt;&lt;/a&gt;å¦‚ä½•æ–°å»ºé¡¹ç›®&lt;/h1&gt;&lt;p&gt;ä½ å¯¹beegoä¸€æ— æ‰€çŸ¥ï¼Ÿæ²¡å…³ç³»ï¼Œè¿™ç¯‡æ–‡æ¡£ä¼šå¾ˆå¥½çš„è¯¦ç»†ä»‹ç»beegoçš„å„ä¸ªæ–¹é¢ï¼Œçœ‹è¿™ä¸ªæ–‡æ¡£ä¹‹å‰é¦–å…ˆç¡®è®¤ä½ å·²ç»å®‰è£…äº†beegoï¼Œå¦‚æœä½ æ²¡æœ‰å®‰è£…çš„è¯ï¼Œè¯·çœ‹è¿™ç¯‡&lt;a href=&quot;https://github.com/astaxie/beego/blob/master/docs/zh/Install.md&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å®‰è£…æŒ‡å—&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;beego æ˜¯ä¸€ä¸ªå¿«é€Ÿå¼€å‘ Go åº”ç”¨çš„ HTTP æ¡†æ¶ï¼Œä»–å¯ä»¥ç”¨æ¥å¿«é€Ÿå¼€å‘ APIã€Web åŠåç«¯æœåŠ¡ç­‰å„ç§åº”ç”¨ï¼Œæ˜¯ä¸€ä¸ª RESTful çš„æ¡†æ¶ï¼Œä¸»è¦è®¾è®¡çµæ„Ÿæ¥æºäº tornadoã€sinatra å’Œ flask è¿™ä¸‰ä¸ªæ¡†æ¶ï¼Œä½†æ˜¯ç»“åˆäº† Go æœ¬èº«çš„ä¸€äº›ç‰¹æ€§ï¼ˆinterfaceã€struct åµŒå…¥ç­‰ï¼‰è€Œè®¾è®¡çš„ä¸€ä¸ªæ¡†æ¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Beego" scheme="https://blog.yuhanle.com/categories/Beego/"/>
    
    
      <category term="Beego" scheme="https://blog.yuhanle.com/tags/Beego/"/>
    
  </entry>
  
  <entry>
    <title>GCD åŒæ­¥å¼‚æ­¥ä»¥åŠä¸²å¹¶è¡Œè¯¦è§£</title>
    <link href="https://blog.yuhanle.com/2017/05/02/gcd-sync-parallel/"/>
    <id>https://blog.yuhanle.com/2017/05/02/gcd-sync-parallel/</id>
    <published>2017-05-02T00:00:00.000Z</published>
    <updated>2018-07-05T01:17:36.614Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/gcd/wind-surfing-67627_1920.jpg" alt="æµªèµ·æ¥"></p><p>GCDæ˜¯iOSå¼€å‘å¤šçº¿ç¨‹ä¸­ç»å¸¸ä½¿ç”¨çš„æŠ€æœ¯ï¼Œå…ˆçœ‹ä¸€ä¸‹GCDä¸­çš„å¸¸è§çš„æœ¯è¯­<br><a id="more"></a></p><p>æè¿°å¤šä¸ªä»»åŠ¡ä¹‹é—´åŒä¸€æ—¶åˆ»çš„è¿è¡Œå…³ç³»ï¼š</p><ul><li>serialï¼ˆä¸²è¡Œï¼‰ æŸä¸€æ—¶åˆ»ï¼Œåªæ‰§è¡Œä¸€ä¸ªä»»åŠ¡</li><li>concurrentï¼ˆå¹¶è¡Œï¼‰ å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡</li></ul><p>ä¾§é‡æè¿°ä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œå®Œæˆï¼Œå¯¹å…¶ä»–ä»»åŠ¡çš„å½±å“ (æ—¢ æ˜¯å¦ä»»åŠ¡åœ¨ç­‰å¾…æŸä¸ªå‡½æ•°å®Œæˆï¼Œç„¶åæ‰å¯ä»¥è¿è¡Œ)ï¼š</p><ul><li>synchronousï¼ˆåŒæ­¥ï¼‰ ä»»åŠ¡æ‰§è¡Œå®Œæˆåretureï¼Œï¼ˆé˜»å¡ï¼‰</li><li>asynchronousï¼ˆå¼‚æ­¥ï¼‰ ä¸ç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œç«‹å³retureï¼Œï¼ˆä¸é˜»å¡å½“å‰ï¼‰</li></ul><p>åœ¨GCDä¸­ï¼Œæˆ‘ä»¬ç”¨ä¸²è¡Œå¹¶è¡Œæè¿°é˜Ÿåˆ—ã€‚è¿™å°±æ˜¯åœ¨æè¿°ï¼Œè¯¥é˜Ÿåˆ—é‡Œé¢çš„æ‰€æœ‰ä»»åŠ¡ï¼Œç›¸äº’ä¹‹é—´åœ¨åŒä¸€æ—¶åˆ»ï¼Œæ˜¯æ€æ ·çš„è¿è¡Œå…³ç³»ã€‚æ˜¯æŒ‡é˜Ÿåˆ—å†…æœ¬èº«çš„ä»»åŠ¡è¿è¡Œé¡ºåºã€‚ </p><p>æˆ‘ä»¬è¿˜ç”¨åŒæ­¥å¼‚æ­¥ï¼Œæè¿°æŸä¸€ä¸ªä»»åŠ¡ã€‚æ¯”å¦‚è¯´ä»»åŠ¡Aæ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚è¿™å°±æ˜¯åœ¨è¯´ï¼ŒAä»»åŠ¡ï¼Œä¼šé˜»å¡å½“å‰ä»»åŠ¡ï¼Œç›´åˆ°Aç»“æŸã€‚è¿™æ˜¯æŒ‡ä¸åŒä»»åŠ¡ä¹‹é—´çš„å…³ç³»ï¼Œä¸é˜Ÿåˆ—æ— å…³ï¼Œå¯ä»¥æ˜¯ä¸åŒé˜Ÿåˆ—ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸åŒé˜Ÿåˆ—ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ï¼ŒGCDé‡Œé¢çš„ä¸åŒé˜Ÿåˆ—ã€‚</p><h2 id="Serial-Queues"><a href="#Serial-Queues" class="headerlink" title="Serial Queues"></a>Serial Queues</h2><p>åœ¨ä¸²è¡Œé˜Ÿåˆ—é‡Œï¼ŒåŒä¸€æ—¶é—´åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚ä»»åŠ¡æŒ‰ç…§è¢«æ·»åŠ è¿›å…¥é˜Ÿåˆ—çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚æ¯ä¸€ä¸ªä»»åŠ¡åªæœ‰åœ¨å‰é¢çš„ä»»åŠ¡å®Œæˆåï¼Œæ‰å¯ä»¥å¼€å§‹æ‰§è¡Œã€‚</p><p>ç³»ç»Ÿä¸ºæˆ‘ä»¬æä¾›çš„ä¸²è¡Œé˜Ÿåˆ—</p><ul><li>main queue ( dispatch_get_main_queue )</li></ul><p>main queueæ˜¯ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ï¼Œæœ‰ä¸²è¡Œé˜Ÿåˆ—çš„ä¸€åˆ‡ç‰¹æ€§ã€‚æ¯”è¾ƒç‰¹æ®Šçš„ä¸€ç‚¹æ˜¯åŠ å…¥è¿™ä¸ªé˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œéƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„ã€‚</p><h2 id="Concurrent-Queues"><a href="#Concurrent-Queues" class="headerlink" title="Concurrent Queues"></a>Concurrent Queues</h2><p>åŠ å…¥å¹¶è¡Œé˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œæ‰§è¡Œçš„é¡ºåºä¹Ÿæ˜¯æŒ‰ç…§ä»»åŠ¡è¢«åŠ å…¥é˜Ÿåˆ—çš„é¡ºåºæ‰§è¡Œï¼Œè¿™æ˜¯æˆ‘ä»¬å”¯ä¸€å¯ä»¥ä¿è¯çš„ã€‚æ¯ä¸ªä»»åŠ¡éƒ½ä¸ç”¨ç­‰å¾…ä¹‹å‰çš„ä»»åŠ¡å®Œæˆï¼ŒåŒä¸€æ—¶åˆ»å¯ä»¥å¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œã€‚</p><p>ç³»ç»ŸåŒæ ·æœ‰ä¸€ä¸ªå…¨å±€çš„å¹¶å‘é˜Ÿåˆ—</p><ul><li>global dispatch queue ( dispatch_get_global_queue )</li></ul><p>è¿™æ˜¯å¦ä¸€ä¸ªæˆ‘ä»¬ç†Ÿæ‚‰çš„å¹¶å‘é˜Ÿåˆ—ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ç›´æ¥ä½¿ç”¨è¿™ä¸ªé˜Ÿåˆ—ï¼Œå¯ä»¥ç®€å•å¤„ç†ä¸€äº›æˆ‘ä»¬éœ€è¦å¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡ã€‚</p><h2 id="Custom-Queue"><a href="#Custom-Queue" class="headerlink" title="Custom Queue"></a>Custom Queue</h2><p>é™¤äº†ç³»ç»Ÿæä¾›çš„å…¨å±€é˜Ÿåˆ—ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰ä¸²è¡Œæˆ–è€…å¹¶è¡Œçš„é˜Ÿåˆ—ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dispatch_queue_t mySerialQueue = dispatch_queue_create(&quot;com.mySerialQueue&quot;, DISPATCH_QUEUE_SERIAL);</span><br><span class="line">dispatch_queue_t myConcurrentQueue = dispatch_queue_create(&quot;com.myConcurrentQueue&quot;, DISPATCH_QUEUE_CONCURRENT);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯å‡ ç§æˆ‘ä»¬ç”¨GCDæ—¶ï¼Œéœ€è¦ä½¿ç”¨åˆ°çš„é˜Ÿåˆ—ã€‚</p><p>å¦å¤–ï¼Œä½¿ç”¨GCDï¼Œé™¤äº†é€‰æ‹©æ­£ç¡®çš„é˜Ÿåˆ—å¤–ï¼Œè¿˜è¦å…³æ³¨ï¼šæˆ‘ä»¬è¦æ‰§è¡Œçš„ä»»åŠ¡æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œã€‚</p><h2 id="dispatch-async-å¼‚æ­¥æ‰§è¡Œ"><a href="#dispatch-async-å¼‚æ­¥æ‰§è¡Œ" class="headerlink" title="dispatch_async å¼‚æ­¥æ‰§è¡Œ"></a>dispatch_async å¼‚æ­¥æ‰§è¡Œ</h2><p>dispatch_async ç”¨æ¥ç”¨å¼‚æ­¥çš„æ–¹å¼æ‰§è¡Œä¸²è¡Œæˆ–è€…å¹¶è¡Œé˜Ÿåˆ—é‡Œé¢çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨ dispatch_async çš„å‡ ç§å¸¸è§æƒ…å†µï¼š</p><ul><li>custom Serial Queueï¼šå½“æˆ‘ä»¬éœ€è¦æ‰§è¡Œå‡ ä¸ªåº”è¯¥ä¸²è¡Œæ‰§è¡Œçš„ä»»åŠ¡ï¼Œåˆä¸é˜»å¡å½“å‰çš„æ—¶å€™ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// task1 task2 é¡ºåºä¾æ¬¡æ‰§è¡Œï¼ŒåŒæ—¶ä¸é˜»å¡others</span><br><span class="line"></span><br><span class="line">dispatch_queue_t mySerialQueue = dispatch_queue_create(&quot;com.mySerialQueue&quot;, NULL);</span><br><span class="line"></span><br><span class="line">dispatch_async(mySerialQueue, ^&#123;</span><br><span class="line">   ...task1</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">dispatch_async(mySerialQueue, ^&#123;</span><br><span class="line">  ...task2</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">...others</span><br></pre></td></tr></table></figure><ul><li><p>main Queueï¼šå½“æˆ‘ä»¬æ‰§è¡Œå¹¶å®Œæˆäº†ä¸€æ®µå¼‚æ­¥çš„ä»»åŠ¡ï¼Œéœ€è¦å›åˆ°ä¸»çº¿ç¨‹æ›´æ–°UIçš„æ—¶å€™ï¼Œå¾ˆå¸¸è§çš„é€‰æ‹©å°±æ˜¯ä½¿ç”¨GCDçš„ main queueã€‚</p></li><li><p>custom or global concurrent Queueï¼šè¿™ä¸ªæ˜¯æˆ‘ä»¬æ‰§è¡ŒéUIä»»åŠ¡çš„å¸¸è§é€‰æ‹©ã€‚è¦æ³¨æ„çš„æ˜¯ï¼ŒåŠ å…¥é˜Ÿåˆ—çš„å¤šä¸ªä»»åŠ¡ä¹‹é—´å¹¶å‘æ‰§è¡Œï¼Œæˆ‘ä»¬æ— æ³•çŸ¥é“é‚£ä¸ªä»»åŠ¡å…ˆå®Œæˆã€‚</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dispatch_queue_t myConcurrentQueue = dispatch_queue_create(&quot;com.myConcurrentQueue&quot;, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line"></span><br><span class="line">dispatch_async(myConcurrentQueue, ^&#123;</span><br><span class="line">  </span><br><span class="line">  ...task1    </span><br><span class="line">    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">          Update UI </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="dispatch-sync-åŒæ­¥æ‰§è¡Œ"><a href="#dispatch-sync-åŒæ­¥æ‰§è¡Œ" class="headerlink" title="dispatch_sync åŒæ­¥æ‰§è¡Œ"></a>dispatch_sync åŒæ­¥æ‰§è¡Œ</h2><p>å¤§éƒ¨åˆ†æ—¶å€™æˆ‘ä»¬æ‰§è¡Œdispatch_syncæ“ä½œï¼Œéƒ½è¦æ ¼å¤–å°å¿ƒäº›ã€‚</p><ul><li>custom or main Serial Queueï¼š åŒæ­¥æ‰§è¡Œä¸²è¡Œé˜Ÿåˆ—æ—¶ï¼Œè¦æ³¨æ„é˜²æ­¢å‘ç”Ÿæ­»é”ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç :</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œtask2 ç­‰å¾… task1å®Œæˆï¼Œæ‰€ä»¥ä¸ä¼šå¼€å§‹ã€‚è€Œtask1åˆå®Œæˆä¸äº†ï¼Œå› ä¸ºtask2è¿˜æ²¡æœ‰æ‰§è¡Œå®Œ(ç”šè‡³éƒ½æ²¡æœ‰å¼€å§‹)ã€‚æ­»é”ã€‚</span><br><span class="line">  </span><br><span class="line">dispatch_queue_t mySerialQueue = dispatch_queue_create(&quot;com.mySerialQueue&quot;, DISPATCH_QUEUE_SERIAL);</span><br><span class="line">    </span><br><span class="line">dispatch_sync(mySerialQueue, ^&#123;</span><br><span class="line">    </span><br><span class="line">    ...task1</span><br><span class="line">    dispatch_sync(mySerialQueue, ^&#123;</span><br><span class="line">       </span><br><span class="line">       ...task2            </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>concurrent Queueï¼šåˆç†ä½¿ç”¨å¯ä»¥è§£å†³ä¸€äº›å¹¶å‘è¯»å†™é—®é¢˜ã€‚ä¾‹å¦‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//task1 æ‰§è¡Œç»“æŸåï¼Œtask2æ‰ä¼šå¼€å§‹æ‰§è¡Œã€‚</span><br><span class="line">dispatch_queue_t myConcurrentQueue = dispatch_queue_create(&quot;com.myConcurrentQueue&quot;, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line"></span><br><span class="line">dispatch_sync(myConcurrentQueue, ^&#123;</span><br><span class="line">    </span><br><span class="line">  ...task1 è¯»</span><br><span class="line">&#125;);</span><br><span class="line">    </span><br><span class="line">dispatch_async(myConcurrentQueue, ^&#123;</span><br><span class="line">    </span><br><span class="line">  ...task2 å†™</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="dispatch-after"><a href="#dispatch-after" class="headerlink" title="dispatch_after"></a>dispatch_after</h2><p>å¼‚æ­¥å»¶è¿Ÿæ“ä½œã€‚å®é™…ä¸Š dispatch_after å°±åƒä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œçš„ dispatch_asyncã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">double delayInSeconds = 1.0;</span><br><span class="line">dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC));</span><br><span class="line"> dispatch_after(popTime, dispatch_get_main_queue(), ^(void)&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://7xqhcq.com1.z0.glb.clouddn.com/gcd/wind-surfing-67627_1920.jpg&quot; alt=&quot;æµªèµ·æ¥&quot;&gt;&lt;/p&gt;
&lt;p&gt;GCDæ˜¯iOSå¼€å‘å¤šçº¿ç¨‹ä¸­ç»å¸¸ä½¿ç”¨çš„æŠ€æœ¯ï¼Œå…ˆçœ‹ä¸€ä¸‹GCDä¸­çš„å¸¸è§çš„æœ¯è¯­&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://blog.yuhanle.com/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://blog.yuhanle.com/tags/iOS/"/>
    
      <category term="GCD" scheme="https://blog.yuhanle.com/tags/GCD/"/>
    
  </entry>
  
  <entry>
    <title>GCD åŒæ­¥æ“ä½œä¹‹ Resource Competition</title>
    <link href="https://blog.yuhanle.com/2017/04/28/gcd-sync-barriers-groups-semaphore/"/>
    <id>https://blog.yuhanle.com/2017/04/28/gcd-sync-barriers-groups-semaphore/</id>
    <published>2017-04-28T00:00:00.000Z</published>
    <updated>2018-07-05T01:17:30.285Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/gcd/surfer-2212948_1920.jpg" alt="æ›´å¿«æ›´é«˜æ›´å¼º"></p><p>åœ¨å­¦ä¼šç®€å•çš„ä½¿ç”¨GCDå¤„ç†å¤šçº¿ç¨‹ä¹‹åï¼Œæˆ‘ä»¬æ¥å†æ·±å…¥äº†è§£ä¸‹GCDå¯¹å¤šçº¿ç¨‹çš„ä¸€äº›åŒæ­¥æ§åˆ¶ã€‚<br><a id="more"></a></p><h2 id="dispatch-barriers"><a href="#dispatch-barriers" class="headerlink" title="dispatch barriers"></a>dispatch barriers</h2><p>åœ¨ä½¿ç”¨ Concurrent Queue çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›é˜Ÿåˆ—ä¸­çš„æŸé¡¹ä»»åŠ¡ï¼Œèƒ½å¤Ÿè¢«ä¸²è¡Œæ‰§è¡Œï¼Œæ¥é¿å…èµ„æºç«äº‰ç­‰å¤šçº¿ç¨‹é—®é¢˜ã€‚æ¯”å¦‚é‡åˆ°è¯»å†™é—®é¢˜ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ dispatch barriersã€‚æ¥ä¿è¯å³ä½¿åœ¨å¹¶è¡Œé˜Ÿåˆ—ä¸­ï¼Œå¯¹æŸä¸ªå¯¹è±¡çš„è¯»å’Œå†™æ“ä½œï¼Œåœ¨åŒä¸€æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªå¯ä»¥è¢«æ‰§è¡Œã€‚è¿™æ—¶å€™å°±å¯ä»¥ç”¨åˆ° dispatch barriersäº†ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹ï¼Œä¸åŒçš„é˜Ÿåˆ—ä¸­barriersçš„ä½¿ç”¨ï¼š</p><ul><li><p>Custom Serial Queue: åœ¨ä¸²è¡Œé˜Ÿåˆ—ä¸­ï¼Œé˜Ÿåˆ—éƒ½æ˜¯é¡ºåºä¸²è¡Œæ‰§è¡Œï¼Œä½¿ç”¨barriersæ²¡æœ‰ä»»ä½•å¥½å¤„ã€‚ä¸€èˆ¬æ¥è®²æˆ‘ä»¬ä¸éœ€è¦è¿™ä¹ˆåšã€‚</p></li><li><p>Global Concurrent Queue: è¿™é‡Œè™½ç„¶æ˜¯å¹¶è¡Œé˜Ÿåˆ—ï¼Œä½†è¿™ä¸ªé˜Ÿåˆ—æ˜¯å…¨å±€çš„ï¼Œæˆ‘ä»¬ä¸èƒ½ä¿è¯åˆ«äººæ²¡æœ‰ä½¿ç”¨è¿™ä¸ªé˜Ÿåˆ—ã€‚å¯¹è¿™ä¸ªé˜Ÿåˆ—åŠ barriersï¼Œå¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–æ¨¡å—çš„åŠŸèƒ½ã€‚æ‰€ä»¥ä¸å»ºè®®åœ¨è¿™ä¸ªé˜Ÿåˆ—ä¸­ä½¿ç”¨ã€‚</p></li><li><p>Custom Concurrent Queue: åœ¨è‡ªå®šä¹‰çš„å¹¶è¡Œé˜Ÿåˆ—ä¸­ä½¿ç”¨barriersï¼Œæ˜¯æ¯”è¾ƒåˆé€‚çš„æ–¹å¼ã€‚</p></li></ul><p>æ‰€ä»¥å½“æˆ‘ä»¬è¦åšçš„å¹¶è¡Œæ“ä½œï¼Œå¯èƒ½å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æ—¶å€™ã€‚æˆ‘ä»¬æœ€å¥½è€ƒè™‘æ–°å»ºè‡ªå®šä¹‰å¹¶è¡Œé˜Ÿåˆ—ï¼Œè€Œä¸æ˜¯ç®€å•åœ°ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ Global Queueã€‚</p><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾æŸä¸€ä¸ªç±»è¦ç®¡ç†MyClassè¿™ä¸ªç±»å‹çš„è¯»å†™ï¼Œä¸‹é¢åˆ—ä¸¾è¿™ä¸ªç±»çš„ä¸€äº›ç›¸å…³æ–¹æ³•:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">//åˆå§‹åŒ–è‡ªå®šä¹‰å¹¶å‘é˜Ÿåˆ—</span><br><span class="line">  - (instancetype)init&#123;</span><br><span class="line">      </span><br><span class="line">      if(self = [super init])&#123;</span><br><span class="line">          customConcurrentQueue = dispatch_queue_create(&quot;com.customConcurrentQueue&quot;, DISPATCH_QUEUE_CONCURRENT); </span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //å†™æ–¹æ³•</span><br><span class="line">  - (void)write:(MyClass *)myClass &#123;</span><br><span class="line">  </span><br><span class="line">      if( myClass )&#123;</span><br><span class="line">          </span><br><span class="line">          //ä½¿ç”¨barrierï¼Œä¿è¯å†™æ–¹æ³•ï¼Œå¯ä»¥ä¸²è¡Œæ‰§è¡Œ</span><br><span class="line">            dispatch_barrier_async(self.customConcurrentQueue, ^&#123; </span><br><span class="line">              </span><br><span class="line">              //å†™æ“ä½œ</span><br><span class="line">              ...</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //è¯»æ–¹æ³•</span><br><span class="line">  - (MyClass *)read&#123;</span><br><span class="line">      </span><br><span class="line">      //è¦ä¿è¯ï¼Œè¯»å’Œå†™æ–¹æ³•ä¸èƒ½åŒæ—¶æ‰§è¡Œï¼Œ</span><br><span class="line">      //é¦–å…ˆï¼Œä»–ä»¬è¦åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­ ï¼šself.customConcurrentQueue</span><br><span class="line">      //å…¶æ¬¡ï¼Œè¯»æ–¹æ³•è¦ç­‰å¾…è¯»å‡ºæ•°æ®åè¿”å›ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯åŒæ­¥æ“ä½œ ï¼šdispatch_sync</span><br><span class="line">      </span><br><span class="line">      __block MyClass *myClass = [[MyClass alloc] init];</span><br><span class="line">      </span><br><span class="line">      dispatch_sync(self.customConcurrentQueue, ^&#123;</span><br><span class="line">      </span><br><span class="line">          //è¯»æ“ä½œ</span><br><span class="line">          myClass = ...</span><br><span class="line">      &#125;);</span><br><span class="line">      </span><br><span class="line">      return myClass;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="dispatch-groups"><a href="#dispatch-groups" class="headerlink" title="dispatch groups"></a>dispatch groups</h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¤šä¸ªå¹¶è¡Œä»»åŠ¡å…¨éƒ¨å®Œæˆåï¼Œåšä¸€äº›æ“ä½œï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ° groupæ¥ç®¡ç†äº†ã€‚</p><p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚æˆ‘æœ‰4ä¸ªä»»åŠ¡è¦ä½¿ç”¨å¹¶å‘å¤„ç†ï¼Œä»»åŠ¡4è¦ç­‰å¾…ï¼Œä»»åŠ¡1ã€2ã€3å®Œæˆåæ‰§è¡Œã€‚åŒæ—¶ï¼Œä»»åŠ¡4ä¸é˜»å¡å½“å‰çš„çº¿ç¨‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">- (void)testDispatchGroup&#123;</span><br><span class="line"></span><br><span class="line">  dispatch_queue_t concurrentQueue = dispatch_queue_create(&quot;com.test.testConcurrent&quot;, DISPATCH_QUEUE_CONCURRENT);</span><br><span class="line"></span><br><span class="line">  dispatch_group_t group = dispatch_group_create();</span><br><span class="line"></span><br><span class="line">  //å¼‚æ­¥æ“ä½œ</span><br><span class="line">  dispatch_group_async(group, concurrentQueue, ^&#123;</span><br><span class="line">         </span><br><span class="line">      ä»»åŠ¡1</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  dispatch_group_async(group, concurrentQueue, ^&#123;</span><br><span class="line">         </span><br><span class="line">      ä»»åŠ¡2</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  dispatch_group_async(group, concurrentQueue, ^&#123;</span><br><span class="line">         </span><br><span class="line">      ä»»åŠ¡3</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  //dispatch_group_notify ä¸­çš„blockæ‰§è¡Œçš„æ˜¯æˆ‘ä»¬æœ€åè¦åšçš„ä»»åŠ¡ã€‚åŒæ—¶ï¼Œè¿™é‡Œæ˜¯å¼‚æ­¥æ“ä½œï¼Œä¸ä¼šé˜»å¡åé¢å…¶ä»–ä»£ç çš„æ‰§è¡Œã€‚</span><br><span class="line">  dispatch_group_notify(group, dispatch_get_main_queue(), ^&#123;</span><br><span class="line">      </span><br><span class="line">      //å‰é¢3ä¸ªä»»åŠ¡ï¼Œéƒ½æ‰§è¡Œå®Œæˆåï¼Œæ‰§è¡Œé‡Œé¢çš„block</span><br><span class="line">      ä»»åŠ¡4</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">      ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†çœ‹å¦ä¸€ä¸ªéœ€æ±‚ï¼Œè¿˜æ˜¯ä¹‹å‰çš„4ä¸ªä»»åŠ¡ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œä»»åŠ¡4é™¤äº†è¦ç­‰å¾…å…¶ä»–ä»»åŠ¡å®Œæˆï¼Œè¿˜è¦é˜»å¡å½“å‰çº¿ç¨‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">- (void)testDispatchGroup&#123;</span><br><span class="line"></span><br><span class="line">  dispatch_group_t group = dispatch_group_create();</span><br><span class="line"></span><br><span class="line">  //å¼‚æ­¥æ“ä½œ</span><br><span class="line">  dispatch_group_async(group, concurrentQueue, ^&#123;</span><br><span class="line">         </span><br><span class="line">      ä»»åŠ¡1</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  dispatch_group_async(group, concurrentQueue, ^&#123;</span><br><span class="line">         </span><br><span class="line">      ä»»åŠ¡2</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  dispatch_group_async(group, concurrentQueue, ^&#123;</span><br><span class="line">         </span><br><span class="line">      ä»»åŠ¡3</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  //dispatch_group_wait ç­‰å¾…ä¸Šé¢ä»»åŠ¡å…¨éƒ¨å®Œæˆï¼Œé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°è¶…è¿‡è®¾ç½®çš„æ—¶é—´</span><br><span class="line">  //ä½¿ç”¨æ—¶ï¼Œè¦æ³¨æ„é¿å…é˜»å¡ä¸»çº¿ç¨‹ç­‰é—®é¢˜</span><br><span class="line">  dispatch_group_wait(group, DISPATCH_TIME_FOREVER);</span><br><span class="line">  </span><br><span class="line">  ä»»åŠ¡4</span><br><span class="line">  </span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œé™¤äº†ä½¿ç”¨<code>dispatch_group_async</code>ç®¡ç†è¦åšçš„ä»»åŠ¡ã€‚è¿˜å¯ä»¥ä½¿ç”¨<code>dispatch_group_enter</code>ã€ <code>dispatch_group_leave</code> ç»„åˆçš„æ–¹å¼ï¼Œæ‰‹åŠ¨é€šçŸ¥ä»»åŠ¡å®Œæˆã€‚å¦‚æœä½¿ç”¨æ‰‹åŠ¨ç®¡ç†çš„è¯ï¼Œæˆ‘ä»¬è¦æ³¨æ„ï¼š<code>enter</code>å’Œ<code>leave</code>æ–¹æ³•ï¼Œåº”è¯¥æ˜¯æˆå¯¹å‡ºç°çš„ã€‚</p><p>dispatch_group_enter(customGroup) : æ‰‹åŠ¨å‘ŠçŸ¥customGroupï¼Œè¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å·²ç»å¼€å§‹æ‰§è¡Œã€‚</p><p>dispatch_group_leave(customGroup) : æ‰‹åŠ¨å‘ŠçŸ¥<code>customGroup</code>ï¼Œè¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å·²ç»å®Œæˆã€‚å½“æ‰€æœ‰<code>enter</code>å¯¹åº”çš„<code>leave</code>æ–¹æ³•éƒ½æ‰§è¡Œè¿‡åã€‚æˆ‘ä»¬çš„<code>dispatch_group_notify()</code>æˆ–è€…<code>dispatch_group_wait()</code>ï¼Œå°±å¯ä»¥æ¥åˆ°ä»»åŠ¡å®Œæˆçš„é€šçŸ¥ã€‚</p><h2 id="dispatch-semaphore-ä¿¡å·é‡"><a href="#dispatch-semaphore-ä¿¡å·é‡" class="headerlink" title="dispatch semaphore ä¿¡å·é‡"></a>dispatch semaphore ä¿¡å·é‡</h2><p>å½“æœ‰å¤šä¸ªæ¶ˆè´¹è€…ï¼Œè®¿é—®æœ‰é™çš„èµ„æºçš„æ—¶å€™ï¼Œ<a href="https://en.wikipedia.org/wiki/Semaphore_(programming" target="_blank" rel="noopener">ä¿¡å·é‡</a>) å¯ä»¥è®©æˆ‘ä»¬æ›´å¥½çš„æ§åˆ¶ã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹ä¿¡å·ä¸ªæ•°çš„æ§åˆ¶ï¼Œæ¥è¾¾åˆ°çº¿ç¨‹é—´çš„åŒæ­¥æ“ä½œã€‚å½“ä¿¡å·ä¸ªæ•°ä¸º0çš„æ—¶å€™ï¼Œå½“å‰çº¿ç¨‹è¢«é˜»å¡ï¼Œç­‰å¾…ä¿¡å·é‡å¢åŠ ï¼Œå½“ä¿¡å·é‡ä¸ªæ•°å¤§äº0çš„æ—¶å€™ï¼Œåˆ™çº¿ç¨‹ç»§ç»­æ‰§è¡Œã€‚</p><p>æ³¨æ„ï¼ŒåŒæ­¥çš„æ“ä½œéƒ½è¦å°å¿ƒä½¿ç”¨ï¼Œé¿å…æ­»é”ç­‰é—®é¢˜ã€‚</p><p>å¦å¤–ï¼Œæ ¹æ®dispatch_semaphore_waitçš„è¿”å›å€¼ï¼Œå¯ä»¥ç”¨äºåˆ¤æ–­æŸä»»åŠ¡æ˜¯å¦è¶…æ—¶æ“ä½œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">- (void)testSemaphore&#123;</span><br><span class="line"></span><br><span class="line">  //åˆ›å»º ä¿¡å·é‡ å‚æ•°ä»£è¡¨åˆå§‹ä¸ªæ•°</span><br><span class="line">  dispatch_semaphore_t semaphore = dispatch_semaphore_create(0);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  dispatch_async(concurrentQueue, ^&#123;</span><br><span class="line">  </span><br><span class="line">      sleep(2);</span><br><span class="line">  </span><br><span class="line">      //å‘é€ä¸€ä¸ªä¿¡å·ï¼Œä¿¡å·é‡ä¸ªæ•° +1   </span><br><span class="line">      dispatch_semaphore_signal(semaphore);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  dispatch_async(concurrentQueue, ^&#123;</span><br><span class="line">  </span><br><span class="line">      dispatch_time_t timeoutTime = dispatch_time(DISPATCH_TIME_NOW, 1 * NSEC_PER_SEC);</span><br><span class="line">  </span><br><span class="line">      //çº¿ç¨‹ç­‰å¾…ï¼Œå½“ä¿¡å·é‡å¤§äº0æ—¶ ä»»åŠ¡ç»§ç»­æ‰§è¡Œï¼Œä¿¡å·é‡ -1</span><br><span class="line">      //çº¿ç¨‹ç­‰å¾…ï¼Œè¶…è¿‡é¢„å®šçš„è¶…æ—¶æ—¶é—´ ä»»åŠ¡ç»§ç»­æ‰§è¡Œ ä¿¡å·é‡ä¸å˜</span><br><span class="line">      //å…³äºè¿”å›å€¼ï¼šå½“è¿”å›å€¼ ä¸ä¸º0 çš„æ—¶å€™ï¼Œè¯´æ˜è¶…æ—¶</span><br><span class="line">      if( dispatch_semaphore_wait(semaphore, timeoutTime) )&#123;</span><br><span class="line">          NSLog(@&quot;time out&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://7xqhcq.com1.z0.glb.clouddn.com/gcd/surfer-2212948_1920.jpg&quot; alt=&quot;æ›´å¿«æ›´é«˜æ›´å¼º&quot;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å­¦ä¼šç®€å•çš„ä½¿ç”¨GCDå¤„ç†å¤šçº¿ç¨‹ä¹‹åï¼Œæˆ‘ä»¬æ¥å†æ·±å…¥äº†è§£ä¸‹GCDå¯¹å¤šçº¿ç¨‹çš„ä¸€äº›åŒæ­¥æ§åˆ¶ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://blog.yuhanle.com/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://blog.yuhanle.com/tags/iOS/"/>
    
      <category term="GCD" scheme="https://blog.yuhanle.com/tags/GCD/"/>
    
  </entry>
  
  <entry>
    <title>ç¦»å¼€è±¡ç‰™å¡”ä»¥å</title>
    <link href="https://blog.yuhanle.com/2017/04/18/say-hello-work/"/>
    <id>https://blog.yuhanle.com/2017/04/18/say-hello-work/</id>
    <published>2017-04-18T00:00:00.000Z</published>
    <updated>2018-07-05T01:20:17.374Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/nenshuocijun/architecture-768432_1920.jpg" alt="ç¦»å¼€è±¡ç‰™å¡”ä»¥å"></p><p>å­¦æ ¡å‡ºæ¥æœ‰å¾ˆå¤šåŒºåˆ«ï¼Œå…¶ä¸­æœ‰ä¸€ç‚¹æ˜¯æœ€æ— èŠçš„ã€‚</p><a id="more"></a><p>ç”±è¿‡å»çš„ä¸‰ç‚¹ä¸€çº¿ï¼Œè½¬å˜æˆä¸¤ç‚¹ä¸€çº¿ï¼Œæ²¡äº†æ•™å®¤ï¼Œæ²¡äº†é£Ÿå ‚ï¼Œå˜æˆäº†å…¬å¸å’Œå®¿èˆã€‚</p><p>æ²¡æœ‰è®¤çœŸæ•°è¿‡ï¼Œå¹³å‡æ¯å¤©ï¼Œåœ¨åŒä¸€æ¡è·¯ä¸Šæ¥å›ï¼Œå°†è¿‘ä¸‰å¹´ï¼Œç£¨å¹³äº†å‡ åŒé‹å­ï¼Œæ“¦ç¢°è¿‡å¤šå°‘æ¬¡è·¯è¾¹çš„æ§æ ‘ã€‚</p><p>å‡ºäº†åœ°é“ç«™ï¼Œæœ‰ä¸€ä¸ªçº¢ç»¿ç¯è·¯å£ï¼Œå…«ç‚¹åŠé’Ÿæ˜¯é«˜å³°æœŸï¼Œäººæ­£å¤šï¼Œå¾ˆå¤šäººè¿«ä¸åŠå¾…ï¼Œè¶ç€è½¦æ¥è½¦å¾€ï¼Œè¿…é€Ÿçš„çªœåˆ°å¯¹é¢ï¼Œæ€¥åŒ†åŒ†åœ°æ¶ˆå¤±åœ¨è§†çº¿é‡Œã€‚</p><p>ä¹ æƒ¯è¿‡äº†é©¬è·¯ï¼Œç©¿è¿‡åœè½¦åœºï¼Œå› ä¸ºè·¯è¾¹çš„å°è·¯å¾ˆçª„ï¼Œå¦‚æœå¯¹é¢åŒæ—¶èµ°è¿‡æ¥ä¸€ä¸ªäººï¼Œå°±éœ€è¦ç›¸äº’ä¾§èº«ï¼Œå°±åƒé‚£ç¯‡é›¨å··ï¼Œä¹Ÿç»å¸¸çš„ä¸å°å¿ƒè¸©åˆ°çŸ³å‘ï¼Œæ±¡æ³¥æº…åˆ°å¦ä¸€åŒé‹å­ã€‚</p><p>åœè½¦åœºé‡Œèµ°ç€ï¼Œå¾ˆå±é™©ï¼Œå¯èƒ½æ­£åœ¨ç©æ‰‹æœºï¼Œæˆ‘æ²¡æ³¨æ„ã€‚æœ‰ä¸€æ¬¡ï¼Œæœ‰ä½å¥³å£«ï¼Œä½ç€å¤´èµ°ç€èµ°ç€ï¼Œç©¿è¿‡åœè½¦æ†ï¼Œæ²¡æƒ³åˆ°åœè½¦æ†å½“æ—¶æ­£åœ¨ä¸‹è½ï¼Œæˆ‘èƒ½å¬åˆ°æ•²å‡»å¤´éƒ¨çš„å£°éŸ³ï¼Œå¾ˆè„†ï¼Œæ¥ç€å°±æ˜¯æ­‡æ–¯åº•é‡Œçš„å—·å«ã€‚</p><p>è·¯è¾¹æœ‰ä¸ªå¿«å®¢ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºä»–æ˜¯å‡çš„å¿«å®¢ï¼Œåœ¨æˆ‘å°è±¡ä¸­ï¼Œè¿™ä¸ªåå­—ä¸åº”è¯¥æ˜¯æ„Ÿå†’è¯å—ï¼Ÿå¾ˆå°‘å»å…‰é¡¾è¿™å®¶ä¾¿åˆ©åº—ï¼Œå› ä¸ºä¸œè¥¿å°‘ï¼Œä¸åˆå£å‘³ï¼Œè¿˜ç‰¹åˆ«çš„è´µï¼Œé™¤äº†æ—©é¤ï¼Œè¿˜æœ‰åˆé¥­ï¼Œé›¶é£Ÿï¼Œå¦‚æœæ—¶é—´æ¥å¾—åŠï¼Œæˆ‘ä¼šå»é‚£å®¶ç½—æ£®ä¹°æ¯æ°¸å’Œè±†æµ†ï¼Œè™½ç„¶å–èµ·æ¥æ²¡æœ‰å¤§è±†çš„å‘³é“ï¼Œä½†è¿˜è›®åˆå£å‘³ï¼Œç‰¹åˆ«æ˜¯å†¬å¤©ï¼Œè·¯ä¸Šé¡ºä¾¿æš–æš–æ‰‹ã€‚</p><p>åŠå…¬æ¥¼é‡Œçš„ç”µæ¢¯ï¼Œå·¥ä½œæ—¥ä¸Šç­æ—¶é—´ï¼Œæˆ‘æ²¡æœ‰ä¹˜è¿‡ã€‚å°±åœ¨äº”æ¥¼ï¼Œé—­ç€çœ¼æˆ‘éƒ½æ‘¸ä¸Šå»äº†ï¼Œå¹³æ—¥é‡Œå¹å˜˜ç€é”»ç‚¼èº«ä½“ï¼Œè¦å‡è‚¥ï¼Œè¿™ä¹Ÿæ˜¯å”¯ä¸€èƒ½å¤ŸåšæŒä¸‹å»ï¼Œé”»ç‚¼çš„æ–¹å¼äº†ã€‚</p><p>å¾ˆæƒ³å¿µï¼Œä¸¤å¹´å‰æ¯å¤©æ¥å›éª‘è¡Œ20å…¬é‡Œçš„æ—¥å­ï¼Œèº«ä½“æ˜¯å¥½äº†äº›ï¼Œè…¿è¶Šæ¥è¶Šç²—ï¼Œè¶Šæœ‰åŠ›ï¼Œå‡Œæ™¨ä¸¤ç‚¹çš„è·¯ä¸Šï¼Œè¿ç€é£ï¼Œéª‘åœ¨å¿«è½¦é“ä¸Šï¼Œè‚šå­é¥¿çš„è¯å°±åœ¨è·¯è¾¹åƒç‚¹è·¯è¾¹æ‘Šã€‚æ‘Šä¸»ä»¬å‡ºæ¥çš„å¾ˆæ™šï¼Œä»¥è‡³äºæˆ‘çš„å¾ˆå¤šæœ‹å‹éƒ½è¯´æ²¡è§è¿‡è·¯è¾¹æ‘Šï¼Œä¹Ÿè®¸æ˜¯ä¸Šæµ·æ•´æ²»çš„å¾ˆä¸¥æ ¼å§ï¼</p><p>ä¸ç®¡è¿™ä¸€å¤©ï¼Œå¦‚ä½•å¦‚ä½•ï¼Œä¹Ÿä¸ä¼šå½±å“æ–°çš„ä¸€å¤©ã€‚</p><p>æˆ–è®¸ï¼Œåªæœ‰æ¸…ååŒ—å¤§æ‰èƒ½ç§°ä¹‹ä¸ºè±¡ç‰™å¡”å§ï¼Ÿ</p><hr><p>é¢˜å›¾ï¼šaobahorse ä¸è¦æ±‚ç½²å</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://7xqhcq.com1.z0.glb.clouddn.com/nenshuocijun/architecture-768432_1920.jpg&quot; alt=&quot;ç¦»å¼€è±¡ç‰™å¡”ä»¥å&quot;&gt;&lt;/p&gt;
&lt;p&gt;å­¦æ ¡å‡ºæ¥æœ‰å¾ˆå¤šåŒºåˆ«ï¼Œå…¶ä¸­æœ‰ä¸€ç‚¹æ˜¯æœ€æ— èŠçš„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="suibi" scheme="https://blog.yuhanle.com/categories/suibi/"/>
    
    
      <category term="motion" scheme="https://blog.yuhanle.com/tags/motion/"/>
    
  </entry>
  
  <entry>
    <title>é€šè¿‡Sonar åˆæ­¥æ„å»ºä»£ç æŒç»­å®¡æŸ¥</title>
    <link href="https://blog.yuhanle.com/2017/02/15/continuous-code-quality-sonarqube-install/"/>
    <id>https://blog.yuhanle.com/2017/02/15/continuous-code-quality-sonarqube-install/</id>
    <published>2017-02-15T00:00:00.000Z</published>
    <updated>2018-07-05T01:16:38.948Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/Benefits-of-Using-SonarQube-For-Code-Reviews.jpg" alt="SonarQube"></p><h2 id="ä»‹ç»ç¯‡"><a href="#ä»‹ç»ç¯‡" class="headerlink" title="ä»‹ç»ç¯‡"></a>ä»‹ç»ç¯‡</h2><h3 id="SonarQube-ä»‹ç»"><a href="#SonarQube-ä»‹ç»" class="headerlink" title="SonarQube ä»‹ç»"></a>SonarQube ä»‹ç»</h3><p><a href="https://www.sonarqube.org/" target="_blank" rel="noopener">SonarQube</a> æ˜¯ä¸€æ¬¾é¢†å…ˆçš„æŒç»­ä»£ç è´¨é‡ç›‘æ§å¹³å°ï¼Œå¼€æºåœ¨github ä¸Šï¼Œç°åœ¨å·²æ›´æ–°åˆ°6.2 ç‰ˆæœ¬ï¼Œstar æ•°é‡è¶…è¿‡ 1400+ï¼Œå¯ä»¥è½»æ¾é…ç½®åœ¨å†…ç½‘æœåŠ¡å™¨ï¼Œå®æ—¶ç›‘æ§ä»£ç ï¼Œå¸®åŠ©äº†è§£æå‡æå‡å›¢é˜Ÿé¡¹ç›®ä»£ç è´¨é‡ã€‚é€šè¿‡æ’ä»¶æœºåˆ¶ï¼ŒSonarQubeå¯ä»¥ç»§æ‰¿ä¸åŒçš„æµ‹è¯•å·¥å…·ï¼Œä»£ç åˆ†æå·¥å…·ï¼Œä»¥åŠæŒç»­é›†æˆå·¥å…·ã€‚</p><a id="more"></a><p>ä¸æŒç»­é›†æˆå·¥å…·ï¼ˆä¾‹å¦‚ Hudson/Jenkins ç­‰ï¼‰ä¸åŒï¼ŒSonarQube å¹¶ä¸æ˜¯ç®€å•åœ°æŠŠä¸åŒçš„ä»£ç æ£€æŸ¥å·¥å…·ç»“æœï¼ˆä¾‹å¦‚ FindBugsï¼ŒPMD ç­‰ï¼‰ç›´æ¥æ˜¾ç¤ºåœ¨ Web é¡µé¢ä¸Šï¼Œè€Œæ˜¯é€šè¿‡ä¸åŒçš„æ’ä»¶å¯¹è¿™äº›ç»“æœè¿›è¡Œå†åŠ å·¥å¤„ç†ï¼Œé€šè¿‡é‡åŒ–çš„æ–¹å¼åº¦é‡ä»£ç è´¨é‡çš„å˜åŒ–ï¼Œä»è€Œå¯ä»¥æ–¹ä¾¿åœ°å¯¹ä¸åŒè§„æ¨¡å’Œç§ç±»çš„å·¥ç¨‹è¿›è¡Œä»£ç è´¨é‡ç®¡ç†ã€‚</p><p>åœ¨å¯¹å…¶ä»–å·¥å…·çš„æ”¯æŒæ–¹é¢ï¼ŒSonar ä¸ä»…æä¾›äº†å¯¹ IDE çš„æ”¯æŒï¼Œå¯ä»¥åœ¨ Eclipse å’Œ IntelliJ IDEA è¿™äº›å·¥å…·é‡Œè”æœºæŸ¥çœ‹ç»“æœï¼›åŒæ—¶ SonarQube è¿˜å¯¹å¤§é‡çš„æŒç»­é›†æˆå·¥å…·æä¾›äº†æ¥å£æ”¯æŒï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨æŒç»­é›†æˆä¸­ä½¿ç”¨ SonarQubeã€‚</p><p>æ­¤å¤–ï¼ŒSonarQube çš„æ’ä»¶è¿˜å¯ä»¥å¯¹ Java ä»¥å¤–çš„å…¶ä»–ç¼–ç¨‹è¯­è¨€æä¾›æ”¯æŒï¼Œå¯¹å›½é™…åŒ–ä»¥åŠæŠ¥å‘Šæ–‡æ¡£åŒ–ä¹Ÿæœ‰è‰¯å¥½çš„æ”¯æŒã€‚</p><p>è¡Œä¸šå†…æåˆ°â€ä»£ç è´¨é‡ç®¡ç†, è‡ªåŠ¨åŒ–è´¨é‡ç®¡ç†â€, ä¸€èˆ¬æŒ‡çš„éƒ½æ˜¯é€šè¿‡Sonaræ¥å®ç°ã€‚æœ¬æ–‡çš„ç›®æ ‡æ˜¯å®ç°åœ¨Sonarä¸Šæ˜¾ç¤ºå‡ºiOSé¡¹ç›®, å…ˆçœ‹å¼ æœ€ç»ˆçš„æ•ˆæœå›¾:</p><p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/main-des.png" alt="SonarQube"></p><p>ç”¨Sonarèƒ½å¤Ÿå®ç°ä»€ä¹ˆ?</p><ul><li>æŠ€æœ¯å€ºåŠ¡(sonaræ ¹æ®â€è§„åˆ™â€æ‰«æå‡ºä¸ç¬¦åˆè§„åˆ™çš„ä»£ç )</li><li>è¦†ç›–ç‡(å•å…ƒæµ‹è¯•è¦†ç›–ç‡)</li><li>é‡å¤(é‡å¤çš„ä»£ç , æœ‰åˆ©äºæé†’å°è£…)</li><li>ç»“æ„</li></ul><p>é—®é¢˜1: â€œè§„åˆ™â€æŒ‡çš„æ˜¯ä»€ä¹ˆ? </p><pre><code>åœ¨Sonarå·¥å…·ä¸­é…ç½®æ£€æµ‹å·¥å…·(è§„åˆ™), ç„¶åsonaræ ¹æ®è§„åˆ™æ£€æµ‹&quot;è´¨é‡æŠ¥å‘Šæ–‡ä»¶&quot;, å¾—å‡ºé—®é¢˜æ•°ç›®ã€‚ æ¯”å¦‚æœ¬æ–‡é…ç½®çš„è§„åˆ™æ˜¯OCLint</code></pre><p>é—®é¢˜2: æŠ€æœ¯å€ºåŠ¡çš„å¤©æ•°æ€ä¹ˆå¾—å‡º?</p><pre><code>æ¯ä¸ªè§„åˆ™éƒ½æœ‰å¯¹åº”çš„å¤„ç†æ—¶é—´, æœ€å:é—®é¢˜ç±»å‹1æ•°ç›® * å¯¹åº”æ—¶é—´ + é—®é¢˜ç±»å‹2æ•°ç›® * å¯¹åº”æ—¶é—´ +... å¾—åˆ°æ—¶é—´ã€‚</code></pre><h3 id="SonarQube-å·¥ä½œæµç¨‹"><a href="#SonarQube-å·¥ä½œæµç¨‹" class="headerlink" title="SonarQube å·¥ä½œæµç¨‹"></a>SonarQube å·¥ä½œæµç¨‹</h3><p>SonarQube å¹¶ä¸æ˜¯ç®€å•åœ°å°†å„ç§è´¨é‡æ£€æµ‹å·¥å…·çš„ç»“æœï¼ˆä¾‹å¦‚ FindBugsï¼ŒPMD ç­‰ï¼‰ç›´æ¥å±•ç°ç»™å®¢æˆ·ï¼Œè€Œæ˜¯é€šè¿‡ä¸åŒçš„æ’ä»¶ç®—æ³•æ¥å¯¹è¿™äº›ç»“æœè¿›è¡Œå†åŠ å·¥ï¼Œæœ€ç»ˆä»¥é‡åŒ–çš„æ–¹å¼æ¥è¡¡é‡ä»£ç è´¨é‡ï¼Œä»è€Œæ–¹ä¾¿åœ°å¯¹ä¸åŒè§„æ¨¡å’Œç§ç±»çš„å·¥ç¨‹è¿›è¡Œç›¸åº”çš„ä»£ç è´¨é‡ç®¡ç†ã€‚</p><p>SonarQube åœ¨è¿›è¡Œä»£ç è´¨é‡ç®¡ç†æ—¶ï¼Œä¼šä»å›¾ 1 æ‰€ç¤ºçš„ä¸ƒä¸ªçº¬åº¦æ¥åˆ†æé¡¹ç›®çš„è´¨é‡ã€‚</p><p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/image001.png" alt="å›¾ 1"></p><p>SonarQube ä¸æ˜¯é‚£ç§å®‰è£…å³å¯ç”¨çš„å·¥å…·ï¼Œä»–éœ€è¦æ•°æ®åº“çš„æ”¯æŒï¼Œç”¨äºå­˜å‚¨æ£€æµ‹é¡¹ç›®åçš„åˆ†ææ•°æ®ï¼ŒåŒæ—¶ä¸ºäº†å®ç°å¯æŒç»­ç›‘æµ‹ï¼Œè¿˜éœ€è¦é¡¹ç›®æŒç»­é›†æˆå·¥å…·ï¼ˆå¦‚Jenkinsï¼‰çš„æ”¯æŒï¼Œåœ¨æ„å»ºç‰ˆæœ¬å‰ï¼Œé€šè¿‡Jenkins+Sonar æ’ä»¶æ‰§è¡Œé¡¹ç›®åˆ†ææŒ‡ä»¤ï¼Œæœ€ç»ˆçš„ç»“æœä¼šé€šè¿‡SonarQube æœåŠ¡å™¨çš„Web é¡µé¢å±•ç¤ºã€‚</p><p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/image4.png" alt="ç½‘ç»œå›¾"></p><p>ä¸‹é¢æˆ‘ä»¬å°±é€šè¿‡mysql+Jenkins+SonarQube å®ç°é¡¹ç›®ä»£ç è´¨é‡çš„å¯æŒç»­ç›‘æµ‹</p><p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/SQ55Integration.png" alt=""></p><h2 id="å®‰è£…ç¯‡"><a href="#å®‰è£…ç¯‡" class="headerlink" title="å®‰è£…ç¯‡"></a>å®‰è£…ç¯‡</h2><h3 id="SonarQube-çš„å®‰è£…"><a href="#SonarQube-çš„å®‰è£…" class="headerlink" title="SonarQube çš„å®‰è£…"></a>SonarQube çš„å®‰è£…</h3><h4 id="æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹"><a href="#æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹" class="headerlink" title="æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹"></a>æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹</h4><ul><li>XCToolå·¥å…·</li><li>OClintå·¥å…·</li><li>Gcovrå·¥å…·</li><li>Git, SVNå‘½ä»¤</li><li>Linux å‘½ä»¤</li><li>mysql æ“ä½œ</li><li>Jenkinså·¥å…·</li><li>Sonarå·¥å…·</li><li>Shellè¯­æ³•</li><li>Sonar-runnerå·¥å…·</li></ul><h4 id="è½¯ä»¶åŠç¡¬ä»¶çš„è¦æ±‚"><a href="#è½¯ä»¶åŠç¡¬ä»¶çš„è¦æ±‚" class="headerlink" title="è½¯ä»¶åŠç¡¬ä»¶çš„è¦æ±‚"></a>è½¯ä»¶åŠç¡¬ä»¶çš„è¦æ±‚</h4><p>SonarQube çš„å®‰è£…é€šå¸¸éœ€è¦æ»¡è¶³ä¸€å®šçš„è½¯ç¡¬ä»¶æ¡ä»¶ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><ol><li><p>Server è¦æ±‚</p><p> Web server æœ€å°‘éœ€è¦ 500MB çš„å†…å­˜ç©ºé—´ï¼Œæ¨èå†…å­˜ç©ºé—´å¤§å° 2GBã€‚Sonar åœ¨è¿›è¡Œä»£ç è´¨é‡åˆ†ææ—¶ï¼Œé€šå¸¸å¤§çº¦æ¯ 1 KLOC éœ€è¦å­˜å‚¨ 350KB å·¦å³çš„æ•°æ®ï¼Œæ‰€ä»¥è¦å°½é‡ä¸º SonarQube çš„ web server æä¾›å¤§çš„å†…å­˜ã€‚</p></li><li><p>Database è¦æ±‚</p><p> å°½ç®¡ SonarQube æœ¬èº«è‡ªå¸¦åµŒå…¥çš„ Derby æ•°æ®åº“ï¼Œä½†æ˜¯ç”±äº Derby æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¼ºçƒˆæ¨èå®‰è£…ç›¸åº”çš„ä¼ä¸šç‰ˆæ•°æ®åº“ï¼ŒSonarQube æ”¯æŒçš„æ•°æ®åº“åŒ…æ‹¬ï¼š MySQL 5.x+ã€Oracle10g+ã€PostgreSQL 9.x å’Œ MS SQLServer 2005 and 2008ï¼Œæ¨èä½¿ç”¨ MySQLã€‚</p></li><li><p>Browser è¦æ±‚</p><p> SonarQube æ”¯æŒå¤§å¤šæ•°çš„æµè§ˆå™¨ï¼ŒåŒ…æ‹¬ Firefoxã€Internet Explorer 7.x and 8.x and chromed ç­‰ï¼Œæ¨èä½¿ç”¨ chromedã€‚</p><p> <del>ç›®å‰å®˜æ–¹æœ€æ–°çš„ç‰ˆæœ¬æ˜¯6.2ï¼Œä½†æ˜¯å¯¹äºéƒ¨åˆ†æ’ä»¶ä¼šå­˜åœ¨ä¸å…¼å®¹çš„é—®é¢˜ï¼Œå¯¼è‡´Sonar æœåŠ¡å¯åŠ¨å¤±è´¥ï¼Œæ‰€ä»¥ä¸ºäº†ä½¿ç”¨å’Œæ¼”ç¤ºï¼Œæˆ‘é‡‡ç”¨äº†æ—§ç‰ˆæœ¬4.5.7ï¼Œå› ä¸ºæ­¤ç‰ˆæœ¬å…¼å®¹ sonar-objective-c-plugin-0.3.1 æ’ä»¶ã€‚</del></p><p> <strong>æ›´æ–°ï¼š</strong></p><p> å…³äºXCode8çš„å…¼å®¹æ–¹æ¡ˆ, è¯·çœ‹<a href="https://my.oschina.net/ChenTF/blog/806565" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a></p></li></ol><h4 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h4><ol><li><p>æ•°æ®åº“é…ç½®</p><p> è¿›å…¥æ•°æ®åº“å‘½ä»¤æ¨¡å¼æˆ–è€…ç›´æ¥ä½¿ç”¨GUI å·¥å…·ï¼Œåˆ›å»ºSonar-Qube æœåŠ¡æ‰€éœ€çš„æ•°æ®åº“</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">mysql&gt; CREATE DATABASE sonar CHARACTER SET utf8 COLLATE utf8_general_ci; </span><br><span class="line">mysql&gt; CREATE USER &apos;sonar&apos; IDENTIFIED BY &apos;sonar&apos;;</span><br><span class="line">mysql&gt; GRANT ALL ON sonar.* TO &apos;sonar&apos;@&apos;%&apos; IDENTIFIED BY &apos;sonar&apos;;</span><br><span class="line">mysql&gt; GRANT ALL ON sonar.* TO &apos;sonar&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;sonar&apos;;</span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><p> <img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/init-sql.png" alt="åˆ›å»ºæ•°æ®åº“"></p><p> å®Œæˆä»¥åæµ‹è¯•ä¸€ä¸‹è¿æ¥æ˜¯å¦æ­£ç¡®</p></li><li><p>å®‰è£…SonarQube ä¸SonarQube-Runner</p><p> SonarQube Runner 2.4 <a href="https://docs.sonarqube.org/display/SONARQUBE45/Installing+and+Configuring+SonarQube+Runner" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></p><p> ä»å®˜ç½‘ä¸‹è½½ SonarQube çš„æœ€æ–°ç‰ˆæœ¬å¹¶è§£å‹åˆ°<code>/usr/local/</code>æ–‡ä»¶å¤¹    </p><p> <img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/sonar-install-2.png" alt="SonarQube"></p><p> æ·»åŠ SONAR_HOMEã€SONAR_RUNNER_HOME ç¯å¢ƒå˜é‡ï¼Œå¹¶å°†SONAR_RUNNER_HOME åŠ å…¥PATH</p></li><li><p>ä¿®æ”¹Sonar-Qube é…ç½®æ–‡ä»¶</p><p> é…ç½®æ–‡ä»¶è·¯å¾„åœ¨ <code>./conf/sonar.properties</code></p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># è®¾ç½®æ•°æ®åº“çš„è´¦æˆ·å¯†ç </span><br><span class="line">sonar.jdbc.username=ua</span><br><span class="line">sonar.jdbc.password=pwd</span><br><span class="line"></span><br><span class="line">sonar.jdbc.url=jdbc:mysql://localhost:3306/sonar?useUnicode=true&amp;characterEncoding=utf8&amp;rewriteBatchedStatements=true&amp;useConfigs=maxPerformance</span><br><span class="line"></span><br><span class="line"># By default, ports will be used on all IP addresses associated with the server.</span><br><span class="line">sonar.web.host=0.0.0.0</span><br><span class="line"></span><br><span class="line"># The default value is root context (empty value).</span><br><span class="line">sonar.web.context=/</span><br><span class="line"># TCP port for incoming HTTP connections. Default value is 9000.</span><br><span class="line">sonar.web.port=9003</span><br></pre></td></tr></table></figure></li><li><p>è¿è¡Œå¦‚ä¸‹å‘½ä»¤å¯åŠ¨ Sonar-Qubeï¼Œæ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹©</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Last login: Wed Feb 15 18:15:05 on ttys000</span><br><span class="line">localhost:~ tianyi$ /usr/local/sonarqube-6.2/bin/macosx-universal-64/sonar.sh start</span><br><span class="line"></span><br><span class="line">localhost:~ tianyi$ /usr/local/sonarqube-6.2/bin/macosx-universal-64/sonar.sh start</span><br><span class="line">Starting SonarQube...</span><br><span class="line">Started SonarQube.</span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»ºä¸€ä¸ªç®€å•çš„å·¥ç¨‹</p><p> é»˜è®¤å¯†ç æ˜¯adminï¼šadminï¼Œç™»é™†ç®¡ç†å‘˜è´¦å·ä»¥åï¼Œé…ç½®ç³»ç»Ÿå‚æ•°</p><p> åˆ›å»ºä¸€ä¸ªDemo å·¥ç¨‹</p><p> <img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/make-new1.png" alt="åˆ›å»ºä¸€ä¸ªå·¥ç¨‹"></p><p> Demo å·¥ç¨‹ç®€ä»‹</p><p> <img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/make-demo.png" alt="Demo å·¥ç¨‹ç®€ä»‹"></p><p> å› ä¸ºè¿˜æ²¡æœ‰è¿›è¡Œè¿‡åˆ†æï¼Œæ‰€ä»¥Demo æš‚æ—¶åªèƒ½é…ç½®ï¼Œåœ¨ä½¿ç”¨ç¯‡æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»å¦‚æœé€šè¿‡æŒ‡ä»¤æˆ–è‡ªåŠ¨åŒ–æ‰§è¡Œåˆ†æå®¡æŸ¥ã€‚</p></li><li><p>å®‰è£…ä¸€äº›å¿…å¤‡æ’ä»¶ï¼Œéƒ½å¯ä»¥ä»å®˜ç½‘æˆ–è€…github ä¸Šæœç´¢åˆ°</p><p> Sonaræ”¯æŒå¤šç§æ’ä»¶ï¼Œæ’ä»¶çš„ä¸‹è½½åœ°å€ä¸ºï¼š<a href="http://docs.codehaus.org/display/SONAR/Plugin+Library" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/Plugin+Library</a></p><p> å°†ä¸‹è½½åçš„æ’ä»¶ä¸Šä¼ åˆ°${SONAR_HOME}extensions\pluginsç›®å½•ä¸‹ï¼Œé‡æ–°å¯åŠ¨sonarã€‚</p></li></ol><h4 id="å¸¸ç”¨æ’ä»¶"><a href="#å¸¸ç”¨æ’ä»¶" class="headerlink" title="å¸¸ç”¨æ’ä»¶"></a>å¸¸ç”¨æ’ä»¶</h4><p>ï¼ˆæ³¨æ„ç‰ˆæœ¬å·å…¼å®¹æ€§é—®é¢˜ï¼‰</p><ul><li>SonarQube æ±‰åŒ–åŒ…ï¼š<a href="https://github.com/SonarQubeCommunity/sonar-l10n-zh" target="_blank" rel="noopener">https://github.com/SonarQubeCommunity/sonar-l10n-zh</a></li><li>Objective-C ä»£ç æ£€æŸ¥ï¼š<a href="https://github.com/octo-technology/sonar-objective-c" target="_blank" rel="noopener">https://github.com/octo-technology/sonar-objective-c</a></li><li>JavaScript ä»£ç æ£€æŸ¥ï¼š<a href="http://docs.codehaus.org/display/SONAR/JavaScript+Plugin" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/JavaScript+Plugin</a></li><li>python ä»£ç æ£€æŸ¥ï¼š<a href="http://docs.codehaus.org/display/SONAR/Python+Plugin" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/Python+Plugin</a></li><li>Webé¡µé¢æ£€æŸ¥ï¼ˆHTMLã€JSPã€JSFã€Rubyã€PHPç­‰ï¼‰ï¼š<a href="http://docs.codehaus.org/display/SONAR/Web+Plugin" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/Web+Plugin</a></li><li>xmlæ–‡ä»¶æ£€æŸ¥ï¼š<a href="http://docs.codehaus.org/display/SONAR/XML+Plugin" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/XML+Plugin</a></li><li>scmæºç åº“ç»Ÿè®¡åˆ†æï¼š<a href="http://docs.codehaus.org/display/SONAR/SCM+Stats+Plugin" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/SCM+Stats+Plugin</a></li><li>æ–‡ä»¶åº¦é‡ï¼š<a href="http://docs.codehaus.org/display/SONAR/Tab+Metrics+Plugin" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/Tab+Metrics+Plugin</a></li><li>ä¸­æ–‡è¯­è¨€åŒ…ï¼š<a href="http://docs.codehaus.org/display/SONAR/Chinese+Pack" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/Chinese+Pack</a></li><li>æ—¶é—´è¡¨æ˜¾ç¤ºåº¦é‡ç»“æœï¼š<a href="http://docs.codehaus.org/display/SONAR/Timeline+Plugin" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/Timeline+Plugin</a></li><li>åº¦é‡ç»“æœæ¼”è¿›å›¾ï¼š<a href="http://docs.codehaus.org/display/SONAR/Motion+Chart+Plugin" target="_blank" rel="noopener">http://docs.codehaus.org/display/SONAR/Motion+Chart+Plugin</a></li></ul><h4 id="æˆ‘çš„èµ„æº"><a href="#æˆ‘çš„èµ„æº" class="headerlink" title="æˆ‘çš„èµ„æº"></a>æˆ‘çš„èµ„æº</h4><p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/commonly-used1.png" alt=""></p><h2 id="ä½¿ç”¨ç¯‡"><a href="#ä½¿ç”¨ç¯‡" class="headerlink" title="ä½¿ç”¨ç¯‡"></a>ä½¿ç”¨ç¯‡</h2><h3 id="ä½¿ç”¨SonarQube-Runneråˆ†ææºç "><a href="#ä½¿ç”¨SonarQube-Runneråˆ†ææºç " class="headerlink" title="ä½¿ç”¨SonarQube Runneråˆ†ææºç "></a>ä½¿ç”¨SonarQube Runneråˆ†ææºç </h3><h4 id="é¢„ç½®æ¡ä»¶"><a href="#é¢„ç½®æ¡ä»¶" class="headerlink" title="é¢„ç½®æ¡ä»¶"></a>é¢„ç½®æ¡ä»¶</h4><p>å·²å®‰è£…SonarQube Runnerä¸”ç¯å¢ƒå˜é‡å·²é…ç½®ï¼Œå³sonar-runnerå‘½ä»¤å¯åœ¨ä»»æ„ç›®å½•ä¸‹æ‰§è¡Œ</p><p>å¦‚ä½•é…ç½®ç¯å¢ƒå˜é‡ï¼Œå‚è€ƒ<a href="http://www.cnblogs.com/caowei/p/mac-path_2013-08-26.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a></p><h4 id="å¦‚ä½•åˆ†æ"><a href="#å¦‚ä½•åˆ†æ" class="headerlink" title="å¦‚ä½•åˆ†æ"></a>å¦‚ä½•åˆ†æ</h4><p><strong>1. åœ¨é¡¹ç›®æºç çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºsonar-project.propertiesé…ç½®æ–‡ä»¶</strong></p><p>ä»¥iOS é¡¹ç›®ä¸ºä¾‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># Required metadata</span><br><span class="line">sonar.projectKey=iOS::Demo</span><br><span class="line">sonar.projectName=iOS::Demo</span><br><span class="line">sonar.projectVersion=1.0</span><br><span class="line"></span><br><span class="line"># Comma-separated paths to directories with sources (required)</span><br><span class="line">sonar.sources=Demo</span><br><span class="line"></span><br><span class="line"># Language</span><br><span class="line">sonar.language=objectivec</span><br><span class="line"></span><br><span class="line"># Encoding of the source files</span><br><span class="line">sonar.sourceEncoding=UTF-8</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šsonar.language å’Œå®‰è£…çš„ä»£ç å®¡æŸ¥æ’ä»¶æœ‰å…³ï¼Œéœ€è¦å®‰è£… sonar-objective-c æ’ä»¶ï¼Œå¦åˆ™è¿è¡Œæ—¶ä¼šæç¤ºæ— æ³•æ‰¾åˆ°è¿™ä¸ªè¯­è¨€</strong></p><p><strong>2. æ‰§è¡Œåˆ†æ</strong></p><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œåˆ†ææŒ‡ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/sonar-runner-2.4/bin/sonar-runner</span><br></pre></td></tr></table></figure><p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/sonar-ext.png" alt="æ‰§è¡Œåˆ†ææŒ‡ä»¤"></p><p>æŸ¥çœ‹Sonar åˆ†æçš„ç»“æœ</p><p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/sonar-ext-result.png" alt="åˆ†æç»“æœ"></p><p>ä»¥ä¸Šæ˜¯åˆ›å»ºDemo å·¥ç¨‹åï¼Œé€šè¿‡æ‰‹åŠ¨æ‰§è¡Œåˆ†ææŒ‡ä»¤å®Œæˆä»£ç å®¡æŸ¥åˆ†æã€‚</p><h3 id="ä¸Jenkins-æŒç»­é›†æˆ"><a href="#ä¸Jenkins-æŒç»­é›†æˆ" class="headerlink" title="ä¸Jenkins æŒç»­é›†æˆ"></a>ä¸Jenkins æŒç»­é›†æˆ</h3><h4 id="æ„å»ºå‰æ“ä½œ"><a href="#æ„å»ºå‰æ“ä½œ" class="headerlink" title="æ„å»ºå‰æ“ä½œ"></a>æ„å»ºå‰æ“ä½œ</h4><p>åœ¨jenkinsçš„æ’ä»¶ç®¡ç†ä¸­é€‰æ‹©å®‰è£…SonarQube-Scannerï¼Œè¯¥æ’ä»¶å¯ä»¥ä½¿é¡¹ç›®æ¯æ¬¡æ„å»ºéƒ½è°ƒç”¨sonarè¿›è¡Œä»£ç åº¦é‡ã€‚</p><p>è¿›å…¥é…ç½®é¡µé¢å¯¹sonaræ’ä»¶è¿›è¡Œé…ç½®ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/jenkins-goujian.png" alt="æ–°å¢æ„å»ºå‰æ“ä½œ"></p><p>ä»¥ä¸Šé…ç½®å¯ä»¥ä½¿é¡¹ç›®åœ¨æ„å»ºå‰ï¼Œè‡ªåŠ¨æ‰§è¡Œä»£ç å®¡æŸ¥å’Œåˆ†æï¼Œç»“æœä¼šè‡ªåŠ¨ä¿å­˜å¹¶ä¸Šä¼ åˆ°æ•°æ®åº“ï¼Œé€šè¿‡Sonar æœåŠ¡å™¨å±•ç¤ºç»™å¼€å‘è€…ã€‚</p><h4 id="è®¾ç½®è§¦å‘å™¨"><a href="#è®¾ç½®è§¦å‘å™¨" class="headerlink" title="è®¾ç½®è§¦å‘å™¨"></a>è®¾ç½®è§¦å‘å™¨</h4><p>æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ä»“åº“ï¼Œè‹¥æœ‰ä¸Šåº“ï¼Œåˆ™è‡ªåŠ¨æ‰§è¡Œä»£ç æ£€æµ‹</p><p><img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/jenkins-chufa.png" alt="è®¾ç½®è§¦å‘å™¨"></p><p>è‡³æ­¤ï¼Œé€šè¿‡Sonar åˆæ­¥æ„å»ºä»£ç æŒç»­å®¡æŸ¥çš„å·¥ä½œå®Œæˆã€‚</p><h2 id="é—®é¢˜ç¯‡"><a href="#é—®é¢˜ç¯‡" class="headerlink" title="é—®é¢˜ç¯‡"></a>é—®é¢˜ç¯‡</h2><h3 id="å®‰è£…ä¸­çš„é—®é¢˜"><a href="#å®‰è£…ä¸­çš„é—®é¢˜" class="headerlink" title="å®‰è£…ä¸­çš„é—®é¢˜"></a>å®‰è£…ä¸­çš„é—®é¢˜</h3><ol><li><p>èµ„æºæ‰¾å¯»çš„é—®é¢˜</p><p> æ–‡ä¸­æåˆ°çš„èµ„æºæ–‡ä»¶ï¼Œç½‘ä¸Šè°·æ­Œç™¾åº¦éƒ½ç”¨ä¸Šï¼Œä¹Ÿæ‰¾äº†å¾ˆä¹…ï¼ŒåŒ…æ‹¬ä¸€äº›æ’ä»¶çš„é—®é¢˜ï¼Œå¿…é¡»å®‰è£…çš„å°±æ˜¯ Sonar-Qubeï¼ŒRunner å…¶å®ä¸å¿…è¦å®‰è£…ï¼Œå› ä¸ºJenkins é‡Œæœ‰æ’ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p></li><li><p>ç¯å¢ƒé…ç½®é—®é¢˜</p><p> å¦‚æœä¸å¸¸ç”¨æŒ‡ä»¤çš„è¯ï¼Œå¯ä»¥ä¸é…ç½®ï¼Œç›´æ¥é€šè¿‡ç»å¯¹è·¯å¾„åšæ“ä½œï¼Œç¯å¢ƒé…ç½®çš„æ–¹æ³•å‚è€ƒ<a href="http://www.cnblogs.com/caowei/p/mac-path_2013-08-26.html" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a></p></li><li><p>åˆå§‹åŒ–æ—¶é‡åˆ°Sorry çš„é—®é¢˜</p><p> é‡åˆ°è¿™ç§é—®é¢˜å¯ä»¥å»æ ¹ç›®å½• /log/xx.log ä¸­æŸ¥çœ‹æ—¥å¿—ï¼Œå…·ä½“é—®é¢˜å…·ä½“è§£å†³</p><p> <img src="http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/qa-3.png" alt="sorry"></p></li><li><p>æ±‰åŒ–åŒ…çš„é—®é¢˜</p><p> å¦‚æœä½ ä¸ä¹ æƒ¯è‹±æ–‡çš„ä½¿ç”¨ï¼Œæƒ³åšä¸€åšæ±‰åŒ–çš„äº‹æƒ…æ—¶ï¼Œæ±‰åŒ–åŒ…ä¸€å®šè¦å¯¹ï¼Œå¦‚æœæœ‰é—®é¢˜ä¼šå¯¼è‡´æœåŠ¡å¯åŠ¨å¤±è´¥ã€‚</p><p> é™„ä¸Šï¼š<a href="https://github.com/SonarQubeCommunity/sonar-l10n-zh" target="_blank" rel="noopener">æ±‰åŒ–åŒ…ä¸‹è½½åœ°å€</a></p></li></ol><h3 id="SonarQube-å®é™…ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><a href="#SonarQube-å®é™…ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="SonarQube å®é™…ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"></a>SonarQube å®é™…ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h3><p>åœ¨ä½¿ç”¨ SonarQube6.2 åˆ†æä»£ç è´¨é‡æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼š</p><ol><li><p>Xcode 8 å…¼å®¹æ€§é—®é¢˜</p><p> åŸæœ‰çš„xctoolå·²ä¸æ”¯æŒXCode8, æ”¹ç”¨xcodebuild + xcpretty æ¥æ›¿ä»£xctoolç¯èŠ‚ç”Ÿæˆå¯¹åº”çš„äº§å‡ºç‰©ã€‚</p><p> å…³äºXCode8çš„å…¼å®¹æ–¹æ¡ˆ, è¯·çœ‹<a href="https://my.oschina.net/ChenTF/blog/806565" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a></p></li></ol><h2 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h2><p>ä»£ç è´¨é‡ç®¡ç†å¯¹æé«˜é¡¹ç›®è´¨é‡æ„ä¹‰é‡å¤§ã€‚æœ¬æ–‡ä»‹ç»äº† SonarQube çš„å·¥ä½œåŸç†ï¼Œå¹¶ä»é¡¹ç›®å®æˆ˜çš„è§’åº¦è®²è§£äº†ä½¿ç”¨ SonarQube è¿›è¡Œé¡¹ç›®ä»£ç è´¨é‡ç®¡ç†çš„æµç¨‹å’Œæ³¨æ„äº‹é¡¹ã€‚</p><p>ä»£ç è§„èŒƒè´µåœ¨åšæŒä¸æ‰§è¡ŒåŠ›ï¼Œè‡ªåŠ¨å®¡æŸ¥åªæ˜¯åšäº†æé†’çš„ä½œç”¨ï¼Œå½“ç„¶æ ¹æ®è¯­è¨€çš„è§„åˆ™ï¼Œå¾ˆå¤šè§„èŒƒåœ¨ä½¿ç”¨è€…æ¥è®²çœ‹ä¼¼ä¸åˆç†æˆ–è€…ä¸å¥½ç”¨ï¼Œæœ‰äº†è¿™ä¸ªå·¥å…·ï¼Œå‚ä¸è€…ä»¬å¯ä»¥åˆ‡èº«æ„Ÿå—åˆ°å›¢é˜Ÿçš„æˆé•¿ã€‚</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://my.oschina.net/ChenTF/blog/708646" target="_blank" rel="noopener">[å®è·µ]iOS Sonaré›†æˆæµç¨‹è¯¦è§£</a></p><p><a href="https://my.oschina.net/ChenTF/blog/806565" target="_blank" rel="noopener">[å®è·µ]Sonar Xcode8å…¼å®¹</a></p><p><a href="http://www.uml.org.cn/rjzl/201312132.asp" target="_blank" rel="noopener">SonarQubeä»£ç è´¨é‡ç®¡ç†å¹³å°å®‰è£…ä¸ä½¿ç”¨</a></p><p><a href="http://www.cnblogs.com/gao241/p/3190701.html" target="_blank" rel="noopener">é…ç½®sonarã€jenkinsè¿›è¡ŒæŒç»­å®¡æŸ¥</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://7xqhcq.com1.z0.glb.clouddn.com/continuous-code-quality-sonarqube-install/Benefits-of-Using-SonarQube-For-Code-Reviews.jpg&quot; alt=&quot;SonarQube&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä»‹ç»ç¯‡&quot;&gt;&lt;a href=&quot;#ä»‹ç»ç¯‡&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»ç¯‡&quot;&gt;&lt;/a&gt;ä»‹ç»ç¯‡&lt;/h2&gt;&lt;h3 id=&quot;SonarQube-ä»‹ç»&quot;&gt;&lt;a href=&quot;#SonarQube-ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;SonarQube ä»‹ç»&quot;&gt;&lt;/a&gt;SonarQube ä»‹ç»&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://www.sonarqube.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;SonarQube&lt;/a&gt; æ˜¯ä¸€æ¬¾é¢†å…ˆçš„æŒç»­ä»£ç è´¨é‡ç›‘æ§å¹³å°ï¼Œå¼€æºåœ¨github ä¸Šï¼Œç°åœ¨å·²æ›´æ–°åˆ°6.2 ç‰ˆæœ¬ï¼Œstar æ•°é‡è¶…è¿‡ 1400+ï¼Œå¯ä»¥è½»æ¾é…ç½®åœ¨å†…ç½‘æœåŠ¡å™¨ï¼Œå®æ—¶ç›‘æ§ä»£ç ï¼Œå¸®åŠ©äº†è§£æå‡æå‡å›¢é˜Ÿé¡¹ç›®ä»£ç è´¨é‡ã€‚é€šè¿‡æ’ä»¶æœºåˆ¶ï¼ŒSonarQubeå¯ä»¥ç»§æ‰¿ä¸åŒçš„æµ‹è¯•å·¥å…·ï¼Œä»£ç åˆ†æå·¥å…·ï¼Œä»¥åŠæŒç»­é›†æˆå·¥å…·ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="continue" scheme="https://blog.yuhanle.com/categories/continue/"/>
    
    
      <category term="iOS" scheme="https://blog.yuhanle.com/tags/iOS/"/>
    
      <category term="Sonar" scheme="https://blog.yuhanle.com/tags/Sonar/"/>
    
      <category term="Quality" scheme="https://blog.yuhanle.com/tags/Quality/"/>
    
  </entry>
  
  <entry>
    <title>è§å­—å¦‚é¢çš„è¿‡å»ä¸€å¹´</title>
    <link href="https://blog.yuhanle.com/2017/01/22/see-words-as-face/"/>
    <id>https://blog.yuhanle.com/2017/01/22/see-words-as-face/</id>
    <published>2017-01-22T04:29:59.000Z</published>
    <updated>2018-07-05T01:20:36.472Z</updated>
    
    <content type="html"><![CDATA[<p>è§å­—å¦‚é¢ï¼Œç”šæ˜¯æƒ³å¿µã€‚<br><a id="more"></a></p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/see-words-as-face/children-1807511_1920.jpg" alt=""><br></center><p>2016ï¼Œæ—¶é—´æ€»æ˜¯å¦‚æ­¤ï¼Œè¿‡çš„å¾ˆå¿«ã€‚å·¥ä½œåå¯¹äºæ—¶é—´çš„æ¦‚å¿µåªæœ‰åœ¨ç™½å¤©äº†ï¼Œæ€»è§‰å¾—ä¸å¤Ÿç”¨ï¼Œä¸Šç­ä¸‹ç­ï¼Œåƒé¥­ç¡è§‰ï¼Œä¸€å¦‚æ—¢å¾€çš„é‡å¤é‡å¤ï¼Œå°±åƒèŠ±é’±ä¸€æ ·ï¼Œæ¯ä¸€ç¬”å¾®å°çš„å¼€æ”¯ï¼Œç´¯ç§¯èµ·æ¥éƒ½è®©äººä¸æ•¢ç›¸ä¿¡ã€‚</p><p>è·Ÿä½ åœ¨ä¸€èµ·çš„è¿™ä¸€å¹´ï¼Œåº¸åº¸ç¢Œç¢Œï¼Œæœ¬è¯¥åœ¨å…ƒæ—¦å°±è·Ÿä½ å‘Šåˆ«ï¼Œæ²¡æƒ³åˆ°ä¸€æ‹–å°±æ˜¯ä¸€ä¸ªæœˆï¼Œä»æœªæƒ³è¿‡ä½ ä¼šèµ°çš„å¦‚æ­¤ä¹‹å¿«ï¼Œå¯èƒ½æ˜¯æˆ‘æ²¡å¤ªåœ¨æ„ï¼Œå› ä¸ºä½ å¸¦ç»™æˆ‘çš„è¿™æ˜¯ç–²æƒ«å’Œä¸å ªï¼Œç”šè‡³æ˜¯æˆ‘è‡³ä»Šéƒ½ä¸æ„¿æ¥å—çš„æœªæ›¾æ”¹å˜ã€‚</p><p>è¿™ä¸ª365å¤©ï¼Œæˆ‘å¾—åˆ°äº†è¿™äº›ï¼š</p><h2 id="è¿™ä¸€å¹´çš„ç”Ÿæ´»"><a href="#è¿™ä¸€å¹´çš„ç”Ÿæ´»" class="headerlink" title="è¿™ä¸€å¹´çš„ç”Ÿæ´»"></a>è¿™ä¸€å¹´çš„ç”Ÿæ´»</h2><p>åœ¨2015 å¹´11æœˆåº•ï¼Œå¥³æœ‹å‹æ¥åˆ°äº†è¿™ä¸ªæˆ‘ä»¬éƒ½å¾ˆé™Œç”Ÿçš„å¤§éƒ½å¸‚ï¼Œæ¥ç€åˆ°äº†2016 å¹´4æœˆï¼Œå¥¹å¼€å§‹äº†æ­£å¼çš„å·¥ä½œï¼Œå°ä¿©å£æŒ£å¾—ä¸å¤šï¼Œéƒ¨åˆ†æˆ¿ç§Ÿï¼Œéƒ¨åˆ†åƒå–ï¼Œä½™ä¸‹çš„å°±æ›´å°‘äº†ã€‚</p><p>4æœˆåº•ï¼Œæˆ‘ä»¬æ‘†è„±äº†ä¸åˆ°20å¹³ç±³çš„å•èº«å…¬å¯“ï¼Œæ‘†è„±äº†éš”ä¸‰å·®äº”åœç”µï¼Œè¿˜å¾—å»çŒå¤©ç„¶æ°”ï¼Œèµ°å¾ˆè¿œå»ä¹°èœçš„ç”Ÿæ´»ï¼Œæ¬åˆ°äº†æŸå°åŒº50+ å¹³ç±³çš„ä¸€å®¤ä¸€å…ã€‚æ²¡é”™ï¼Œæˆ¿ç§Ÿå¾ˆè´µï¼Œè¶³è¶³ç¿»äº†ä¸€å€å¤šï¼Œè·ç¦»æˆ‘ä»¬ä¸Šç­çš„åœ°æ–¹ä¹Ÿå¾ˆè¿œï¼Œä½†è¿™äº›éƒ½ä¸é‡è¦ï¼Œæˆ‘ä»¬éƒ½å¾ˆå¼€å¿ƒï¼Œé™„è¿‘æœ‰äº›æœ‹å‹ï¼Œå‘¨æœ«å¯ä»¥èšèšï¼Œæ¥¼ä¸‹å°±æœ‰èœå¸‚åœºï¼Œæœ€æ€»è¦çš„æ˜¯ä¸»å§æœå—ï¼Œå†ä¹Ÿä¸ç”¨å®…åœ¨å†·å†°å†°çš„å°æˆ¿é—´é‡Œç©æ‰‹æœºäº†ã€‚</p><p>ç´§æ¥ç€ï¼Œ5æœˆä»½æœ€é‡è¦çš„æ˜¯å¤§å­¦èˆå‹ä»æ–°ç–†è¿‡æ¥ç©ï¼Œé‚£ä¸€å¤©ï¼Œæˆ‘ä»¬å»äº†ä¸ƒå®ï¼Œç”°å­åŠï¼Œåœ¨æ¸¯æ±‡å¹¿åœºåƒè¿‡é¥­ï¼Œå¤œæ™šè¿˜å»äº†å¤–æ»©çœ‹å¤œæ™¯ï¼Œå›æƒ³èµ·æ¥ï¼Œè¿™æ˜¯æ¥è¿™ä¸ªåŸå¸‚ä»¥åæœ€å¥½ç©çš„ä¸€å¤©ã€‚æ—¶é—´æ¯”è¾ƒæ•¢ï¼Œå¤§å®¶ä¸€è·¯ä¸Šå‡ ä¹éƒ½æ˜¯è·‘èµ·æ¥çš„ï¼Œä¸ºäº†å¤–æ»©çš„å¤œæ™¯ï¼Œä¹Ÿå€¼ã€‚</p><p>æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆï¼Œå¤©æ°”å¾ˆçƒ­ï¼Œé™¤äº†å‘¨æœ«çˆ¬çˆ¬å±±ï¼Œä¹Ÿå°±åœ¨å®¶å¾…ç€å•ƒè¥¿ç“œã€‚</p><p>ä¸­ç§‹èŠ‚å‡æœŸï¼Œæˆ‘å’Œå¥³å‹çº¦å¥½å»äº†è¶Ÿå—äº¬ï¼Œå¤éƒ½å—äº¬æ˜¯ä¸ªå¾ˆé€‚åˆæ¸¸ç©çš„åœ°æ–¹ï¼Œä¸ä»…æœ‰å¾ˆå¤šè‘—åæ™¯ç‚¹ï¼Œè¿˜æœ‰å¾ˆå¤šå„è‰²å°åƒï¼Œä¸¤å¤©ä¸€å¤œçš„æ—¶é—´ï¼Œåˆšåˆšå¥½ï¼Œåªæ˜¯ç´¯äº†äº›ï¼Œå‰åŒäº‹ä½œä¸ºåœ°é“çš„å—äº¬äººï¼Œå¸¦æˆ‘ä»¬åƒäº†ä¸€éå¤§æ’æ¡£é‡Œçš„æ‹›ç‰Œèœï¼ŒçœŸæ˜¯æµè¿å¿˜è¿”ï¼Œå› ä¸ºå›å»å°±å¾—é©¬ä¸Šä¸Šç­ã€‚</p><p>åˆ°äº†10 æœˆï¼Œå›½åº†èŠ‚çš„å‡æœŸå¾ˆé•¿ï¼Œæå‰å›äº†è¶Ÿå®¶ï¼Œåˆšå¥½å®¶é‡Œçš„æˆ¿å­è£…ä¿®å¥½ï¼Œå‡†å¤‡æ¬å®¶å‘¢ã€‚å‰å‰ååå¿™æ´»äº†ä¸‰å››å¤©ï¼Œæ¥ç€å°±ä¸€å®¶äººå¸¦ç€å½©ç¤¼ï¼Œå»å’Œå¥³å‹çš„å®¶äººè§é¢äº†ã€‚è¯´èµ·æ¥ä¹Ÿè®¤è¯†è¿‘7 å¹´ï¼Œé˜»åŠ›è¿˜å¥½ï¼Œæ—¥ä¹…è§äººå¿ƒå˜›ï¼ç°åœ¨çš„çˆ¶æ¯éƒ½å¾ˆå¼€æ˜ï¼Œæˆ‘ä»¬ä¹‹é—´è¿˜æ˜¯æ¯”è¾ƒé¡ºåˆ©çš„ï¼Œè‡³å°‘å½¼æ­¤è¿˜ç®—æ»¡æ„ï¼Œä¸ä¼šè®©å®¶é‡Œçæ“å¿ƒã€‚</p><p>å›½åº†èŠ‚ç»“æŸåï¼Œåœ¨éƒ‘å·è§äº†å‡ ä¸ªæœ‹å‹ï¼Œä¸´èµ°å‰ä¸€ç›´åœ¨é”…å¤§ä¾ äºŒä¸ƒåº—åƒäº†é¡¿ç«é”…ï¼Œä¹‹æ‰€ä»¥é€‰åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œæ˜¯å› ä¸ºé©¬ä¸Šå°±è¦åä¸Šç«è½¦æ‹œæ‹œäº†ã€‚è¿™é¡¿é¥­åƒèµ·æ¥ï¼Œå¤§å®¶å®Œå…¨æ²¡æœ‰å¥½ä¹…ä¸è§çš„æ ·å­ï¼Œéƒ½åœ¨èŠç€å·¥ä½œï¼ŒèŠç€æˆ¿ä»·ï¼Œè¿™ä¸€å¹´ï¼Œæˆ¿ä»·æ²¡æœ‰éª—äººï¼Œä¸€ç›´åœ¨æ¶¨ã€‚å›åˆ°ä¸Šæµ·ä»¥åï¼Œæˆ‘å°±å¼€å§‹ç€æ€¥äº†ï¼ŒæŒ‰ç…§æˆ‘ä»¬çš„å®¶åº­æ¡ä»¶æ¥è®²ï¼Œé¦–ä»˜çš„é—®é¢˜å¾ˆå¤§ï¼Œä¹Ÿæ˜¯æœ€ä¸»è¦çš„é—®é¢˜ã€‚åæ¥æˆ‘ä»¬è¿˜æ˜¯å†³å®šï¼Œåœ¨æˆ¿ä»·è¶‹äºç¨³å®šçš„11 æœˆä»½ï¼Œå¤šæ¬¡å¾€è¿”ä¸¤ä¸ªåŸå¸‚ï¼Œå°†æ­¤äº‹å®šäº†ä¸‹æ¥ã€‚å½“ç„¶è¿˜æœ‰ä¸€ä»¶å¥½äº‹ï¼Œæˆ‘ä»¬é¢†äº†ç»“å©šè¯ï¼Œè¿™ä¸ªæ„ä¹‰å¾ˆå¤§ã€‚</p><p>å¾ˆå¿«ï¼Œè¿™ä¸€å¹´å°±ç»“æŸäº†ï¼Œ17 å¹´å…ƒæ—¦ï¼Œå¸¦ç€å¥³æœ‹å‹å»äº†è¶Ÿå·´é»æ˜¥å¤©ï¼Œä¹°äº†å¥¹å‘å¾€å·²ä¹…çš„é’»æˆ’ï¼Œå¯¹æ­¤æ¯«æ— æ¦‚å¿µï¼Œ30+ åˆ†ï¼Œè™½ç„¶æ²¡æœ‰é¹…åµçŸ³é‚£ä¹ˆå¤§ï¼Œä½†æ˜¯ä½è°ƒä¸€äº›ï¼Œæˆ‘ä»¬éƒ½è¿˜æ˜¯å¾ˆé«˜å…´çš„ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œä¹Ÿè®¢å¥½äº†17 å¹´3 æœˆä»½å»ä¸‰äºšæ—…è¡Œçš„äº‹æƒ…ï¼Œé¡ºä¾¿æ‹æ‹ç»“å©šç…§ï¼Œå‡†å¤‡å¥½äº†ï¼Œå°±è¯¥æ­¥å…¥å©šå§»çš„æ®¿å ‚äº†ã€‚</p><h2 id="è¿™ä¸€å¹´çš„å·¥ä½œ"><a href="#è¿™ä¸€å¹´çš„å·¥ä½œ" class="headerlink" title="è¿™ä¸€å¹´çš„å·¥ä½œ"></a>è¿™ä¸€å¹´çš„å·¥ä½œ</h2><p>åŸæœ¬ä¸€ä¸ªäººçš„é¡¹ç›®ï¼Œ15 å¹´åº•æ–°å¢äº†ä¸ªå°ä¼™ä¼´ï¼Œ91 å¹´çš„ç ”ç©¶åƒ§ï¼Œå¤§å®¶ç›¸äº’å­¦ä¹ ï¼Œå·¥ä½œèµ·æ¥é…åˆä¹Ÿå¾ˆé»˜å¥‘ï¼Œå¾ˆæ»¡æ„ã€‚</p><p>åŸæœ‰çš„1.0 ç‰ˆæœ¬æ–°å¢åŠŸèƒ½ï¼Œç»´æŠ¤äº†ä¸€æ•´å¹´ã€‚è“ç‰™çš„é¡¹ç›®åœ¨15 å¹´åº•å°±æç½®äº†ï¼Œä¸‰å››æœˆä»½çš„æ—¶å€™ï¼Œé¢†å¯¼è¯´ï¼Œå¯èƒ½è¦ç»§ç»­å¯åŠ¨è“ç‰™çš„é¡¹ç›®ï¼Œäºæ˜¯æˆ‘ä»¬æœ‰åŠ äº†ä¸€ä¸ªå°ä¼™ä¼´ï¼Œäºæ˜¯3 ä¸ªç”·äººçš„å°å›¢é˜Ÿå°±å¼€å¯äº†ã€‚</p><p>æ¥ç€å°±æ˜¯ä¸€ä¸ªæœˆçš„è“ç‰™é¡¹ç›®ï¼Œ1.0 ç‰ˆæœ¬çš„æ›´æ–°è¿­ä»£ï¼Œå†…éƒ¨é”€å”®ç³»ç»Ÿçš„æ›´æ–°è¿­ä»£ï¼Œæ²¡æœ‰æ·±å…¥çš„å­¦ä¹ æœºä¼šï¼Œä½†æ˜¯äº‹æƒ…å¤šè€Œæ‚ï¼Œæœ‰åšä¸å®Œçš„ä¸œè¥¿ã€‚</p><p>å¾ˆå¿«åˆ°äº†6 æœˆä»½ï¼Œ1.0 çš„æ›´æ–°å˜æ…¢äº†ï¼Œæ›´å¤šçš„æ—¶é—´ï¼Œæˆ‘ä»¬å¼€å§‹äº†2.0 çš„è½¯ä»¶ç ”å‘ï¼Œç›¸æ¯”è¾ƒè€Œè¨€ï¼Œ2.0 çš„è½¯ä»¶æ›´é€‚åˆç”¨æˆ·ï¼Œä½“éªŒæå‡äº†ä¸å°‘ï¼Œä½†ä¹Ÿå¢å¤§äº†ç ”å‘çš„éš¾åº¦ï¼Œå¯¹æŠ€æœ¯çš„è¦æ±‚ä¹Ÿé«˜äº†å¾ˆå¤šã€‚ä½†æ˜¯åŸæœ¬è®¡åˆ’å…«ä¹æœˆä»½å‘å¸ƒï¼Œæ²¡æƒ³åˆ°åˆ°äº†ä»Šå¤©è¿˜åªæ˜¯åœ¨å…¬æµ‹é˜¶æ®µï¼Œä¸­é—´é‡åˆ°çš„é‚£äº›å‘ï¼Œè¿˜æœ‰éœ€æ±‚çš„å˜æ›´ï¼Œç®€ç›´è®©äººç”Ÿä¸å¦‚æ­»ã€‚</p><p>æ¥ç€8 æœˆä»½ï¼Œä¸€ä½åŒäº‹å› ä¸ºä¸ªäººåŸå› ç¦»èŒäº†ï¼Œå…±äº‹äº†ä¸€å¹´ï¼ŒçœŸçš„æ˜¯æŒºèˆä¸å¾—ï¼Œå…¬å¸å°±åƒå¸‚é›†ï¼Œæ¥æ¥å¾€å¾€å¾ˆå¤šäººï¼Œè°ä¹Ÿä¸çŸ¥é“å›å»ä¹°è°å®¶çš„ä¸œè¥¿ã€‚é¡¹ç›®ä»ç„¶å¦‚æ­¤ï¼ŒåŒäº‹ç¦»èŒä»¥åï¼Œ2.0 ç‰ˆæœ¬åˆè¿æ¥äº†å¤§æ”¹ç‰ˆï¼Œä¸çŸ¥é“æ˜¯è¯¥é«˜å…´è¿˜æ˜¯æ€ä¹ˆåœ°ï¼Œæ€»ä¹‹ï¼Œç»§ç»­æ”¹ï¼Œç»§ç»­åŒæ—¶ç»´æŠ¤å‡ ä¸ªç‰ˆæœ¬ï¼Œçœ‹èµ·æ¥æ€»æ˜¯é‚£ä¹ˆé¥é¥æ— æœŸã€‚</p><p>åˆ°äº†11æœˆä»½ï¼Œé¡¹ç›®åˆå¤šäº†ä¸¤ä¸ªï¼Œä¸å¾—ä¸å†æ‰¾ä¸€ä¸ªå°ä¼™ä¼´ï¼Œè¿˜å¥½è¿™ä¸ªè¡Œä¸šï¼Œèµ„æºå¾ˆå¤šï¼Œåªæ˜¯é¢è¯•èµ·æ¥ï¼Œæ‰¾åˆ°åˆé€‚çš„ä¹ŸæŒºéš¾ï¼Œæœ€åè¦äº†ä¸€ä¸ªå†…æ¨çš„å°å§‘å¨˜ï¼Œæ€»ç®—æ˜¯è°ƒå’Œäº†ä¸€ä¸‹æˆ‘ä»¬éƒ¨é—¨çš„ç”·å¥³æ¯”ä¾‹ï¼Œä¸è¿‡å¹´é¾„æƒŠäººï¼Œç¬é—´æ‹‰ä½äº†å…¬å¸çš„å¹³å‡å¹´é¾„ã€‚</p><p>æˆªæ­¢åˆ°17 å¹´1 æœˆä¸­æ—¬ï¼Œ2.0 ç‰ˆæœ¬ç»ˆäºå…¬æµ‹ï¼Œæ–°å¢çš„ä¸¤ä¸ªé¡¹ç›®ä¹Ÿå¯ä»¥æ‹¿å‡ºæ¥å±•ç¤ºï¼Œä½œä¸ºç ”å‘ï¼Œä¸åœ¨æ„è¯„ä»·ï¼Œæœ‰äººå°Šé‡åŠ³åŠ¨æˆæœå°±å¿ƒæ»¡æ„è¶³ã€‚</p><p>ä»¥ä¸Šæ˜¯è¿™ä¸€å¹´çš„å·¥ä½œï¼Œä»£ç æ²¡å°‘äº›ï¼Œåªæ˜¯å¤šäº†å¾ˆå¤šç®¡ç†ç»éªŒä¸Šçš„å­¦ä¹ å’Œå†ç»ƒã€‚</p><h2 id="è¿™ä¸€å¹´çš„å­¦ä¹ "><a href="#è¿™ä¸€å¹´çš„å­¦ä¹ " class="headerlink" title="è¿™ä¸€å¹´çš„å­¦ä¹ "></a>è¿™ä¸€å¹´çš„å­¦ä¹ </h2><p>è¿™å—ä¸œè¥¿å¾ˆå°‘ï¼Œå› ä¸ºå¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨å·¥ä½œå˜›~</p><p>ä¸­é—´æœ‰ä¸€å¤©æ—¶é—´å‚åŠ äº†é¥¿äº†ä¹ˆç§»åŠ¨æŠ€æœ¯åˆ†äº«ï¼Œåœ¨æ­¤ä¹‹å‰ä¹Ÿè®¤è¯†äº†å“åŒå­¦ï¼Œè¿˜æœ‰å†°éœœå’Œå†¬ç“œï¼Œåªè§äº†ä¸€æ¬¡é¢ï¼Œæœ¬äººä¸å–„è¨€è¯­ï¼Œåªæ˜¯å¬ä»–ä»¬èŠå¾—å¤šäº†ä¸€äº›ï¼ŒæŠ€æœ¯åœˆçš„å¾®ä¿¡ç¾¤å’ŒQQ ç¾¤åŠ äº†ä¸å°‘ï¼Œæ¯å¤©éƒ½èƒ½çœ‹åˆ°æœ‰äººé—®æœ‰äººç­”ï¼Œå¶å°”ä¹Ÿä¼šå‚ä¸è®¨è®ºã€‚</p><p>å…·ä½“çš„é¡¹ç›®ä¸­ï¼Œé€æ¸å‰¥ç¦»äº†å„ä¸ªæ¨¡å—ä¹‹é—´çš„è”ç³»ï¼Œæ•°æ®åº“æ–¹é¢ä¹Ÿå°è¯•äº†Realm å’ŒCoreDataï¼Œåšäº†ä¸€äº›æ¯”è¾ƒå’Œåˆ†æï¼Œæœ€åé€‰æ‹©äº†åè€…ã€‚</p><p>å·¥ä½œä¹‹ä½™ä¹Ÿæ­å»ºäº†æŒç»­é›†æˆå¹³å°å’Œè¿œç¨‹æŒç»­ä»£ç å®¡æ ¸å¹³å°ï¼Œè¿™äº›éƒ½æ¯”è¾ƒç®€å•ï¼Œç½‘ä¸Šçš„æ•™ç¨‹çœ‹çš„ç»†è‡´éƒ½ä¸ä¼šå­˜åœ¨ä»€ä¹ˆé—®é¢˜ã€‚</p><p>æ€»ä¹‹ï¼Œå­¦ä¹ çš„å¾ˆæ¬ ç¼ºã€‚</p><h2 id="ä¸‹ä¸€å¹´çš„å°ç›®æ ‡"><a href="#ä¸‹ä¸€å¹´çš„å°ç›®æ ‡" class="headerlink" title="ä¸‹ä¸€å¹´çš„å°ç›®æ ‡"></a>ä¸‹ä¸€å¹´çš„å°ç›®æ ‡</h2><p>å¥æ—å…ˆç”Ÿçš„ç›®æ ‡æˆ‘å¾ˆæ¬£èµï¼Œæ¯”å¦‚å…ˆæŒ£ä»–ä¸€ä¸ªäº¿ã€‚</p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/see-words-as-face/lens-1209823_1920.jpg" alt=""><br></center><ul><li>Swift ä¸€å®šè¦ç©è½¬ï¼Œè‡³å°‘è¦åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨Swift å¼€å‘</li><li>ç»ˆèº«å¤§äº‹è¦å°½æ—©è§£å†³</li><li>è§æ›´å¤šçš„æœ‹å‹</li><li>æƒ…å•†</li></ul><p>2016 å¹´ï¼Œä¹Ÿå¹¶ä¸æ˜¯æ¯«æ— æ”¶è·ï¼Œåº”å½“ä¿æŒæ¿€æƒ…ï¼Œåšå¥½æ¯ä¸€ä»¶äº‹ï¼Œå–„å¾…æ¯ä¸€ä¸ªäººã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è§å­—å¦‚é¢ï¼Œç”šæ˜¯æƒ³å¿µã€‚&lt;br&gt;
    
    </summary>
    
      <category term="word" scheme="https://blog.yuhanle.com/categories/word/"/>
    
    
      <category term="see a word" scheme="https://blog.yuhanle.com/tags/see-a-word/"/>
    
  </entry>
  
  <entry>
    <title>å‡çº§åˆ°Xcode8.3ä¹‹åPackageApplicationçš„é—®é¢˜</title>
    <link href="https://blog.yuhanle.com/2016/12/06/xcrun-error/"/>
    <id>https://blog.yuhanle.com/2016/12/06/xcrun-error/</id>
    <published>2016-12-06T05:03:29.000Z</published>
    <updated>2018-07-05T01:21:04.712Z</updated>
    
    <content type="html"><![CDATA[<p>Xcodeå‡çº§åˆ°8.3å ç”¨å‘½ä»¤è¿›è¡Œæ‰“åŒ… æç¤ºä¸‹é¢è¿™ä¸ªé”™è¯¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcrun: error: unable to find utility &quot;PackageApplication&quot;, not a developer tool or in PATH</span><br></pre></td></tr></table></figure><a id="more"></a><p>åé¢æ ¹æ®å¯¹æ¯”å‘ç°æ–°ç‰ˆçš„Xcodeå°‘äº†è¿™ä¸ªPackageApplication<br>å…ˆå»æ‰¾ä¸ªæ—§ç‰ˆçš„Xcodeé‡Œé¢copyä¸€ä»½è¿‡æ¥<br>æ”¾åˆ°ä¸‹é¢è¿™ä¸ªç›®å½•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œå‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo xcode-select -switch /Applications/Xcode.app/Contents/Developer/</span><br><span class="line">chmod +x /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/PackageApplication</span><br></pre></td></tr></table></figure><p>æœ€åé™„ä¸ŠPackageApplicationä¸‹è½½åœ°å€ï¼š</p><blockquote><p>é“¾æ¥:<a href="https://pan.baidu.com/s/1hstjpGS" target="_blank" rel="noopener">https://pan.baidu.com/s/1hstjpGS</a>  å¯†ç :jvdv</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Xcodeå‡çº§åˆ°8.3å ç”¨å‘½ä»¤è¿›è¡Œæ‰“åŒ… æç¤ºä¸‹é¢è¿™ä¸ªé”™è¯¯&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;xcrun: error: unable to find utility &amp;quot;PackageApplication&amp;quot;, not a developer tool or in PATH&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://blog.yuhanle.com/categories/iOS/"/>
    
    
      <category term="update" scheme="https://blog.yuhanle.com/tags/update/"/>
    
      <category term="error" scheme="https://blog.yuhanle.com/tags/error/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•è®¾è®¡æ‰«ä¸€æ‰«åŠŸèƒ½æ‰èƒ½æ›´ä¼˜é›…</title>
    <link href="https://blog.yuhanle.com/2016/12/04/design-scan-function/"/>
    <id>https://blog.yuhanle.com/2016/12/04/design-scan-function/</id>
    <published>2016-12-04T00:00:00.000Z</published>
    <updated>2018-07-05T01:17:10.148Z</updated>
    
    <content type="html"><![CDATA[<p>å½“å‰äºŒç»´ç åœ¨ç”Ÿæ´»ä¸­éšå¤„å¯è§ï¼Œä»–çš„åŠŸèƒ½æ— éœ€å¤šè¨€ï¼Œå½»åº•çš„æ”¹å˜äº†æ¶ˆè´¹è€…çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæå‡äº†ç”¨æˆ·çš„æ“ä½œä½“éªŒï¼ŒåŒæ—¶ä¹Ÿæ‹‰è¿‘äº†äººä¸äººï¼Œäººä¸ç‰©ä¹ƒè‡³ç‰©ä¸ç‰©ä¹‹é—´çš„è·ç¦»<a id="more"></a>ã€‚</p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/Elegant-design-scan-function/Thematic1.jpg" alt="Thematic"><br></center><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>æ­£å¦‚é¢˜å›¾ï¼Œå½“å‰äºŒç»´ç åœ¨ç”Ÿæ´»ä¸­éšå¤„å¯è§ï¼Œä»–çš„åŠŸèƒ½æ— éœ€å¤šè¨€ï¼Œå½»åº•çš„æ”¹å˜äº†æ¶ˆè´¹è€…çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæå‡äº†ç”¨æˆ·çš„æ“ä½œä½“éªŒï¼ŒåŒæ—¶ä¹Ÿæ‹‰è¿‘äº†äººä¸äººï¼Œäººä¸ç‰©ä¹ƒè‡³ç‰©ä¸ç‰©ä¹‹é—´çš„è·ç¦»ã€‚</p><p>äºŒç»´ç çš„ä½¿ç”¨åœºæ™¯å¾ˆå¤šï¼Œæ¯”å¦‚æ·»åŠ å¥½å‹ï¼Œå…³æ³¨å…¬ä¼—å·ï¼Œç§»åŠ¨æ”¯ä»˜ï¼Œè¿˜æœ‰å¾ˆå¤šçš„æŸæŸæ´»åŠ¨å…¥å£ï¼Œç”¨æˆ·æ— éœ€è®°ä½å¤ªå¤šä¿¡æ¯ï¼Œæ‹¿å‡ºæ‰‹æœºï¼Œè½»è½»çš„æ‰«ä¸€æ‰«å¯¹æ–¹çš„èµ„æ–™å°±èƒ½å®Œæˆæ“ä½œï¼›ç§»åŠ¨æ”¯ä»˜æ—¶ä»£ï¼Œä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŠŸèƒ½çš„ä¾¿æ·ï¼Œæ‰èƒ½å‘å±•çš„æ›´æ™®éï¼Œå‰èµ·æ‰‹æ¥ä¹Ÿå°±ä¸€ç¬é—´ï¼›åœ¨å•†å®¶ä¸¾åŠçš„å¾ˆå¤šæ´»åŠ¨ä¸­ï¼Œåªéœ€è¦æä¾›ä¸€ä¸ªäºŒç»´ç å›¾ç‰‡ï¼Œå†é€šè¿‡æœ‹å‹åœˆç­‰ç¤¾äº¤åª’ä½“çš„ç–¯ç‹‚è½¬å‘ï¼Œäº¿ä¸‡ç”¨æˆ·éƒ½èƒ½ä¸å•†å®¶é›¶è·ç¦»å‚ä¸æ´»åŠ¨ï¼Œæ¥ç€äºŒæ¬¡åˆ†äº«ï¼Œä»è€Œç»™å•†å®¶å¸¦æ¥è¹­è¹­è¹­çš„æµé‡ã€‚</p><p>ç„¶è€Œï¼Œä»¥ä¸Šçš„ç§ç§ä¾¿æ·ï¼Œéƒ½ç¦»ä¸å¼€æ‰«ä¸€æ‰«è¿™ä¸ªåŠŸèƒ½ã€‚ä¸‹é¢ï¼Œæœ¬äººå°±ç«™åœ¨ä¸€ä¸ªåˆšåˆšæ¥è§¦æ­¤è¡Œä¸šçš„åŸºç¡€ä¸Šï¼Œè·Ÿå¤§å®¶èŠä¸€èŠæˆ‘è„‘è¢‹é‡Œçš„æ‰«ä¸€æ‰«æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼ˆå¦‚æœ‰éè®®ï¼Œè¯·è‰¾ç‰¹æˆ‘ï¼‰ã€‚</p><h2 id="æ­£æ­£æ­£æ–‡"><a href="#æ­£æ­£æ­£æ–‡" class="headerlink" title="æ­£æ­£æ­£æ–‡"></a>æ­£æ­£æ­£æ–‡</h2><h3 id="å¸‚åœºä¸Šä¸»å¯¼åº”ç”¨æ˜¯å¦‚ä½•åšçš„"><a href="#å¸‚åœºä¸Šä¸»å¯¼åº”ç”¨æ˜¯å¦‚ä½•åšçš„" class="headerlink" title="å¸‚åœºä¸Šä¸»å¯¼åº”ç”¨æ˜¯å¦‚ä½•åšçš„"></a>å¸‚åœºä¸Šä¸»å¯¼åº”ç”¨æ˜¯å¦‚ä½•åšçš„</h3><p>æƒ³å¿…æ¥è§¦è¿™ä¸ªè¡Œä¸šçš„äº§å“å’Œå¼€å‘äººå‘˜éƒ½äº†è§£ï¼Œæ— è®ºä»€ä¹ˆåº”ç”¨ï¼Œè¿™å—çš„åŠŸèƒ½åº”è¯¥éƒ½æ˜¯å¤§å·®ä¸å·®ï¼Œæ¡æ¡å¤§è·¯é€šç½—é©¬ï¼Œä½†å…¶ä¸­çš„è§„åˆ™ï¼Œåº”è¯¥éƒ½æ˜¯ç»Ÿä¸€çš„ã€‚</p><p>é‚£æˆ‘åœ¨è¿™é‡Œå°±ç­é—¨å¼„æ–§ï¼Œé¡ºä¾¿ä½“éªŒä¸€ä¸‹å¾®ä¿¡çš„æ‰«ä¸€æ‰«åŠŸèƒ½ã€‚</p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/Elegant-design-scan-function/wechat_qrcode_meitu_1.png" alt="è¯¥äºŒç»´ç å›¾ç‰‡ç”±å¾®ä¿¡APPæä¾›" title="è¯¥äºŒç»´ç å›¾ç‰‡ç”±å¾®ä¿¡APPæä¾›"><br></center><center><br>è¯¥äºŒç»´ç å›¾ç‰‡ç”±å¾®ä¿¡APPæä¾›<br></center><p><b>1. å…ˆçœ‹ä¸€ä¸‹å¾®ä¿¡æ‰«æç»“æœ</b></p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/Elegant-design-scan-function/wechat_result_meitu_2.png" alt="è¯¥å›¾ç‰‡ç”±å¾®ä¿¡APPæä¾›" title="è¯¥å›¾ç‰‡ç”±å¾®ä¿¡APPæä¾›"><br></center><center><br>è¯¥å›¾ç‰‡ç”±å¾®ä¿¡APPæä¾›<br></center><p>è¿™é‡Œå› ä¸ºæ˜¯æœ¬äººçš„äºŒç»´ç ï¼Œæ‰€ä»¥ä¸‹é¢æ˜¾ç¤ºçš„æ“ä½œæ˜¯<code>å‘æ¶ˆæ¯</code>ï¼Œå¦‚æœæ˜¯é™Œç”Ÿäººçš„äºŒç»´ç ï¼Œå°±æ˜¯<code>æ·»åŠ åˆ°é€šè®¯å½•</code>ã€‚è¿™é‡Œå¯ä»¥çŸ¥é“ï¼Œæ‰«æè¿™ä¸ªäºŒç»´ç çš„æ“ä½œï¼Œå°±æ˜¯æŸ¥çœ‹è¯¥ç”¨æˆ·çš„ä¸ªäººèµ„æ–™ã€‚é‚£è¿™ä¸ªäºŒç»´ç é‡Œç©¶ç«Ÿè—æœ‰ä»€ä¹ˆä¿¡æ¯ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶ä»–å·¥å…·æ‰«æä¸€ä¸‹ç»“æœã€‚</p><p><b>2. çœ‹ä¸€ä¸‹è‰æ–™æ‰«æç»“æœ</b></p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/Elegant-design-scan-function/cli_result.png" alt="è¯¥å›¾ç‰‡ç”±è‰æ–™äºŒç»´ç æä¾›" title="è¯¥å›¾ç‰‡ç”±è‰æ–™äºŒç»´ç æä¾›"><br></center><center><br>è¯¥å›¾ç‰‡ç”±è‰æ–™äºŒç»´ç æä¾›<br></center><p>å¾ˆæ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸€ä¸ªhttp çš„url é“¾æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://weixin.qq.com/r/35zcxLnE_uSFrf2n98nN</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹è¿™url çš„å¤§æ¦‚å‚æ•°ï¼Œä¸‹é¢ç”¨ä¸€ä¸ªè¡¨æ ¼æ¥è¯´æ˜ï¼š</p><table><thead><tr><th>å‚æ•°</th><th style="text-align:center">ç±»å‹</th><th style="text-align:right">è¯´æ˜</th></tr></thead><tbody><tr><td><a href="http://weixin.qq.com" target="_blank" rel="noopener">http://weixin.qq.com</a></td><td style="text-align:center">String</td><td style="text-align:right">åŸŸå</td></tr><tr><td>r</td><td style="text-align:center">String</td><td style="text-align:right">çœ‹èµ·æ¥æ˜¯è·¯ç”± è¡¨ç¤ºè¦æŸ¥çœ‹èµ„æ–™</td></tr><tr><td>35zcxLnE_uSFrf2n98nN</td><td style="text-align:center">String</td><td style="text-align:right">çœ‹èµ·æ¥æ˜¯åŠ å¯†åçš„èƒ½æ ‡è¯†ç”¨æˆ·å”¯ä¸€å±æ€§</td></tr></tbody></table><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ä¸ªurl æ˜¯çœŸå®å¯ä»¥è®¿é—®çš„ï¼Œé€šè¿‡ç”µè„‘æ‰“å¼€ä¼šç›´æ¥è·³è½¬åˆ°å®˜æ–¹ç½‘ç«™ã€‚å¯èƒ½ä¼šæœ‰å¾ˆå¤šäººï¼ˆåŒ…æ‹¬æˆ‘ä»¬çš„QAäººå‘˜ï¼‰æå‡ºç–‘é—®ï¼Œå¦‚æ­¤ç®€å•çš„ä¸€ä¸ªæ‰«ç æŸ¥çœ‹èµ„æ–™çš„åŠŸèƒ½ï¼Œä¸ºä»€ä¹ˆè¦åšæˆä¸€ä¸ªå¤æ‚é€»è¾‘çš„url è¶…é“¾æ¥å‘¢ï¼Ÿ</p><p><b>3. UC æ‰«ç ç»“æœ</b></p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/Elegant-design-scan-function/uc_result.png" alt="è¯¥å›¾ç‰‡ç”±UCæä¾›" title="è¯¥å›¾ç‰‡ç”±UCæä¾›"><br></center><center><br>è¯¥å›¾ç‰‡ç”±UCæä¾›<br></center><p>ä»¥ä¸Šæ˜¯UC æµè§ˆå™¨æ‰«ç çš„ç»“æœï¼ŒåŒæ ·æ˜¯è·³è½¬åˆ°å¾®ä¿¡å®˜ç½‘ï¼Œä½†æ˜¯ä¸ä¹‹ä¸åŒçš„æ˜¯ï¼Œç´§æ¥ç€ç›´æ¥æ‰“å¼€å¾®ä¿¡APPï¼ˆå¦‚æœå®‰è£…å¾®ä¿¡çš„è¯ï¼‰ï¼Œå¦åˆ™å°±è·³åˆ°åº”ç”¨å¸‚åœºå‘ŠçŸ¥ç”¨æˆ·ä¸‹è½½å¾®ä¿¡APPã€‚é‚£è¿™é‡Œå°±å¯ä»¥å¾ˆå¥½çš„è§£é‡Šä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆäºŒç»´ç çš„æ‰«æç»“æœä½¿ç”¨url è¶…é“¾æ¥ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥æ›´å¥½ä½“éªŒçš„å¼•å¯¼ç”¨æˆ·ï¼Œä»è€Œæå‡è‡ªèº«äº§å“çš„æµé‡ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç®¡ä½ é€šè¿‡ä½•ç§æ–¹å¼ï¼Œä»€ä¹ˆåº”ç”¨æ‰«ç ï¼Œå¯¹äºç”¨æˆ·æ¥è®²ï¼Œä½ å¯ä»¥å¾ˆå¿«é€Ÿå¾ˆç›´è§‚çš„äº†è§£åˆ°ä½ æ‰«æçš„ä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Œä¸å†æ˜¯äºŒç»´ç å®é™…æ„ä¹‰ä¸Šçš„ä¸€æ®µå­—ç¬¦ï¼Œä»äº§å“çš„è§’åº¦æ¥è¯´ï¼Œä¹Ÿèƒ½å¤Ÿä¿è¯è¿™å—çš„ç”¨æˆ·æµé‡æµå¤±å‡å°‘ï¼Œæ“ä½œä½“éªŒä¸Šä¹Ÿæœ‰å¾ˆå¤§çš„æå‡ã€‚</p><h3 id="æˆ‘ä»¬çš„åº”ç”¨è¯¥å¦‚ä½•è®¾è®¡"><a href="#æˆ‘ä»¬çš„åº”ç”¨è¯¥å¦‚ä½•è®¾è®¡" class="headerlink" title="æˆ‘ä»¬çš„åº”ç”¨è¯¥å¦‚ä½•è®¾è®¡"></a>æˆ‘ä»¬çš„åº”ç”¨è¯¥å¦‚ä½•è®¾è®¡</h3><p>é‚£è¿™ä¸ªï¼Œè·Ÿäº§å“æœ¬èº«çš„éœ€æ±‚æœ‰å¾ˆå¤§å…³ç³»ï¼Œä½†æ˜¯å¼€å‘çš„æ€è·¯å’Œé€»è¾‘éƒ½æ˜¯ç»Ÿä¸€çš„ï¼Œç±»ä¼¼å¾®ä¿¡è¿™ç§è¶…çº§APPï¼Œæœ‰å„ç§ç‰›äººé›†æ€å¹¿ç›Šï¼Œé¡¹ç›®ä¸­åº”è¯¥æ˜¯ä¼šå„ç§ç»„ä»¶åŒ–ï¼Œæ¨¡å—åŒ–çš„è®¾è®¡ï¼Œæ‹¿ä¸€ä¸ªç®€å•çš„æ‰«ä¸€æ‰«åŠŸèƒ½æ¥è¯´ï¼Œä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œåœ¨ä»–çš„åŠŸèƒ½ä»¥åŠå’Œå…¶ä»–æ¨¡å—ä¹‹é—´çš„è€¦åˆæ€§æ¥è¯´ï¼Œè‚¯å®šæ˜¯å€¼å¾—æˆ‘ä»¬å€Ÿé‰´å’Œå­¦äº›çš„ï¼Œå½“ç„¶æˆ‘æ²¡æœ‰æ‰¾åˆ°ä»»ä½•ç›¸å…³èµ„æ–™ï¼Œä¸‹é¢åªèƒ½æŒ‰ç…§è¿‘æœŸçš„é¡¹ç›®æ¥èŠèŠæˆ‘æ˜¯å¦‚ä½•å¤„ç†çš„ã€‚</p><p><b>1. äºŒç»´ç æ‰«æçš„ç»“æœå¿…å®šæ˜¯ä¸€ä¸ªå¯ä»¥è®¿é—®çš„è¶…é“¾æ¥</b></p><p>è¿™ä¸ªåº”è¯¥æ˜¯æ²¡äººåé©³çš„ã€‚</p><p>ä¹‹æ‰€ä»¥è¿™ä¹ˆå®šä¹‰ï¼Œæœ‰ä¸¤ç‚¹ä¼˜åŠ¿ã€‚ç¬¬ä¸€ï¼Œç”¨æˆ·ä½“éªŒå’Œå¯¼æµä¸Šï¼Œå¯ä»¥åšåˆ°æ›´å¥½ï¼Œå…·ä½“ä¸Šé¢çš„åˆ†æä¸­ä¹Ÿæåˆ°ï¼Œå°±ä¸å†èµ˜è¿°ï¼›ç¬¬äºŒï¼Œåœ¨ç ”å‘ä¸Šï¼Œé€šè¿‡è¶…é“¾æ¥ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†åŠŸèƒ½é›†æˆåˆ°æˆ‘ä»¬çš„è·¯ç”±æ¨¡å—ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿæœ‰å…¶ä»–çš„æ–¹æ³•ï¼Œä¸è¿‡ä¹ŸåŒæ ·æ˜¯ä¸ºäº†å¤„ç†æ‰«ç ç»“æœæ¥å®šä¹‰çš„ã€‚</p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/Elegant-design-scan-function/router.001.png" alt="è·¯ç”±æ¨¡å—çš„è€¦åˆè®¾è®¡" title="è·¯ç”±æ¨¡å—çš„è€¦åˆè®¾è®¡"><br><br></center><center><br>è·¯ç”±æ¨¡å—çš„è€¦åˆè®¾è®¡<br></center><p>ä¸Šå›¾ä¸­ï¼Œæ‰«ä¸€æ‰«åŠŸèƒ½é€šè¿‡è¶…é“¾æ¥çš„å½¢å¼ï¼Œå¯ä»¥ç›´æ¥æ•´åˆåˆ°è·¯ç”±æ¨¡å—ä¸­ï¼Œ<b>é€šè¿‡scheme çš„æ–¹å¼ï¼Œå…ˆå°†åŸŸå æ›¿æ¢æˆ è‡ªå®šä¹‰çš„schemeï¼Œå¦‚æœè·¯ç”±æ¨¡å—å¯ä»¥å¤„ç†å°±ä¸¢è¿‡å»å¤„ç†ï¼Œä¸èƒ½å¤„ç†çš„æƒ…å†µä¸‹ï¼Œå°±é€šè¿‡APP å†…éƒ¨çš„æµè§ˆå™¨æ‰“å¼€è¯¥é“¾æ¥ï¼Œå…¶ä»–é€»è¾‘çš„æ“ä½œå°±ä¸¢ç»™web é¡µé¢å¤„ç†ï¼Œæ¯”å¦‚å¼•å¯¼ç”¨æˆ·åˆ°å®˜ç½‘ï¼Œæé†’ç”¨æˆ·ä¸‹è½½åº”ç”¨</b>ï¼Œç­‰ä¸€äº›é”™è¯¯çš„å¤„ç†ã€‚</p><p><b>2.ä¸ºäº†æ›´å¥½åœ°å…¼å®¹æ‰«ç åŠŸèƒ½ï¼Œåšä¸€äº›ä¼˜åŒ– </b></p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/Elegant-design-scan-function/router.002.png" alt="è·¯ç”±æ¨¡å—çš„æ‰«ç åŠŸèƒ½ä¼˜åŒ–" title="è·¯ç”±æ¨¡å—çš„æ‰«ç åŠŸèƒ½ä¼˜åŒ–"><br></center><center>è·¯ç”±æ¨¡å—çš„æ‰«ç åŠŸèƒ½ä¼˜åŒ–</center><p>è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠä¸€äº›é€šç”¨çš„å¤„ç†æ“ä½œï¼Œé€šè¿‡ç±»åˆ«æˆ–è€…ä»£ç†åè®®çš„æ–¹æ³•ï¼ŒæŒ‰åŠŸèƒ½åˆ†åˆ«æ·»åŠ åˆ°è·¯ç”±æ¨¡å—ä¸­ï¼Œè¿™ç§ä¼˜åŒ–ä¸ä»…ä¼˜åŒ–äº†æ‰«ä¸€æ‰«çš„åŠŸèƒ½ï¼Œä¹ŸåŒæ—¶ä¼˜åŒ–äº†å…¶ä»–å„æ¨¡å—ä½¿ç”¨è·¯ç”±æ¨¡å—çš„é€»è¾‘ã€‚</p><h3 id="é‚£æˆ‘ä»¬å¯ä»¥å¼€å§‹ç€æ‰‹ç ”å‘äº†"><a href="#é‚£æˆ‘ä»¬å¯ä»¥å¼€å§‹ç€æ‰‹ç ”å‘äº†" class="headerlink" title="é‚£æˆ‘ä»¬å¯ä»¥å¼€å§‹ç€æ‰‹ç ”å‘äº†"></a>é‚£æˆ‘ä»¬å¯ä»¥å¼€å§‹ç€æ‰‹ç ”å‘äº†</h3><h4 id="é€‚ç”¨ç¯å¢ƒ"><a href="#é€‚ç”¨ç¯å¢ƒ" class="headerlink" title="é€‚ç”¨ç¯å¢ƒ"></a>é€‚ç”¨ç¯å¢ƒ</h4><p>Webæˆ–å…¶ä»–åº”ç”¨è°ƒç”¨XXXåº”ç”¨ç‰¹å®šåŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ç”¨äºåº”ç”¨å†…éƒ¨åŠŸèƒ½è·³è½¬</p><h4 id="æ”¯æŒç³»ç»Ÿ"><a href="#æ”¯æŒç³»ç»Ÿ" class="headerlink" title="æ”¯æŒç³»ç»Ÿ"></a>æ”¯æŒç³»ç»Ÿ</h4><p>iOSï¼ŒAndroidï¼ŒH5</p><p>å¦‚æœ‰å› ç³»ç»Ÿç‰¹æ€§å¯¼è‡´çš„ä¸ä¸€è‡´ï¼Œåœ¨åè®®ä¸­è¯¦ç»†åˆ—å‡º</p><h4 id="è°ƒç”¨æ–¹å¼"><a href="#è°ƒç”¨æ–¹å¼" class="headerlink" title="è°ƒç”¨æ–¹å¼"></a>è°ƒç”¨æ–¹å¼</h4><h5 id="Webç«¯"><a href="#Webç«¯" class="headerlink" title="Webç«¯"></a>Webç«¯</h5><p><a href="http://appwebv2.xxx.cn/" target="_blank" rel="noopener">http://appwebv2.xxx.cn/</a><action>/?parms (å¼€å‘æµ‹è¯•ç¯å¢ƒä¸ºappwebv2test.xxx.cn)</action></p><h5 id="Appç«¯"><a href="#Appç«¯" class="headerlink" title="Appç«¯"></a>Appç«¯</h5><p>xxxapp://<action>/?params</action></p><p>Web è°ƒç”¨ç«¯éœ€è¦å…ˆåˆ¤æ–­XXXåº”ç”¨æ˜¯å¦å·²ç»å®‰è£…<br>å¦‚å·²å®‰è£…ï¼Œåˆ™é€šè¿‡xxxapp://è°ƒç”¨<br>å¦‚æœªå®‰è£…ï¼Œè§†å®é™…å®šä¹‰åŠåŠŸèƒ½ï¼Œé€šè¿‡webè°ƒç”¨æˆ–è€…æç¤ºç”¨æˆ·ä¸‹è½½åº”ç”¨</p><p>App ç«¯éœ€è¦å…ˆé€šè¿‡xxxapp:// è·¯ç”±</p><p>å¦‚æœæœ¬åœ°å·²ç»æ³¨å†Œï¼Œç»§ç»­æ‰§è¡Œ</p><p>æ²¡æœ‰æ³¨å†Œï¼Œç›´æ¥é€šè¿‡åº”ç”¨å†…æµè§ˆå™¨æ‰“å¼€ Web é¡µé¢ï¼ˆéœ€è¦åŒ¹é…æ¨¡æ¿å¡«å……å¿…è¦å‚æ•°ï¼‰</p><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><p><a href="http://appwebv2.xxx.cn/action/bind/bike/{bikeid}/" target="_blank" rel="noopener">http://appwebv2.xxx.cn/action/bind/bike/{bikeid}/</a>?<font color="red">appversion={version}&amp;platform={platform}&amp;xxxkey={xxxkey}</font></p><p>é“¾æ¥å‰åŠéƒ¨åˆ†ï¼Œç”±æœåŠ¡å™¨ç”Ÿæˆï¼Œåé¢çº¢è‰²éƒ¨åˆ†å‚æ•°éœ€è¦å®¢æˆ·ç«¯åœ¨ä¸èƒ½æ­£å¸¸é€šè¿‡è·¯ç”±æ‰“å¼€è¯¥åŠŸèƒ½ï¼Œè°ƒç”¨æµè§ˆå™¨æ—¶æ‹¼æ¥åœ¨ url é‡Œã€‚</p><p>åé¢çº¢è‰²éƒ¨åˆ†å‚æ•°ï¼Œæ ¹æ®æœåŠ¡å™¨çš„æ¨¡æ¿é“¾æ¥åŒ¹é…å¡«å……ï¼Œç„¶åç”ŸæˆäºŒç»´ç å±•ç¤ºã€‚</p><h5 id="å¿…è¦å‚æ•°"><a href="#å¿…è¦å‚æ•°" class="headerlink" title="å¿…è¦å‚æ•°"></a>å¿…è¦å‚æ•°</h5><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>action/</td><td>Router</td><td>æ­¤è·¯ç”±æ˜¯action è¡¨ç¤ºè¯¥é“¾æ¥æ˜¯è¦å®ç°æŸåŠŸèƒ½</td></tr><tr><td>bind</td><td>String</td><td>è¡¨ç¤ºç»‘å®šçš„æ“ä½œ</td></tr><tr><td>bike</td><td>String</td><td>è¡¨ç¤ºè¦ç»‘å®šçš„æ˜¯è½¦</td></tr><tr><td>bikeid</td><td>String</td><td>éœ€è¦å¤„ç†çš„å‚æ•°</td></tr></tbody></table><h3 id="åŠŸèƒ½å·²ç»å®ç°"><a href="#åŠŸèƒ½å·²ç»å®ç°" class="headerlink" title="åŠŸèƒ½å·²ç»å®ç°"></a>åŠŸèƒ½å·²ç»å®ç°</h3><p>æŒ‰ç…§ä¸Šé¢çš„å®šä¹‰å’Œé€»è¾‘ï¼Œæ‰«ä¸€æ‰«çš„åŠŸèƒ½å·²ç»å¯ä»¥æ®æ­¤å®šä¹‰ç Œç –å®ç°ã€‚å¯¹äºè·¯ç”±çš„åŠŸèƒ½ï¼Œå¯ä»¥æœ¬åœ°å®ç°ï¼Œä¹Ÿå¯ä»¥åƒè˜‘è‡è¡—é‚£æ ·ï¼Œé€šè¿‡åå°çš„é…ç½®å¯ä»¥éšæ—¶æ›´æ”¹å¤„ç†æ“ä½œã€‚</p><p>äºæ˜¯ï¼Œweb ç«¯å‡†å¤‡äº†ä¸€ä¸ªé¡µé¢ï¼Œè¶…é“¾æ¥æ˜¯ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://appwebv2.xxx.cn/action/bind/bike</span><br></pre></td></tr></table></figure><p>ç”ŸæˆäºŒç»´ç ä¹‹å‰ï¼ŒæœåŠ¡ç«¯ç»™äº†ä½ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå†…å®¹æ˜¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://appwebv2.xxx.cn/action/bind/bike/11234/?appversion=&#123;version&#125;&amp;platform=&#123;platform&#125;&amp;xxxkey=&#123;xxxkey&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯æ ¹æ®å­—ç¬¦ä¸²ï¼Œé€šè¿‡åŒ¹é…å’Œå¡«å……ï¼Œç”Ÿæˆä¸€ä¸ªäºŒç»´ç </p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/Elegant-design-scan-function/qr_result.png" alt="ç”ŸæˆäºŒç»´ç " title="ç”ŸæˆäºŒç»´ç "><br></center><center>ç”ŸæˆäºŒç»´ç </center><p>äºŒç»´ç çš„å®é™…ç»“æœå°±æ˜¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://appwebv2.xxx.cn/action/bind/bike/11234/?appversion=V1.0&amp;platform=iOS&amp;xxxkey=3a10362d077cd27b5f2c537e1ff2fc48</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œé€šè¿‡XXX åº”ç”¨æ‰«ç ï¼Œå°±ä¼šè°ƒç”¨æ·»åŠ è½¦è¾†çš„åŠŸèƒ½ã€‚<br>é€šè¿‡ç¬¬ä¸‰æ–¹APP æ‰«ç çš„è¯ï¼Œä¼šå…ˆæ‰“å¼€æµè§ˆå™¨ï¼Œweb é¡µé¢ä¼šå†é€šè¿‡ç³»ç»Ÿæ–¹æ³•å…ˆå°è¯•è°ƒç”¨XXX åº”ç”¨ï¼Œå¦‚æœä¸èƒ½è°ƒèµ·ï¼Œå°±æé†’ç”¨æˆ·å»å•†åº—ä¸‹è½½ï¼Œå¦‚æœèƒ½è°ƒèµ·åº”ç”¨ï¼ŒXXX åº”ç”¨åœ¨å¯åŠ¨ä»¥åï¼Œé€šè¿‡è·¯ç”±æ¨¡å—å¤„ç†ï¼Œé¦–å…ˆè·³è½¬åˆ°æ‰«ä¸€æ‰«ç•Œé¢ï¼Œç„¶åè°ƒç”¨æ·»åŠ è½¦è¾†çš„åŠŸèƒ½ï¼Œå¦‚æœè·¯ç”±æ— æ³•å¤„ç†è¿™ä¸ªhttp è¶…é“¾æ¥ï¼Œå°±ä¼šè°ƒç”¨æµè§ˆå™¨å†åŠ è½½è¿™ä¸ªweb é¡µé¢ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘è„‘æµ·é‡Œèƒ½æƒ³åˆ°çš„åŸºæœ¬åˆ†æå®Œäº†ï¼Œå¦‚æœæœ‰æ›´å¥½çš„æƒ³æ³•æˆ–å»ºè®®ï¼Œè¯·è‰¾ç‰¹æˆ‘~ æ–°æµªå¾®åšï¼š<a href="http://weibo.com/2621837475/profile?topnav=1&amp;wvr=6&amp;is_all=1" target="_blank" rel="noopener">ç…œå¯’äº†</a></p><p>é™„ï¼š<br>æ–‡ä¸­æ’å…¥çš„å¾®ä¿¡æ˜¯æœ¬äººçš„ï¼Œå¤„äºéƒ¨åˆ†åŸå› ï¼ŒåŠ äº†é©¬èµ›å…‹ï¼Œä¸èƒ½æ‰«ææ·»åŠ ã€‚å¦‚æœ‰å…´è¶£æ·»åŠ å¥½å‹çš„æœ‹å‹ï¼Œè¯·å…³æ³¨å¾®ä¿¡å…¬ä¼—å·Neanotherï¼Œå›å¤<code>æˆ‘ä»æ˜é‡‘æ¥</code>å³å¯æ”¶åˆ°æˆ‘çš„æ‰€æœ‰è”ç³»æ–¹å¼å“¦~</p><center><br><img src="http://7xqhcq.com1.z0.glb.clouddn.com/Elegant-design-scan-function/nenshuo.jpeg" alt="æè¯´äºŒç»´ç " title="æè¯´äºŒç»´ç "><br></center><center>æè¯´äºŒç»´ç </center>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å½“å‰äºŒç»´ç åœ¨ç”Ÿæ´»ä¸­éšå¤„å¯è§ï¼Œä»–çš„åŠŸèƒ½æ— éœ€å¤šè¨€ï¼Œå½»åº•çš„æ”¹å˜äº†æ¶ˆè´¹è€…çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œæå‡äº†ç”¨æˆ·çš„æ“ä½œä½“éªŒï¼ŒåŒæ—¶ä¹Ÿæ‹‰è¿‘äº†äººä¸äººï¼Œäººä¸ç‰©ä¹ƒè‡³ç‰©ä¸ç‰©ä¹‹é—´çš„è·ç¦»
    
    </summary>
    
      <category term="mobile" scheme="https://blog.yuhanle.com/categories/mobile/"/>
    
    
      <category term="scan" scheme="https://blog.yuhanle.com/tags/scan/"/>
    
  </entry>
  
</feed>
